"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[535],{38535:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ka}});t(26699);var s=t(73396),l=t(87139);const n=e=>((0,s.dD)("data-v-5e370b5e"),e=e(),(0,s.Cn)(),e),i={key:0,class:"history"},o={class:"title-section"},d=n((()=>(0,s._)("h3",null,"Palpites",-1))),r={class:"status-area"},c={class:"tickets-container"},u={key:1},_={key:0,class:"ticket-header"},p={key:0},h=n((()=>(0,s._)("div",{style:{display:"flex"}},[(0,s._)("span",null," Cancelado   ")],-1))),v=[h],m={key:1},g=n((()=>(0,s._)("div",{style:{display:"flex"}},[(0,s._)("span",null," Pendente   ")],-1))),k=[g],w={key:2},y={style:{display:"flex"}},f=n((()=>(0,s._)("span",{style:{color:"#39d446"}}," Ganhou   ",-1))),b={key:3},C={style:{display:"flex"}},D=n((()=>(0,s._)("span",{style:{color:"red"}}," Perdeu   ",-1))),x=["onClick"],z=n((()=>(0,s._)("i",{class:"fas fa-ban"},null,-1))),q=[z],T=["onClick"],S=n((()=>(0,s._)("i",{class:"far fa-chevron-down"},null,-1))),F=[S],N={key:1,class:"ticket-header"},J={key:0},O=n((()=>(0,s._)("div",{style:{display:"flex"}},[(0,s._)("span",null," Cancelado   ")],-1))),P=[O],A={key:1},V=n((()=>(0,s._)("div",{style:{display:"flex"}},[(0,s._)("span",null," Pendente   ")],-1))),j=[V],U={key:2},Y={style:{display:"flex"}},Z=n((()=>(0,s._)("span",{style:{color:"#39d446"}}," Ganhou   ",-1))),$={key:3},G={style:{display:"flex"}},L=n((()=>(0,s._)("span",{style:{color:"red"}}," Perdeu   ",-1))),B=["onClick"],E=n((()=>(0,s._)("i",{class:"fas fa-ban"},null,-1))),H=[E],I=["onClick"],W=n((()=>(0,s._)("i",{class:"far fa-chevron-down"},null,-1))),K=[W],M={key:2,class:"ticket-header"},R={key:0},Q=n((()=>(0,s._)("div",{style:{display:"flex"}},[(0,s._)("span",null," Cancelado   ")],-1))),X=[Q],ee={key:1},ae=n((()=>(0,s._)("div",{style:{display:"flex"}},[(0,s._)("span",null," Pendente   ")],-1))),te=[ae],se={key:2},le={style:{display:"flex"}},ne=n((()=>(0,s._)("span",{style:{color:"#39d446"}}," Ganhou   ",-1))),ie={key:3},oe={style:{display:"flex"}},de=n((()=>(0,s._)("span",{style:{color:"red"}}," Perdeu   ",-1))),re=["onClick"],ce=n((()=>(0,s._)("i",{class:"fas fa-ban"},null,-1))),ue=[ce],_e=["onClick"],pe=n((()=>(0,s._)("i",{class:"far fa-chevron-down"},null,-1))),he=[pe],ve={key:3,class:"ticket-summary"},me=n((()=>(0,s._)("span",null,"Data",-1))),ge=n((()=>(0,s._)("span",null,"Rodada",-1))),ke=n((()=>(0,s._)("span",null,"Cód.",-1))),we=n((()=>(0,s._)("span",null,"Apostado",-1))),ye={key:0},fe=n((()=>(0,s._)("span",null,"Prêmio",-1))),be={key:4,class:"ticket-summary"},Ce=n((()=>(0,s._)("span",null,"Data",-1))),De=n((()=>(0,s._)("span",null,"Concurso",-1))),xe=n((()=>(0,s._)("span",null,"Cód.",-1))),ze=n((()=>(0,s._)("span",null,"Apostado",-1))),qe={key:0},Te=n((()=>(0,s._)("span",null,"Prêmio",-1))),Se={key:5,class:"ticket-summary"},Fe=n((()=>(0,s._)("span",null,"Data",-1))),Ne={key:0},Je=n((()=>(0,s._)("span",null,"Extração",-1))),Oe={key:1},Pe=n((()=>(0,s._)("span",null,"Concurso",-1))),Ae=n((()=>(0,s._)("span",null,"Cód.",-1))),Ve=n((()=>(0,s._)("span",null,"Apostado",-1))),je={key:2},Ue=n((()=>(0,s._)("span",null,"Prêmio",-1))),Ye=["id"],Ze={class:"ticket-game"},$e=["id"],Ge={class:"ticket-game"},Le=["id"],Be=n((()=>(0,s._)("h2",{style:{"align-self":"center","margin-top":"10px","margin-bottom":"10px"}},"Resultado",-1))),Ee={class:"instant-result"},He={class:"result-item"},Ie=n((()=>(0,s._)("span",null,"1º",-1))),We={class:"result-item"},Ke=n((()=>(0,s._)("span",null,"2º",-1))),Me={class:"result-item"},Re=n((()=>(0,s._)("span",null,"3º",-1))),Qe={class:"result-item"},Xe=n((()=>(0,s._)("span",null,"4º",-1))),ea={class:"result-item"},aa=n((()=>(0,s._)("span",null,"5º",-1))),ta={class:"result-item"},sa=n((()=>(0,s._)("span",null,"6º",-1))),la={class:"result-item"},na=n((()=>(0,s._)("span",null,"7º",-1))),ia={class:"game-status"},oa={key:0,class:"fas fa-check"},da={key:1,class:"fas fa-times"},ra={key:0},ca={key:1,class:"history"},ua={class:"title-section"},_a=n((()=>(0,s._)("h3",null,"Palpites",-1))),pa={class:"filter"},ha={class:"filter"},va={class:"tickets-container"},ma={key:1},ga={class:"extraction-title"},ka={class:"row-item"},wa=(0,s.uE)('<div class="column-headers" data-v-5e370b5e><div class="column-header" data-v-5e370b5e>Ticket</div><div class="column-header" data-v-5e370b5e>Hora</div><div class="column-header" data-v-5e370b5e>Total</div><div class="column-header" data-v-5e370b5e>Status</div></div>',1),ya={class:"ticket-item-column"},fa={class:"ticket-item-column"},ba={class:"ticket-item-column"},Ca={class:"ticket-item-column"},Da=["onClick"],xa=n((()=>(0,s._)("i",{class:"fas fa-check"},null,-1))),za=[xa],qa={key:1,class:"btn-status"},Ta=n((()=>(0,s._)("i",{class:"fas fa-times"},null,-1))),Sa=[Ta],Fa={class:"column-footers"},Na={class:"column-footer"},Ja=n((()=>(0,s._)("div",{class:"column-footer column-empty"},null,-1))),Oa={class:"column-footer"},Pa=n((()=>(0,s._)("div",{class:"column-footer column-empty"},null,-1)));function Aa(e,a,t,n,h,g){const z=(0,s.up)("Button"),S=(0,s.up)("Calendar"),O=(0,s.up)("Spinner"),V=(0,s.up)("Dropdown");return 1==this.loggedUser().online?((0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",o,[d,(0,s.Wm)(z,{onClick:g.toggleCalendar,icon:"pi pi-calendar"},null,8,["onClick"])]),(0,s._)("div",r,[(0,s._)("button",{class:"btn-bet-status selected",id:"active",onClick:a[0]||(a[0]=e=>g.statusChange("active"))},"Ativos"),(0,s._)("button",{class:"btn-bet-status",id:"finished",onClick:a[1]||(a[1]=e=>g.statusChange("finished"))},"Finalizados"),(0,s._)("button",{class:"btn-bet-status",id:"wins",onClick:a[2]||(a[2]=e=>g.statusChange("wins"))},"Ganhos"),(0,s._)("button",{class:"btn-bet-status",id:"loses",onClick:a[3]||(a[3]=e=>g.statusChange("loses"))},"Perdas"),(0,s._)("button",{class:"btn-bet-status",id:"cancellations",onClick:a[4]||(a[4]=e=>g.statusChange("cancellations"))},"Cancelamentos")]),(0,s.Wm)(S,{style:(0,l.j5)(h.showCalendar?"display: flex":"display: none"),inline:"",maxDate:new Date,modelValue:h.date_range,"onUpdate:modelValue":a[5]||(a[5]=e=>h.date_range=e),selectionMode:"range",manualInput:!1},null,8,["style","maxDate","modelValue"]),(0,s._)("div",c,[h.loading?((0,s.wg)(),(0,s.j4)(O,{key:0})):(0,s.kq)("",!0),0==h.extractions.length&&0==h.loading?((0,s.wg)(),(0,s.iD)("span",u,"Nenhum registro encontrado.")):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(h.extractions,((a,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"ticket-online",key:t},[(0,s._)("div",{style:(0,l.j5)(g.getTicketColor(a))},[a.round_id?((0,s.wg)(),(0,s.iD)("div",_,["cancelado"==a.status?((0,s.wg)(),(0,s.iD)("div",p,v)):(0,s.kq)("",!0),"ativo"!=a.status||a.finished?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",m,k)),a.expected_value>0&&a.validated?((0,s.wg)(),(0,s.iD)("div",w,[(0,s._)("div",y,[f,(0,s._)("span",null," + "+(0,l.zw)(this.formatCurrency(parseFloat(a.expected_value))),1)])])):(0,s.kq)("",!0),0==a.expected_value&&a.validated&&a.finished?((0,s.wg)(),(0,s.iD)("div",b,[(0,s._)("div",C,[D,(0,s._)("span",null," - "+(0,l.zw)(this.formatCurrency(parseFloat(a.total_value))),1)])])):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("button",{style:{"margin-right":"10px"},onClick:e=>g.handleCancelTicket(a),class:"btn-show"},q,8,x),(0,s._)("button",{onClick:e=>g.toggleShowTicketGames(a.id),class:"btn-show"},F,8,T)])])):(0,s.kq)("",!0),a.contest_id?((0,s.wg)(),(0,s.iD)("div",N,["cancelado"==a.status?((0,s.wg)(),(0,s.iD)("div",J,P)):(0,s.kq)("",!0),a.validated||"ativo"!=a.status?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",A,j)),a.expected_value>0&&a.validated?((0,s.wg)(),(0,s.iD)("div",U,[(0,s._)("div",Y,[Z,(0,s._)("span",null," + "+(0,l.zw)(this.formatCurrency(parseFloat(a.expected_value))),1)])])):(0,s.kq)("",!0),0==a.expected_value&&a.validated?((0,s.wg)(),(0,s.iD)("div",$,[(0,s._)("div",G,[L,(0,s._)("span",null," - "+(0,l.zw)(this.formatCurrency(parseFloat(a.total_value))),1)])])):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("button",{style:{"margin-right":"10px"},onClick:e=>g.handleCancelTicket(a),class:"btn-show"},H,8,B),(0,s._)("button",{onClick:e=>g.toggleShowTicketGames(a.id),class:"btn-show"},K,8,I)])])):(0,s.kq)("",!0),a.extraction_id?((0,s.wg)(),(0,s.iD)("div",M,["cancelado"==a.status?((0,s.wg)(),(0,s.iD)("div",R,X)):(0,s.kq)("",!0),a.validated||"cancelado"==a.status?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ee,te)),a.games_won>0&&a.validated?((0,s.wg)(),(0,s.iD)("div",se,[(0,s._)("div",le,[ne,(0,s._)("span",null," + "+(0,l.zw)(this.formatCurrency(a.games.filter((e=>"win"==e.status)).reduce(((e,a)=>e+parseFloat(a.expected_value)),0))),1)])])):(0,s.kq)("",!0),0==a.games_won&&a.validated?((0,s.wg)(),(0,s.iD)("div",ie,[(0,s._)("div",oe,[de,(0,s._)("span",null," - "+(0,l.zw)(this.formatCurrency(parseFloat(a.total_value))),1)])])):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("button",{style:{"margin-right":"10px"},onClick:e=>g.handleCancelTicket(a),class:"btn-show"},ue,8,re),(0,s._)("button",{onClick:e=>g.toggleShowTicketGames(a.id),class:"btn-show"},he,8,_e)])])):(0,s.kq)("",!0),a.round_id?((0,s.wg)(),(0,s.iD)("div",ve,[(0,s._)("div",null,[me,(0,s._)("span",null,(0,l.zw)(this.formatDateFull(a.created_at)),1)]),(0,s._)("div",null,[ge,(0,s._)("span",null,(0,l.zw)(a.round_number),1)]),(0,s._)("div",null,[ke,(0,s._)("span",null,(0,l.zw)(a.code),1)]),(0,s._)("div",null,[we,(0,s._)("span",null,(0,l.zw)(this.formatCurrency(parseFloat(a.total_value))),1)]),a.expected_value>0?((0,s.wg)(),(0,s.iD)("div",ye,[fe,(0,s._)("span",null,(0,l.zw)(this.formatCurrency(parseFloat(a.expected_value))),1)])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),a.contest_id?((0,s.wg)(),(0,s.iD)("div",be,[(0,s._)("div",null,[Ce,(0,s._)("span",null,(0,l.zw)(this.formatDateFull(a.created_at)),1)]),(0,s._)("div",null,[De,(0,s._)("span",null,(0,l.zw)(a.contest_name),1)]),(0,s._)("div",null,[xe,(0,s._)("span",null,(0,l.zw)(a.code),1)]),(0,s._)("div",null,[ze,(0,s._)("span",null,(0,l.zw)(this.formatCurrency(parseFloat(a.total_value))),1)]),a.expected_value>0?((0,s.wg)(),(0,s.iD)("div",qe,[Te,(0,s._)("span",null,(0,l.zw)(this.formatCurrency(parseFloat(a.expected_value))),1)])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),a.extraction_id?((0,s.wg)(),(0,s.iD)("div",Se,[(0,s._)("div",null,[Fe,(0,s._)("span",null,(0,l.zw)(this.formatDateFull(a.created_at)),1)]),a.extraction_name?((0,s.wg)(),(0,s.iD)("div",Ne,[Je,(0,s._)("span",null,(0,l.zw)(a.extraction_name),1)])):((0,s.wg)(),(0,s.iD)("div",Oe,[Pe,(0,s._)("span",null,(0,l.zw)(a.contest_name),1)])),(0,s._)("div",null,[Ae,(0,s._)("span",null,(0,l.zw)(a.code),1)]),(0,s._)("div",null,[Ve,(0,s._)("span",null,(0,l.zw)(this.formatCurrency(parseFloat(a.total_value))),1)]),a.games_won>0?((0,s.wg)(),(0,s.iD)("div",je,[Ue,(0,s._)("span",null,(0,l.zw)(this.formatCurrency(a.games.filter((e=>"win"==e.status)).reduce(((e,a)=>e+parseFloat(a.expected_value)),0))),1)])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],4),a.contest_id?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"ticket-details hide",id:a.id},[(0,s._)("div",Ze,[(0,s._)("span",null,"Valor: "+(0,l.zw)(this.formatCurrency(a.total_value)),1),(0,s._)("span",null,"Palpites: "+(0,l.zw)(JSON.parse(a.selected_numbers).join(", ")),1)])],8,Ye)):(0,s.kq)("",!0),a.round_id?((0,s.wg)(),(0,s.iD)("div",{key:1,class:"ticket-details hide",id:a.id},[(0,s._)("div",Ge,[(0,s._)("span",null,"Valor: "+(0,l.zw)(this.formatCurrency(a.total_value)),1),(0,s._)("span",null,"Palpites: "+(0,l.zw)(JSON.parse(a.selected_numbers).join(", ")),1)])],8,$e)):(0,s.kq)("",!0),a.extraction_id?((0,s.wg)(),(0,s.iD)("div",{key:2,class:"ticket-details hide",id:a.id},[a.instant_result?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[Be,(0,s._)("div",Ee,[(0,s._)("div",He,[Ie,(0,s._)("span",null,(0,l.zw)(JSON.parse(a.instant_result)[0]),1),(0,s._)("span",null,(0,l.zw)(this.getAnimal(JSON.parse(a.instant_result)[0].split("-")[1]).name),1)]),(0,s._)("div",We,[Ke,(0,s._)("span",null,(0,l.zw)(JSON.parse(a.instant_result)[1]),1),(0,s._)("span",null,(0,l.zw)(this.getAnimal(JSON.parse(a.instant_result)[1].split("-")[1]).name),1)]),(0,s._)("div",Me,[Re,(0,s._)("span",null,(0,l.zw)(JSON.parse(a.instant_result)[2]),1),(0,s._)("span",null,(0,l.zw)(this.getAnimal(JSON.parse(a.instant_result)[2].split("-")[1]).name),1)]),(0,s._)("div",Qe,[Xe,(0,s._)("span",null,(0,l.zw)(JSON.parse(a.instant_result)[3]),1),(0,s._)("span",null,(0,l.zw)(this.getAnimal(JSON.parse(a.instant_result)[3].split("-")[1]).name),1)]),(0,s._)("div",ea,[aa,(0,s._)("span",null,(0,l.zw)(JSON.parse(a.instant_result)[4]),1),(0,s._)("span",null,(0,l.zw)(this.getAnimal(JSON.parse(a.instant_result)[4].split("-")[1]).name),1)]),(0,s._)("div",ta,[sa,(0,s._)("span",null,(0,l.zw)(JSON.parse(a.instant_result)[5]),1),(0,s._)("span",null,(0,l.zw)(this.getAnimal(JSON.parse(a.instant_result)[5].split("-")[1]).name),1)]),(0,s._)("div",la,[na,(0,s._)("span",null,(0,l.zw)(JSON.parse(a.instant_result)[6]),1),(0,s._)("span",null,(0,l.zw)(this.getAnimal(JSON.parse(a.instant_result)[6].split("-")[1]).name),1)])])],64)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.games,(a=>((0,s.wg)(),(0,s.iD)("div",{key:a.id,class:"ticket-game"},[(0,s._)("div",ia,[(0,s._)("span",null,(0,l.zw)(a.modality_name+e.isCombined(a)),1),"win"==a.status?((0,s.wg)(),(0,s.iD)("i",oa)):(0,s.kq)("",!0),"lose"==a.status?((0,s.wg)(),(0,s.iD)("i",da)):(0,s.kq)("",!0)]),(0,s._)("span",null,"Posição: "+(0,l.zw)(a.award.name),1),a.modality_code.includes("Milhar")?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",ra,"Lado: "+(0,l.zw)(JSON.parse(a.selected_positions).join(", ")),1)),(0,s._)("span",null,"Valor: "+(0,l.zw)(this.formatCurrency(parseFloat(a.value))),1),(0,s._)("span",null,"Palpites: "+(0,l.zw)(JSON.parse(a.selected_numbers).join(", ")),1)])))),128))],8,Le)):(0,s.kq)("",!0)])))),128))])])):((0,s.wg)(),(0,s.iD)("div",ca,[(0,s._)("div",ua,[_a,(0,s.Wm)(z,{icon:"fa-solid fa-sliders",onClick:g.toggleFilter},null,8,["onClick"])]),(0,s._)("div",{class:"filter-container",style:(0,l.j5)(h.showFilter?"display: flex":"display: none")},[(0,s._)("div",pa,[(0,s.Wm)(S,{label:"Data",modelValue:h.date_search,"onUpdate:modelValue":a[6]||(a[6]=e=>h.date_search=e),dateFormat:"dd/mm/yy",showIcon:!0},null,8,["modelValue"])]),(0,s._)("div",ha,[(0,s.Wm)(V,{onChange:g.loadTickets,modelValue:h.lottery_search,"onUpdate:modelValue":a[7]||(a[7]=e=>h.lottery_search=e),options:h.lotteries,optionLabel:"display_name",optionValue:"id",placeholder:"Loteria",showClear:""},null,8,["onChange","modelValue","options"])])],4),(0,s._)("div",va,[h.loading?((0,s.wg)(),(0,s.j4)(O,{key:0})):(0,s.kq)("",!0),0==h.extractions.length&&0==h.loading?((0,s.wg)(),(0,s.iD)("span",ma,"Nenhum registro encontrado.")):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:2},(0,s.Ko)(h.extractions,((e,a)=>((0,s.wg)(),(0,s.iD)("fieldset",{class:"extraction-item",key:a},[(0,s._)("legend",ga,[(0,s._)("span",ka,(0,l.zw)(e[0].name),1)]),wa,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e,((e,a)=>((0,s.wg)(),(0,s.iD)("div",{class:"ticket-item",key:a},[(0,s._)("div",ya,(0,l.zw)(e.id),1),(0,s._)("div",fa,(0,l.zw)(this.formatTime(e.created_at)),1),(0,s._)("div",ba,(0,l.zw)(this.formatCurrency(e.total_value)),1),(0,s._)("div",Ca,["ativo"==e.status?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:a=>g.handleCancelTicket(e),class:"btn-status"},za,8,Da)):((0,s.wg)(),(0,s.iD)("button",qa,Sa))])])))),128)),(0,s._)("div",Fa,[(0,s._)("div",Na,(0,l.zw)(e.length)+" Bilhete(s)",1),Ja,(0,s._)("div",Oa,(0,l.zw)(this.formatCurrency(this.valueTotal(e))),1),Pa])])))),128))])]))}var Va=t(62711),ja=t(15517),Ua=t(31826),Ya=t(79692),Za=t(36797),$a=t.n(Za),Ga=t(81937),La=t(43781),Ba=t(56849),Ea=t(7834),Ha={components:{Calendar:Va.Z,Button:Ua.Z,Dropdown:ja.Z,Spinner:Ya.Z,Divider:Ga.Z,TabView:La.Z,TabPanel:Ba.Z,ConfirmDialog:Ea.Z},data(){return{extractions:[],lotteries:[],showFilter:!1,showCalendar:!1,loading:!1,date_range:[new Date((new Date).setDate((new Date).getDate()-30)),new Date],date_search:new Date,lottery_search:null,status_search:"active"}},mounted(){this.$route.params.status?(this.loadLotteries(),this.statusChange(this.$route.params.status)):this.loadTickets()},watch:{date_search:function(e){e&&this.loadTickets()},date_range:function(e){e[1]&&(this.toggleCalendar(),this.loadTickets())}},methods:{toggleCalendar(){this.showCalendar=!this.showCalendar},statusChange(e){document.querySelector(".selected").classList.remove("selected"),document.getElementById(e).classList.add("selected"),this.status_search=e,this.loadTickets()},valueTotal(e){let a=0;for(let t of e)a+=Number(t.total_value);return a},toggleFilter(){this.showFilter=!this.showFilter},toggleShowTicketGames(e){var a=document.getElementById(e);a.classList.toggle("hide")},loadTickets(){let e=1==this.loggedUser().online?"tickets":"tickets/schedule";this.loading=!0,this.extractions=[],this.$api.get(e,{headers:{Authorization:this.accessToken()},params:{from:1==this.loggedUser().online?this.date_range[0]:null,to:1==this.loggedUser().online?this.date_range[1]:null,date:$a()(this.date_search).format("YYYY-MM-DD"),lottery_search:this.lottery_search,status_search:this.status_search}}).then((e=>{this.extractions=e.data,this.loggedUser().online&&this.extractions.sort(((e,a)=>new Date(a.created_at)-new Date(e.created_at))),this.loading=!1})).catch((e=>{this.$toast.add({severity:"error",summary:"Erro",detail:e.response.data.message,life:3e3}),this.loading=!1}))},loadLotteries(){this.$api.get("/lotteries",{headers:{Authorization:this.accessToken()},params:{region_id:this.loggedUser().region_id}}).then((e=>{this.lotteries=e.data})).catch((e=>{console.log(e)}))},handleCancelTicket(e){let a="";e.contest_id&&(a="caixa_tickets/cancel"),e.extraction_id&&(a="tickets/cancel"),e.round_id&&(a="round_tickets/cancel"),this.$confirm.require({message:"Tem certeza que deseja cancelar este bilhete? Esta ação não poderá ser revertida.",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{e=e.id,this.$api.post(a,{ticket:e},{headers:{Authorization:this.accessToken()}}).then((()=>{this.$toast.add({severity:"success",summary:"Sucesso",detail:"Bilhete cancelado com sucesso!",life:3e3}),this.loadBalance(),this.loadTickets()})).catch((e=>{this.$toast.add({severity:"error",summary:"Erro",detail:e.response.data.error,life:3e3})}))},reject:()=>{}})},getTicketColor(e){if("cancelado"==e.status)return"border-left: 4px solid gray; background: var(--bg-secondary);";if(e.round_id){if(!e.finished)return"border-left: 4px solid var(--app-primary-color); background: var(--bg-secondary);";if(e.expected_value>0&&e.finished)return"border-left: solid #39d446 4px; background: var(--bg-secondary);";if(0==e.expected_value&&e.finished)return"border-left: 4px solid red; background: var(--bg-secondary);"}if(e.contest_id){if(!e.validated)return"border-left: 4px solid var(--app-primary-color); background: var(--bg-secondary);";if(e.expected_value>0&&e.validated)return"border-left: solid #39d446 4px; background: var(--bg-secondary);";if(0==e.expected_value&&e.validated)return"border-left: 4px solid red; background: var(--bg-secondary);"}if(e.extraction_id){if(!e.validated)return"border-left: 4px solid var(--app-primary-color); background: var(--bg-secondary);";if(e.games_won>0&&e.validated)return"border-left: solid #39d446 4px; background: var(--bg-secondary);";if(0==e.games_won&&e.validated)return"border-left: 4px solid red; background: var(--bg-secondary);"}}}},Ia=t(40089);const Wa=(0,Ia.Z)(Ha,[["render",Aa],["__scopeId","data-v-5e370b5e"]]);var Ka=Wa}}]);
//# sourceMappingURL=535.3d81a748.js.map