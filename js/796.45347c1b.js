"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[796],{28077:function(e,t,i){i.d(t,{Z:function(){return o}});var a=i(73396),s=i(87139),l=i(49242),o={name:"Chip",emits:["remove"],props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:"pi pi-times-circle"}},data(){return{visible:!0}},methods:{close(e){this.visible=!1,this.$emit("remove",e)}},computed:{containerClass(){return["p-chip p-component",{"p-chip-image":null!=this.image}]},iconClass(){return["p-chip-icon",this.icon]},removeIconClass(){return["p-chip-remove-icon",this.removeIcon]}}};const n=["src"],r={key:2,class:"p-chip-text"};function d(e,t,i,o,d,c){return d.visible?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,s.C_)(c.containerClass)},[(0,a.WI)(e.$slots,"default",{},(()=>[i.image?((0,a.wg)(),(0,a.iD)("img",{key:0,src:i.image},null,8,n)):i.icon?((0,a.wg)(),(0,a.iD)("span",{key:1,class:(0,s.C_)(c.iconClass)},null,2)):(0,a.kq)("",!0),i.label?((0,a.wg)(),(0,a.iD)("div",r,(0,s.zw)(i.label),1)):(0,a.kq)("",!0)])),i.removable?((0,a.wg)(),(0,a.iD)("span",{key:0,tabindex:"0",class:(0,s.C_)(c.removeIconClass),onClick:t[0]||(t[0]=(...e)=>c.close&&c.close(...e)),onKeydown:t[1]||(t[1]=(0,l.D2)(((...e)=>c.close&&c.close(...e)),["enter"]))},null,34)):(0,a.kq)("",!0)],2)):(0,a.kq)("",!0)}function c(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===i&&a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var m="\n.p-chip {\n    display: -webkit-inline-box;\n    display: -ms-inline-flexbox;\n    display: inline-flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.p-chip-text {\n    line-height: 1.5;\n}\n.p-chip-icon.pi {\n    line-height: 1.5;\n}\n.p-chip-remove-icon {\n    line-height: 1.5;\n    cursor: pointer;\n}\n.p-chip img {\n    border-radius: 50%;\n}\n";c(m),o.render=d},57615:function(e,t,i){i.d(t,{Z:function(){return y}});var a=i(73396),s=i(87139);const l={class:"select-animal"},o={class:"animal-container"},n={class:"animal-card"},r={class:"animal-group"},d={class:"animal-icon"},c=["src","alt"],m={class:"animal-name"};function h(e,t,h,p,u,g){const _=(0,a.up)("Button");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.animals,((e,t)=>((0,a.wg)(),(0,a.j4)(_,{id:t,onClick:i=>g.setSelected(t,e),key:t,class:(0,s.C_)(e.selected?"item selected":"item")},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",r,(0,s.zw)(e.grupo),1),(0,a._)("div",d,[(0,a._)("img",{src:i(1838)(`./${e.icon}-color.png`),alt:e.name},null,8,c)]),(0,a._)("div",m,(0,s.zw)(e.name),1)])])),_:2},1032,["id","onClick","class"])))),128))])])}var p=i(31826),u={name:"SelectAnimal",components:{Button:p.Z},props:{itemsSelected:Array},data(){return{animals:[]}},created(){this.animals=this.animalList()},mounted(){this.itemsSelected.forEach((e=>{var t=document.getElementById(parseInt(e)-1);t.classList.toggle("selected")}))},methods:{setSelected(e,t){var i=document.getElementById(e);i.classList.toggle("selected"),this.$emit("setAnimal",{item:t.grupo})}}},g=i(40089);const _=(0,g.Z)(u,[["render",h],["__scopeId","data-v-42b5c836"]]);var y=_},96796:function(e,t,i){i.d(t,{Z:function(){return m}});var a=i(73396),s=i(87139);const l={class:"select-modality"},o=["onClick"];function n(e,t,i,n,r,d){return(0,a.wg)(),(0,a.iD)("div",l,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.modalities,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{onClick:t=>d.setSelected(e),class:"modality-item",key:t},[(0,a._)("i",{class:"fas fa-rectangle-vertical",style:(0,s.j5)({color:e.color||"#e4e4e4"})},null,4),(0,a.Uk)(" "+(0,s.zw)(e.name.toUpperCase()),1)],8,o)))),128))])}var r={name:"SelectModality",components:{},props:{modalities:Array},data(){return{}},methods:{setSelected(e){this.$emit("setModality",{modality:e})}}},d=i(40089);const c=(0,d.Z)(r,[["render",n],["__scopeId","data-v-0e6af5a8"]]);var m=c},36796:function(e,t,i){i.r(t),i.d(t,{default:function(){return St}});var a=i(73396);function s(e,t,i,s,l,o){const n=(0,a.up)("InstantaneoSteps"),r=(0,a.up)("InstantaneoStandard");return"steps"==e.$store.getters.getTradicionalConfig.bet_layout||this.$store.getters.getUser.online?((0,a.wg)(),(0,a.j4)(n,{key:0})):((0,a.wg)(),(0,a.j4)(r,{key:1}))}i(26699);var l=i(87139),o=i(49242),n=i(36093);const r=e=>((0,a.dD)("data-v-0ac3b956"),e=e(),(0,a.Cn)(),e),d={class:"instantaneo"},c={key:0,class:"badge"},m=r((()=>(0,a._)("i",{class:"fas fa-ticket"},null,-1))),h=r((()=>(0,a._)("h3",null,"Bilhete de aposta",-1))),p={class:"ticket-container"},u={class:"ticket-content"},g={key:0,class:"no-games-message"},_=r((()=>(0,a._)("img",{src:n,alt:"ticket-logo"},null,-1))),y=r((()=>(0,a._)("span",null,"Nenhum palpite adicionado.",-1))),f=[_,y],b={class:"item-header"},v=["onClick"],w=r((()=>(0,a._)("i",{class:"fas fa-edit"},null,-1))),k=[w],C=["onClick"],D=r((()=>(0,a._)("i",{class:"fas fa-times"},null,-1))),M=[D],x={class:"item-body"},T={style:{"font-weight":"bold","font-size":"16px",color:"white"}},A={key:0},I={class:"item-footer"},z={key:1,class:"money-input"},S={class:"ticket-footer"},P={class:"footer-item"},G=r((()=>(0,a._)("span",null,"Total",-1))),q=r((()=>(0,a._)("h3",null,"Selecione os animais",-1))),E=r((()=>(0,a._)("h3",null,"Selecione uma modalidade",-1))),V={style:{display:"flex","flex-direction":"column",gap:"10px","align-items":"center","justify-content":"center"}},$=r((()=>(0,a._)("span",null,"até",-1))),R={class:"bet-container"},N=r((()=>(0,a._)("h3",null,"Instantâneo",-1))),L={class:"btn-container-top"},Z=(0,a.Uk)(" Inserir intervalo de números "),U=r((()=>(0,a._)("div",{style:{position:"absolute",top:"19px",left:"50px","font-size":"20px"}}," Todos ",-1))),W=["modalities"],j={key:0,class:"pi pi-spinner pi-spin"},B={key:1,class:"fas fa-chevron-down"},O=r((()=>(0,a._)("div",{style:{position:"absolute",top:"19px",left:"50px"}}," Todos ",-1))),K={style:{display:"flex"}},H=r((()=>(0,a._)("i",{class:"far fa-random"},null,-1))),Y=[H],F={class:"btn-palpite"},Q={key:1,class:"palpite-area"},X=["onClick"],J={key:2,class:"btn-container"},ee={key:3,class:"btn-container"};function te(e,t,i,s,n,r){const _=(0,a.up)("ConfirmDialog"),y=(0,a.up)("Button"),w=(0,a.up)("money3"),D=(0,a.up)("Sidebar"),H=(0,a.up)("SelectAnimal"),te=(0,a.up)("SelectModality"),ie=(0,a.up)("InputNumber"),ae=(0,a.up)("Dialog"),se=(0,a.up)("MultiSelect"),le=(0,a.up)("Dropdown"),oe=(0,a.up)("InputText");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)(_),(0,a.Wm)(y,{onClick:t[0]||(t[0]=e=>r.toggleTicket(e)),class:"btn-ticket"},{default:(0,a.w5)((()=>[n.games.length>0?((0,a.wg)(),(0,a.iD)("div",c,(0,l.zw)(n.games.length),1)):(0,a.kq)("",!0),m])),_:1}),(0,a.Wm)(D,{class:"bottom-select",visible:n.showTicket,"onUpdate:visible":t[3]||(t[3]=e=>n.showTicket=e),baseZIndex:1e4,position:"bottom"},{header:(0,a.w5)((()=>[h])),default:(0,a.w5)((()=>[(0,a._)("div",p,[(0,a._)("div",u,[0==n.games?((0,a.wg)(),(0,a.iD)("div",g,f)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.games,((i,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:s},[(0,a._)("div",b,[(0,a._)("div",null,(0,l.zw)(i.loteria),1),(0,a._)("div",null,[(0,a._)("button",{class:"btn-game",onClick:e=>r.handleEditGame(i)},k,8,v),(0,a._)("button",{class:"btn-game",onClick:e=>r.handleRemoveGame(s)},M,8,C)])]),(0,a._)("div",x,[(0,a._)("span",T,(0,l.zw)(i.modalidade),1),(0,a._)("span",null,"Posição: "+(0,l.zw)(i.award_name),1),i.modalidade.includes("Milhar")?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",A,"Lado: "+(0,l.zw)(i.positions.join(", ")),1)),(0,a._)("span",null,"Palpites: "+(0,l.zw)(i.palpites.join(", ")),1)]),(0,a._)("div",I,[i.loteria.includes("PT-RIO")?((0,a.wg)(),(0,a.j4)(w,(0,a.dG)({key:0,class:"money-input",onKeyup:t[1]||(t[1]=(0,o.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:i.valor,"onUpdate:modelValue":e=>i.valor=e},n.moneyconfig),null,16,["modelValue","onUpdate:modelValue"])):((0,a.wg)(),(0,a.iD)("span",z,(0,l.zw)(e.formatCurrency(parseFloat(i.valor))),1))])])))),128))]),(0,a._)("div",S,[(0,a._)("div",P,[G,(0,a._)("span",null,"R$ "+(0,l.zw)(this.formatCurrency(n.games.reduce(((e,t)=>e+parseFloat(t.valor)),0))),1)]),(0,a.Wm)(y,{class:"btn-submit",onClick:t[2]||(t[2]=e=>r.handleCreateTicket()),label:"Finalizar aposta",loading:n.loading.submit},null,8,["loading"])])])])),_:1},8,["visible"]),(0,a.Wm)(D,{class:"bottom-select",visible:n.showSelectAnimal,"onUpdate:visible":t[4]||(t[4]=e=>n.showSelectAnimal=e),baseZIndex:1e4,position:"bottom"},{header:(0,a.w5)((()=>[q])),default:(0,a.w5)((()=>[(0,a.Wm)(H,{itemsSelected:n.palpites,onSetAnimal:r.setAnimal},null,8,["itemsSelected","onSetAnimal"])])),_:1},8,["visible"]),(0,a.Wm)(D,{class:"bottom-select",visible:n.showSelectModality,"onUpdate:visible":t[5]||(t[5]=e=>n.showSelectModality=e),baseZIndex:1e4,position:"bottom"},{header:(0,a.w5)((()=>[E])),default:(0,a.w5)((()=>[(0,a.Wm)(te,{modalities:n.modalities,onSetModality:r.setModality},null,8,["modalities","onSetModality"])])),_:1},8,["visible"]),(0,a.Wm)(ae,{visible:n.showNumberInterval,"onUpdate:visible":t[9]||(t[9]=e=>n.showNumberInterval=e),modal:"",header:"Insira um intervalo",style:{width:"250px"}},{default:(0,a.w5)((()=>[(0,a._)("div",V,[(0,a.Wm)(ie,{modelValue:n.initialNumber,"onUpdate:modelValue":t[6]||(t[6]=e=>n.initialNumber=e),inputmode:"numeric",mode:"decimal",min:0,max:n.modality_rule.numeroMaximo},null,8,["modelValue","max"]),$,(0,a.Wm)(ie,{modelValue:n.finalNumber,"onUpdate:modelValue":t[7]||(t[7]=e=>n.finalNumber=e),inputmode:"numeric",mode:"decimal",min:0,max:n.modality_rule.numeroMaximo},null,8,["modelValue","max"]),(0,a.Wm)(y,{class:"submit-btn",onClick:t[8]||(t[8]=e=>r.handleInsertInterval()),label:"Confirmar"})])])),_:1},8,["visible"]),(0,a._)("div",R,[N,(0,a._)("div",L,[(0,a.Wm)(y,{class:"btn-talao",onClick:t[10]||(t[10]=e=>r.handleAddPalpiteTalao())},{default:(0,a.w5)((()=>[(0,a.Uk)(" Nº talão "+(0,l.zw)(this.$store.getters.getTalao),1)])),_:1}),n.selectedModality?((0,a.wg)(),(0,a.j4)(y,{key:0,class:"btn-talao",onClick:t[11]||(t[11]=e=>r.toggleShowNumberInterval())},{default:(0,a.w5)((()=>[Z])),_:1})):(0,a.kq)("",!0)]),(0,a.Wm)(se,{loading:n.loading.extractions,modelValue:n.selectedExtractions,"onUpdate:modelValue":t[12]||(t[12]=e=>n.selectedExtractions=e),options:n.extractions,optionLabel:"name",placeholder:"Horário"},{header:(0,a.w5)((()=>[U])),_:1},8,["loading","modelValue","options"]),(0,a._)("button",{class:"btn-modality",modalities:n.modalities,onClick:t[13]||(t[13]=(...e)=>r.toggleSelectModality&&r.toggleSelectModality(...e))},[(0,a._)("span",{style:(0,l.j5)(n.selectedModality?"color: #e2e3e4":"color: #aaadb1")},(0,l.zw)(n.selectedModality?n.selectedModality.name:"Modalidade"),5),n.loading.modalities?((0,a.wg)(),(0,a.iD)("i",j)):((0,a.wg)(),(0,a.iD)("i",B))],8,W),(0,a.Wm)(le,{loading:n.loading.awards,modelValue:n.selectedAward,"onUpdate:modelValue":t[14]||(t[14]=e=>n.selectedAward=e),options:n.awards,optionLabel:"name",placeholder:"Posição"},null,8,["loading","modelValue","options"]),n.selectedModality&&!n.selectedModality.initials.includes("milhar")&&e.$store.getters.getRegionConfig&&e.$store.getters.getRegionConfig.select_position?((0,a.wg)(),(0,a.j4)(se,{key:0,modelValue:n.selectedPositions,"onUpdate:modelValue":t[15]||(t[15]=e=>n.selectedPositions=e),options:n.positions,placeholder:"Lado"},{header:(0,a.w5)((()=>[O])),_:1},8,["modelValue","options"])):(0,a.kq)("",!0),(0,a._)("div",K,[(0,a._)("form",{class:"form",onSubmit:t[18]||(t[18]=(0,o.iM)((e=>r.handleAddPalpite()),["prevent"]))},[(0,a.Wm)(oe,{onClick:t[16]||(t[16]=e=>r.toggleSelectAnimal()),inputmode:"numeric",onInput:r.handleInputPalpite,modelValue:n.palpite,"onUpdate:modelValue":t[17]||(t[17]=e=>n.palpite=e),placeholder:"Palpite"},null,8,["onInput","modelValue"])],32),(0,a._)("button",{onClick:t[19]||(t[19]=e=>r.handleAddRandomPalpite()),class:"btn-palpite"},Y),(0,a._)("button",F,[(0,a._)("i",{onClick:t[20]||(t[20]=e=>r.handleRemoveAllPalpites()),class:"fal fa-trash-alt"})])]),n.palpites.length>0?((0,a.wg)(),(0,a.iD)("div",Q,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.palpites,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{key:t,class:"palpite",onClick:e=>r.handleRemovePalpite(t)},(0,l.zw)(e),9,X)))),128)),(0,a._)("span",null,"("+(0,l.zw)(n.palpites.length)+")",1)])):(0,a.kq)("",!0),(0,a.Wm)(w,(0,a.dG)({class:"money-input",onKeyup:t[21]||(t[21]=(0,o.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:n.betValue,"onUpdate:modelValue":t[22]||(t[22]=e=>n.betValue=e)},n.moneyconfig),null,16,["modelValue"]),[2,5,8,9].includes(this.loggedUser().region_id)?((0,a.wg)(),(0,a.iD)("div",J,[(0,a.Wm)(y,{class:"submit-btn",onClick:t[23]||(t[23]=e=>r.handleAddGame("divide")),label:"Adicionar aposta"})])):((0,a.wg)(),(0,a.iD)("div",ee,[(0,a.Wm)(y,{class:"submit-btn",onClick:t[24]||(t[24]=e=>r.handleAddGame("divide")),label:"Divisor"}),(0,a.Wm)(y,{class:"submit-btn",onClick:t[25]||(t[25]=e=>r.handleAddGame("multiply")),label:"Multiplicador"})]))])])}var ie=i(34146),ae=i(31826),se=i(41583),le=i(76709),oe=i(28077),ne=i(33053),re=i(69117),de=i(57615),ce=i(96796),me=i(15517),he=i(64376),pe=i(38905),ue=i(7834),ge=i(22419),_e={components:{Sidebar:ie.Z,SelectAnimal:de.Z,SelectModality:ce.Z,SelectButton:pe.Z,InputNumber:se.Z,Button:ae.Z,Dropdown:me.Z,MultiSelect:he.Z,InputText:le.Z,Chip:oe.Z,ConfirmDialog:ue.Z,Dialog:ge.Z},setup:()=>({v$:(0,ne.Xw)()}),data(){return{games:[],loading:{lotteries:!1,extractions:!1,modalities:!1,awards:!1,limits:!1,submit:!1},windowHeight:null,editGame:null,selectedLottery:null,selectedModality:null,selectedExtractions:[],selectedPositions:[],quotedBets:[],limits:{},selectedAward:null,palpite:"",modality_rule:null,betValue:0,showTicket:!1,showSelectAnimal:!1,showSelectModality:!1,showNumberInterval:!1,initialNumber:null,finalNumber:null,palpites:[],palpitesInseridos:[],extractions:[],modalities:[],awards:[],positions:["Esquerda","Meio","Direita"],mask:"",moneyconfig:{masked:!1,prefix:"R$ ",suffix:"",thousands:".",decimal:",",precision:2,disableNegative:!1,disabled:!1,min:null,max:null,allowBlank:!1,minimumNumberOfCharacters:0},sortedModalities:[{name:"Grupo",shortname:"G",color:"limegreen"},{name:"Grupo salteado",shortname:"GS",color:"limegreen"},{name:"Milhar de ouro",shortname:"MO",color:"#ff3535"},{name:"Milhar e Centena",shortname:"MC",color:"#ff3535"},{name:"Milhar",shortname:"M",color:"#ff3535"},{name:"Centena",shortname:"C",color:"#00a2ff"},{name:"Duque de Dezena",shortname:"DDZ",color:"orange"},{name:"Duque de Dezena Combinado",shortname:"DDZC",color:"orange"},{name:"DD c/ repetição",shortname:"DDCR",color:"orange"},{name:"DD Combinado c/ Repetição",shortname:"DDZC",color:"orange"},{name:"Terno de Dezena",shortname:"TDZ",color:"orange"},{name:"Terno de Dezena Combinado",shortname:"TDZC",color:"orange"},{name:"TDZ c/ repetição",shortname:"TDZCR",color:"orange"},{name:"TDZ Combinado c/ repetição",shortname:"TDZCR",color:"orange"},{name:"Dezena",shortname:"D",color:"orange"},{name:"Duque de Grupo",shortname:"DG",color:"limegreen"},{name:"Duque de Grupo Combinado",shortname:"DGC",color:"limegreen"},{name:"DG c/ repetição",shortname:"DGCR",color:"limegreen"},{name:"DG Combinado c/ Repetição",shortname:"DGCR",color:"limegreen"},{name:"Terno de Grupo",shortname:"TG",color:"limegreen"},{name:"Terno de Grupo Combinado",shortname:"TGC",color:"limegreen"},{name:"Terno de Grupo chaveado",shortname:"TGC",color:"limegreen"},{name:"TG c/ repetição",shortname:"TGCR",color:"limegreen"},{name:"TG Combinado c/ repetição",shortname:"TGCR",color:"limegreen"},{name:"Milhar e centena Invertida",shortname:"MCI",color:"#ff3535"},{name:"Milhar Invertida",shortname:"MI",color:"#ff3535"},{name:"Centena Invertida",shortname:"CI",color:"#00a2ff"},{name:"Milhar aproximada",shortname:"MA",color:"#ff3535"},{name:"Milhar vai e volta",shortname:"MVV",color:"#ff3535"},{name:"MCITDC",shortname:"M",color:"#ff3535"},{name:"MCIDDC",shortname:"M",color:"#ff3535"},{name:"Centena aproximada",shortname:"CA",color:"#00a2ff"},{name:"Centena vai e volta",shortname:"CVV",color:"#00a2ff"},{name:"CITDC",shortname:"C",color:"#00a2ff"},{name:"CIDDC",shortname:"C",color:"#00a2ff"},{name:"Dezena Invertida",shortname:"DI",color:"orange"},{name:"Grupo par",shortname:"GP",color:"limegreen"},{name:"Grupo impar",shortname:"GI",color:"limegreen"},{name:"Passe",shortname:"P",color:"yellow"},{name:"Passe de ida",shortname:"PI",color:"yellow"},{name:"Passe de ida e volta",shortname:"PIV",color:"yellow"},{name:"Passe especial",shortname:"PE",color:"yellow"},{name:"Passe especial combinado",shortname:"PEC",color:"yellow"}]}},validations(){return{name:{required:re.C1},email:{required:re.C1,email:re.Do},password:{required:re.C1},accept:{required:re.C1}}},created(){this.windowHeight=window.innerHeight,document.addEventListener("editGame",(e=>{this.editGame=e.detail.game}))},mounted(){this.refreshTalao(),this.loadLotteries(),this.loadLimits()},watch:{selectedLottery:function(){this.selectedLottery&&(this.loadModalities(),this.loadExtractions())},editGame:function(){this.editGame&&this.loadLotteries()},selectedModality:function(){this.selectedModality&&(this.editGame?this.palpites=this.editGame.palpites:this.palpites=[],this.palpite="",this.selectedPositions=["Direita"],this.modality_rule=this.getModalityRule(this.selectedModality.definition),this.positions=this.modality_rule.positions,this.loadAwards(),this.repetirPalpites())},selectedAward:function(){this.selectedPositions=["Direita"],this.modality_rule=this.getModalityRule(this.selectedModality.definition,this.selectedAward.name),this.positions=this.modality_rule.positions,this.repetirPalpites()}},methods:{toggleTicket(){this.showTicket=!this.showTicket},handleRemoveGame(e){this.games=this.games.filter(((t,i)=>i!=e))},handleEditGame(e){this.showTicket=!1,this.games=this.games.filter((t=>t.ref!=e.ref)),this.editGame=e},setAnimal(e){const t=this.palpites.find((t=>t==e.item));t?this.palpites=this.palpites.filter((t=>t!=e.item)):(this.palpite=e.item,this.handleAddPalpite())},setModality(e){this.toggleSelectModality(),this.selectedModality=e.modality},loadLimits(){this.loading.limits=!0,this.$api.get("instantaneoconfig/show",{headers:{Authorization:this.accessToken()},params:{region_id:this.loggedUser().region_id}}).then((e=>{this.limits=e.data,this.loading.limits=!1})).catch((e=>{console.log(e),this.loading.limits=!1}))},loadAwards(){this.loading.awards=!0,this.$api.get("/awards/awardsByModality",{headers:{Authorization:this.accessToken()},params:{modality_id:this.selectedModality.id}}).then((e=>{this.awards=e.data,this.selectedAward=e.data[0],this.loading.awards=!1,this.editGame&&(this.selectedAward=this.awards.find((e=>e.internal_name==this.editGame.award_internal)),this.betValue=this.editGame.valor,this.editGame=null)})).catch((e=>{console.log(e),this.loading.awards=!1}))},loadExtractions(){this.loading.extractions=!0,this.$api.get("/extraction/instantaneo",{headers:{Authorization:this.accessToken()},params:{lottery_search:this.selectedLottery.id}}).then((e=>{this.extractions=e.data,this.selectedExtractions=[e.data[0]],this.loading.extractions=!1})).catch((e=>{console.log(e),this.editGame&&(this.selectedExtractions=[this.extractions.find((e=>e.id==this.editGame.extraction))],this.selectedExtractions[0]||(this.selectedExtractions=[],this.$toast.add({severity:"error",summary:"Erro",detail:"Horário da extração já passou",life:3e3}))),this.loading.extractions=!1}))},loadModalities(){this.loading.modalities=!0,this.$api.get("/modalities",{headers:{Authorization:this.accessToken()},params:{region_id:this.loggedUser().region_id,region_search:this.loggedUser().region_id,lottery_search:this.selectedLottery.id,lottery_id:this.selectedLottery.id}}).then((e=>{let t=e.data,i=[],a=[],s={...t.find((e=>"duque_dezena"==e.initials.toLowerCase()))??{}};s.name="Duque de Dezena Combinado",s.definition="duque_dezena_combinado";let l={...t.find((e=>"duque_grupo"==e.initials.toLowerCase()))??{}};l.name="Duque de Grupo Combinado",l.definition="duque_grupo_combinado";let o={...t.find((e=>"terno_dezena"==e.initials.toLowerCase()))??{}};o.name="Terno de Dezena Combinado",o.definition="terno_dezena_combinado";let n={...t.find((e=>"terno_grupo"==e.initials.toLowerCase()))??{}};n.name="Terno de Grupo Combinado",n.definition="terno_grupo_combinado";let r={...t.find((e=>"duque_dezena_repeticao"==e.initials.toLowerCase()))??{}};r.name="DD Combinado c/ Repetição",r.definition="duque_dezena_combinado_repeticao";let d={...t.find((e=>"terno_dezena_repeticao"==e.initials.toLowerCase()))??{}};d.name="TDZ Combinado c/ Repetição",d.definition="terno_dezena_combinado_repeticao";let c={...t.find((e=>"duque_grupo_repeticao"==e.initials.toLowerCase()))??{}};c.name="DG Combinado c/ Repetição",c.definition="duque_grupo_combinado_repeticao";let m={...t.find((e=>"terno_grupo_repeticao"==e.initials.toLowerCase()))??{}};m.name="TG Combinado c/ Repetição",m.definition="terno_grupo_combinado_repeticao",t.push(s),t.push(l),t.push(o),t.push(n),t.push(r),t.push(d),t.push(c),t.push(m),this.sortedModalities.forEach((e=>{let a=t.find((t=>t.name.toLowerCase()==e.name.toLowerCase()));a&&(a.color=e.color,i.push(a))})),a=t.filter((e=>!i.includes(e))),this.modalities=i.concat(a),this.loading.modalities=!1,this.editGame&&(this.selectedModality=this.modalities.find((e=>e.name==this.editGame.modalidade)))})).catch((e=>{console.log(e),this.loading.modalities=!1}))},loadLotteries(){this.loading.lotteries=!1;let e="PT-RIO";this.$api.get(`/lotteries/${e}`,{headers:{Authorization:this.accessToken()}}).then((e=>{this.selectedLottery=e.data,this.loading.lotteries=!1})).catch((e=>{console.log(e),this.loading.lotteries=!1}))},handleAddRandomPalpite(){this.selectedModality&&(this.palpite=this.generatePalpite(this.selectedModality.initials),this.handleAddPalpite())},handleInputPalpite(){switch(this.palpite=this.palpite.replace(/[^0-9]/g,""),this.selectedModality.initials){case"grupo":this.palpite=this.palpite.replace(/([2][6-9])|([3-9][0-9])/g,"");break;case"terno_grupo":case"duque_grupo":case"passe_ida":case"passe_ida_volta":this.palpite.length%2===0&&(this.palpite=this.palpite.match(/(0[1-9]|1\d|2[0-5])/g).join("-"));break;case"terno_dezena":case"duque_dezena":case"esquerda_meia_direita":this.palpite.length%2===0&&(this.palpite=this.palpite.match(/\d{2}/g).join("-"));break;default:break}this.palpite.length>=this.modality_rule.maximoDigitos&&this.handleAddPalpite()},handleAddPalpite(){if(this.palpite.length>=this.modality_rule.minimoDigitos){switch(this.$store.dispatch("refreshUserActivityTime"),this.selectedModality.initials){case"terno_grupo":case"duque_grupo":case"passe_ida":case"passe_ida_volta":this.palpite=this.palpite.match(/(0[1-9]|1\d|2[0-5])/g).join("-");break;case"terno_dezena":case"duque_dezena":case"esquerda_meia_direita":this.palpite=this.palpite.match(/\d{2}/g).join("-");break;default:break}this.palpites.push(this.palpite),this.palpite=""}},handleAddPalpiteTalao(){this.selectedModality&&(this.palpite=this.generatePalpiteTalao(this.selectedModality.initials),this.handleAddPalpite())},handleaddRandomPalpite(){this.selectedModality&&(this.palpite=this.generatePalpite(this.selectedModality.initials))},handleRemovePalpite(e){this.palpites=this.palpites.filter(((t,i)=>i!=e))},handleRemoveAllPalpites(){this.palpites=[]},handleInsertInterval(){if(!this.selectedModality)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Selecione uma modalidade",life:3e3});if("number"!==typeof this.initialNumber||"number"!==typeof this.finalNumber)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Entrada inválida",life:3e3});if(this.initialNumber>this.finalNumber)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Intervalo inválido.",life:3e3});let e=[];for(let t=this.initialNumber;t<=this.finalNumber;t++)["milhar","milhar_invertida","milhar_centena","milhar_centena_invertida","milhar_vai_volta","milhar_aproximada","milhar_ouro","mcitdc","mciddc"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-4)),["centena","centena_invertida","centena_vai_volta","centena_aproximada","citdc","ciddc"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-3)),["dezena","dezena_invertida","grupo"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-2)),e.push(("0000"+t).substr(-2));if(["duque_dezena","duque_dezena_repeticao","terno_dezena","terno_dezena_repeticao","duque_grupo","passe","duque_grupo_repeticao","terno_grupo","terno_grupo_repeticao"].includes(this.selectedModality.initials)){if(e.join("-").length<this.modality_rule.minimoDigitos)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Intervalo inválido.",life:3e3});this.palpites.push(e.join("-"))}this.toggleShowNumberInterval()},handleAddGame(e){if(this.betValue<.1)this.$toast.add({severity:"error",summary:"Erro",detail:"Valor mínimo é R$ 0,10.",life:3e3});else if(null==this.selectedModality||this.selectedExtractions.length<1||null==this.selectedLottery||null==this.selectedAward||0==this.palpites.length)this.$toast.add({severity:"error",summary:"Erro",detail:"Um ou mais campos não foram preenchidos.",life:3e3});else{var t=this.getAward(this.selectedAward.internal_name).length*this.palpites.length*this.selectedPositions.length,i=this.betValue/t*this.selectedModality.default_cotation,a=0;switch(this.selectedModality.initials){case"grupo_par":case"grupo_impar":a=9*this.limits["grupo"];break;case"dezena_invertida":a=4*this.limits["dezena_value"];break;case"milhar_centena":a=3*this.limits["milhar_value"];break;case"milhar_invertida":a=6*this.limits["milhar_value"];break;case"milhar_centena_invertida":a=12*this.limits["milhar_value"];break;case"milhar_aproximada":a=3*this.limits["milhar_value"];break;case"milhar_vai_volta":a=2*this.limits["milhar_value"];break;case"centena_invertida":a=6*this.limits["centena_value"];break;case"centena_aproximada":a=3*this.limits["centena_value"];break;case"centena_vai_volta":a=2*this.limits["centena_value"];break;case"esquerda_meia_direita":a=3*this.limits["duque_dezena"];break;default:a=this.limits[`${this.selectedModality.initials}_value`];break}if(i>a)this.$toast.add({severity:"error",summary:"Erro",detail:"O valor inserido excede o valor limite. O valor limite para cada palpite dessa modalidade é R$ "+this.formatCurrency(a/this.selectedModality.default_cotation),life:1e4});else{var s=[];for(let t=0;t<this.selectedExtractions.length;t++){var l={ref:Math.floor(Date.now()*Math.random()),loteria:this.selectedExtractions[t].name,lottery_name:"Instantaneo",product_id:3,numero_talao:this.$store.getters.getTalao,extraction:this.selectedExtractions[t].id,region_id:this.loggedUser().region_id,point_id:this.loggedUser().point_id,point_name:this.loggedUser().point_name,lottery_id:this.selectedLottery.id,modalidade:this.selectedModality.name,modality_id:this.selectedModality.id,modality_cotation:this.selectedModality.default_cotation,award_name:this.selectedAward.name,award_internal:this.selectedAward.internal_name,valor:"multiply"==e?this.betValue*this.palpites.length:this.betValue,palpites:this.palpites,positions:this.selectedPositions};s.push(l)}this.$toast.add({severity:"success",summary:"Sucesso",detail:"Palpite adicionado ao bilhete!",life:3e3}),this.games=[...this.games,...s],"milhar"!=this.selectedModality.initials&&"centena"!=this.selectedModality.initials&&"milhar_centena"!=this.selectedModality.initials&&"dezena"!=this.selectedModality.initials||(this.palpitesInseridos=this.palpites),this.betValue="",this.palpites=[]}}},repetirPalpites(){if(this.palpites.length>0)return;let e=[];switch(this.selectedModality.initials){case"milhar_centena":case"milhar":case"milhar_invertida":case"milhar_centena_invertida":case"milhar_ouro":this.palpitesInseridos.forEach((t=>{t.length>=4&&!t.includes("-")&&e.push(t.substr(-4))})),this.palpites=e;break;case"centena":case"centena_invertida":this.palpitesInseridos.forEach((t=>{t.length>=3&&!t.includes("-")&&e.push(t.substr(-3))})),this.palpites=e;break;case"duque_dezena":this.palpitesInseridos.forEach((t=>{t.length>=4&&(t.includes("-")?e.push(t):e.push(t.substr(-4).slice(0,2)+"-"+t.substr(-4).slice(2)))})),this.palpites=e;break;case"dezena":this.palpitesInseridos.forEach((t=>{t.includes("-")||e.push(t.substr(-2))})),this.palpites=e;break;default:break}},toggleSelectAnimal(){this.selectedModality&&"grupo"==this.selectedModality.initials&&(this.showSelectAnimal=!this.showSelectAnimal)},toggleSelectModality(){this.showSelectModality=!this.showSelectModality},toggleShowNumberInterval(){this.selectedModality&&(this.initialNumber=null,this.finalNumber=null,this.showNumberInterval=!this.showNumberInterval)},handleCreateTicket(){this.loading.submit=!0,this.$api.post("/tickets",{tickets:this.games},{headers:{Authorization:this.accessToken()}}).then((e=>{this.loading.submit=!1,this.$toast.add({severity:"success",summary:"Sucesso",detail:"Aposta concluída com sucesso!",life:3e3}),this.games=[],this.$store.dispatch("setTicket",{ticket:e.data}),this.loadBalance(),this.loggedUser().online||this.$router.push({name:"betOverview",path:"/betOverview"})})).catch((e=>{this.loading.submit=!1,this.$toast.add({severity:"error",summary:"Erro",detail:e.response.data.error,life:15e3})}))}}},ye=i(40089);const fe=(0,ye.Z)(_e,[["render",te],["__scopeId","data-v-0ac3b956"]]);var be=fe;const ve=e=>((0,a.dD)("data-v-0dfda7d4"),e=e(),(0,a.Cn)(),e),we={class:"instantaneo"},ke={key:0,class:"badge"},Ce=ve((()=>(0,a._)("i",{class:"fas fa-ticket"},null,-1))),De=ve((()=>(0,a._)("h3",null,"Selecione os animais",-1))),Me=ve((()=>(0,a._)("h3",null,"Bilhete de aposta",-1))),xe={class:"ticket-container"},Te=ve((()=>(0,a._)("div",{style:{position:"absolute",top:"19px",left:"50px","font-size":"20px"}}," Todos ",-1))),Ae={class:"ticket-content"},Ie={key:0,class:"no-games-message"},ze=ve((()=>(0,a._)("img",{src:n,alt:"ticket-logo"},null,-1))),Se=ve((()=>(0,a._)("span",null,"Nenhum palpite adicionado.",-1))),Pe=[ze,Se],Ge={class:"item-header"},qe=["onClick"],Ee=ve((()=>(0,a._)("i",{class:"fas fa-times"},null,-1))),Ve=[Ee],$e={class:"item-body"},Re={key:0},Ne={class:"item-footer"},Le={class:"ticket-footer"},Ze={class:"footer-item"},Ue=ve((()=>(0,a._)("span",null,"Total",-1))),We={style:{display:"flex","flex-direction":"column",gap:"10px","align-items":"center","justify-content":"center"}},je=ve((()=>(0,a._)("span",null,"até",-1))),Be={class:"step-one"},Oe={class:"modality-container"},Ke=["onClick"],He={class:"modality-icon"},Ye={class:"modality-name"},Fe={class:"step-two"},Qe={class:"step-header"},Xe=ve((()=>(0,a._)("i",{class:"fa-regular fa-arrow-left"},null,-1))),Je=[Xe],et={style:{"align-self":"center","font-weight":"bold"}},tt={class:"step-container"},it={class:"section"},at=ve((()=>(0,a._)("i",{class:"far fa-list-ol"},null,-1))),st=[at],lt=ve((()=>(0,a._)("i",{class:"far fa-gift"},null,-1))),ot=[lt],nt=ve((()=>(0,a._)("i",{class:"far fa-times"},null,-1))),rt=[nt],dt={key:0,class:"section"},ct=["onClick"],mt={key:0},ht={key:1},pt={key:2},ut=ve((()=>(0,a._)("i",{class:"far fa-arrow-right"},null,-1))),gt=[ut],_t={key:1,class:"palpite-area"},yt=["onClick"],ft={class:"step-three"},bt={class:"step-header"},vt=ve((()=>(0,a._)("i",{class:"fa-regular fa-arrow-left"},null,-1))),wt=[vt],kt=ve((()=>(0,a._)("span",{style:{"align-self":"center","font-weight":"bold"}}," Prêmios ",-1))),Ct={class:"step-container"},Dt={class:"value-label"};function Mt(e,t,i,s,n,r){const d=(0,a.up)("ConfirmDialog"),c=(0,a.up)("Button"),m=(0,a.up)("SelectAnimal"),h=(0,a.up)("Sidebar"),p=(0,a.up)("MultiSelect"),u=(0,a.up)("money3"),g=(0,a.up)("InputNumber"),_=(0,a.up)("Dialog"),y=(0,a.up)("InputText"),f=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)("div",we,[(0,a.Wm)(d),(0,a.Wm)(c,{onClick:t[0]||(t[0]=e=>r.toggleTicket(e)),class:"btn-ticket"},{default:(0,a.w5)((()=>[n.games.length>0?((0,a.wg)(),(0,a.iD)("div",ke,(0,l.zw)(n.games.length),1)):(0,a.kq)("",!0),Ce])),_:1}),(0,a.Wm)(h,{class:"bottom-select",visible:n.showSelectAnimal,"onUpdate:visible":t[1]||(t[1]=e=>n.showSelectAnimal=e),baseZIndex:1e4,position:"bottom"},{header:(0,a.w5)((()=>[De])),default:(0,a.w5)((()=>[(0,a.Wm)(m,{itemsSelected:n.palpites,onSetAnimal:r.setAnimal},null,8,["itemsSelected","onSetAnimal"])])),_:1},8,["visible"]),(0,a.Wm)(h,{class:"bottom-select",visible:n.showTicket,"onUpdate:visible":t[4]||(t[4]=e=>n.showTicket=e),baseZIndex:1e4,position:"bottom"},{header:(0,a.w5)((()=>[Me])),default:(0,a.w5)((()=>[(0,a._)("div",xe,[(0,a.Wm)(p,{loading:n.loading.extractions,modelValue:n.selectedExtractions,"onUpdate:modelValue":t[2]||(t[2]=e=>n.selectedExtractions=e),options:n.extractions,optionLabel:"name",placeholder:"Horário"},{header:(0,a.w5)((()=>[Te])),_:1},8,["loading","modelValue","options"]),(0,a._)("div",Ae,[0==n.games?((0,a.wg)(),(0,a.iD)("div",Ie,Pe)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.games,((i,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:s},[(0,a._)("div",Ge,[(0,a._)("div",null,(0,l.zw)(i.modalidade),1),(0,a._)("div",null,[(0,a._)("button",{class:"btn-game",onClick:e=>r.handleRemoveGame(s)},Ve,8,qe)])]),(0,a._)("div",$e,[(0,a._)("span",null,"Posição: "+(0,l.zw)(i.award_name),1),i.modalidade.includes("Milhar")?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",Re,"Lado: "+(0,l.zw)(i.positions.join(", ")),1)),(0,a._)("span",null,"Palpites: "+(0,l.zw)(i.palpites.join(", ")),1)]),(0,a._)("div",Ne,[(0,a.Wm)(u,(0,a.dG)({class:"money-input",onKeyup:t[3]||(t[3]=(0,o.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:i.valor,"onUpdate:modelValue":e=>i.valor=e},n.moneyconfig),null,16,["modelValue","onUpdate:modelValue"])])])))),128))]),(0,a._)("div",Le,[(0,a._)("div",Ze,[Ue,(0,a._)("span",null,"R$ "+(0,l.zw)(this.formatCurrency(n.games.reduce(((e,t)=>e+parseFloat(t.valor)),0)*n.selectedExtractions.length)),1)]),(0,a.Wm)(c,{onClick:r.handleCreateTicket,class:"btn-submit",label:"Finalizar aposta",loading:n.loading.submit},null,8,["onClick","loading"])])])])),_:1},8,["visible"]),(0,a.Wm)(_,{visible:n.showNumberInterval,"onUpdate:visible":t[8]||(t[8]=e=>n.showNumberInterval=e),modal:"",header:"Insira um intervalo",style:{width:"250px"}},{default:(0,a.w5)((()=>[(0,a._)("div",We,[(0,a.Wm)(g,{modelValue:n.initialNumber,"onUpdate:modelValue":t[5]||(t[5]=e=>n.initialNumber=e),inputmode:"numeric",mode:"decimal",min:0,max:n.modality_rule?.numeroMaximo},null,8,["modelValue","max"]),je,(0,a.Wm)(g,{modelValue:n.finalNumber,"onUpdate:modelValue":t[6]||(t[6]=e=>n.finalNumber=e),inputmode:"numeric",mode:"decimal",min:0,max:n.modality_rule?.numeroMaximo},null,8,["modelValue","max"]),(0,a.Wm)(c,{class:"submit-btn",onClick:t[7]||(t[7]=e=>r.handleInsertInterval()),label:"Confirmar"})])])),_:1},8,["visible"]),(0,a._)("div",Be,[(0,a._)("div",Oe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.modalities,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{onClick:t=>r.stepTwo(e),style:(0,l.j5)(`border-left: solid ${e.color} 2px;`),class:"modality-item",key:t},[(0,a._)("div",He,(0,l.zw)(e.shortname),1),(0,a._)("span",Ye,(0,l.zw)(e.name),1)],12,Ke)))),128))])]),(0,a._)("div",Fe,[(0,a._)("div",Qe,[(0,a._)("button",{onClick:t[9]||(t[9]=e=>r.backToStepOne()),class:"btn-return"},Je),(0,a._)("span",et,(0,l.zw)(n.selectedModality?.name),1)]),(0,a._)("div",tt,[(0,a._)("div",it,[(0,a._)("button",{class:"btn-talao",onClick:t[10]||(t[10]=e=>r.handleAddPalpiteTalao())}," Nº talão "+(0,l.zw)(this.$store.getters.getTalao),1),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[11]||(t[11]=e=>r.toggleShowNumberInterval()),class:"btn-action"},st)),[[f,"Inserir intervalo de números"]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[12]||(t[12]=e=>r.handleAddRandomPalpite()),class:"btn-action"},ot)),[[f,"Palpite aleatório"]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[13]||(t[13]=e=>r.handleRemoveAllPalpites()),class:"btn-action"},rt)),[[f,"Remover palpites"]])]),n.selectedModality&&!n.selectedModality.initials.includes("milhar")?((0,a.wg)(),(0,a.iD)("div",dt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.positions,((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{key:t,style:(0,l.j5)(n.selectedPositions.includes(e)?"background: var(--app-primary-color); border: none;":""),class:"btn-action",onClick:t=>r.handleSelectPosition(e)},["Esquerda"==e?((0,a.wg)(),(0,a.iD)("span",mt,"E")):(0,a.kq)("",!0),"Meio"==e?((0,a.wg)(),(0,a.iD)("span",ht,"M")):(0,a.kq)("",!0),"Direita"==e?((0,a.wg)(),(0,a.iD)("span",pt,"D")):(0,a.kq)("",!0)],12,ct)),[[f,e]]))),128))])):(0,a.kq)("",!0),(0,a._)("form",{style:{display:"flex",gap:"10px",width:"100%",height:"60px"},onSubmit:t[17]||(t[17]=(0,o.iM)((e=>r.handleAddPalpite()),["prevent"]))},[(0,a.Wm)(y,{style:{width:"100%"},onClick:t[14]||(t[14]=e=>r.toggleSelectAnimal()),inputmode:"numeric",onInput:r.handleInputPalpite,modelValue:n.palpite,"onUpdate:modelValue":t[15]||(t[15]=e=>n.palpite=e),placeholder:"Insira um palpite"},null,8,["onInput","modelValue"]),(0,a._)("button",{onClick:t[16]||(t[16]=e=>r.handleAddPalpite()),class:"btn-add-palpite"},gt)],32),n.palpites.length>0?((0,a.wg)(),(0,a.iD)("div",_t,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.palpites,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{key:t,class:"palpite",onClick:e=>r.handleRemovePalpite(t)},(0,l.zw)(e),9,yt)))),128)),(0,a._)("span",null,"("+(0,l.zw)(n.palpites.length)+")",1)])):(0,a.kq)("",!0)]),(0,a.Wm)(c,{onClick:t[18]||(t[18]=e=>r.stepThree()),class:"btn-submit",label:"Próximo >",style:{width:"100%"}})]),(0,a._)("div",ft,[(0,a._)("div",bt,[(0,a._)("button",{onClick:t[19]||(t[19]=e=>r.backToStepTwo()),class:"btn-return"},wt),kt]),(0,a._)("div",Ct,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.awards,((i,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"award-container",key:s},[(0,a._)("div",Dt,(0,l.zw)(i.name),1),(0,a.Wm)(u,(0,a.dG)({class:"money-input",onKeyup:t[20]||(t[20]=(0,o.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:i.value,"onUpdate:modelValue":e=>i.value=e},n.moneyconfig),null,16,["modelValue","onUpdate:modelValue"])])))),128)),n.showAllAwards?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[21]||(t[21]=e=>r.showAwards()),class:"btn-show"}," Mostrar mais prêmios "))]),(0,a.Wm)(c,{class:"btn-submit",onClick:t[22]||(t[22]=e=>r.validateGame()),label:"Adicionar aposta"})])])}var xt={name:"InstantaneoSteps",components:{Dialog:ge.Z,Button:ae.Z,InputText:le.Z,InputNumber:se.Z,SelectAnimal:de.Z,Sidebar:ie.Z,MultiSelect:he.Z,ConfirmDialog:ue.Z},data(){return{showAllAwards:!1,showSelectAnimal:!1,showTicket:!1,showNumberInterval:!1,initialNumber:null,finalNumber:null,games:[],palpites:[],palpitesInseridos:[],lotteries:[],modalities:[],awards:[],extractions:[],positions:["Esquerda","Meio","Direita"],selectedExtractions:[],selectedPositions:[],selectedModality:null,selectedLottery:null,palpite:"",modality_rule:null,loading:{limits:!1,modalities:!1,lotteries:!1,submit:!1},limits:{},sortedModalities:[{name:"Grupo",shortname:"G",color:"limegreen"},{name:"Grupo salteado",shortname:"GS",color:"limegreen"},{name:"Milhar de ouro",shortname:"MO",color:"#ff3535"},{name:"Milhar e Centena",shortname:"MC",color:"#ff3535"},{name:"Milhar",shortname:"M",color:"#ff3535"},{name:"Centena",shortname:"C",color:"#00a2ff"},{name:"Duque de Dezena",shortname:"DDZ",color:"orange"},{name:"Duque de Dezena Combinado",shortname:"DDZC",color:"orange"},{name:"DD c/ repetição",shortname:"DDCR",color:"orange"},{name:"DD Combinado c/ Repetição",shortname:"DDZC",color:"orange"},{name:"Terno de Dezena",shortname:"TDZ",color:"orange"},{name:"Terno de Dezena Combinado",shortname:"TDZC",color:"orange"},{name:"TDZ c/ repetição",shortname:"TDZCR",color:"orange"},{name:"TDZ Combinado c/ repetição",shortname:"TDZCR",color:"orange"},{name:"Dezena",shortname:"D",color:"orange"},{name:"Duque de Grupo",shortname:"DG",color:"limegreen"},{name:"Duque de Grupo Combinado",shortname:"DGC",color:"limegreen"},{name:"DG c/ repetição",shortname:"DGCR",color:"limegreen"},{name:"DG Combinado c/ Repetição",shortname:"DGCR",color:"limegreen"},{name:"Terno de Grupo",shortname:"TG",color:"limegreen"},{name:"Terno de Grupo Combinado",shortname:"TGC",color:"limegreen"},{name:"Terno de Grupo chaveado",shortname:"TGC",color:"limegreen"},{name:"TG c/ repetição",shortname:"TGCR",color:"limegreen"},{name:"TG Combinado c/ repetição",shortname:"TGCR",color:"limegreen"},{name:"Milhar e centena Invertida",shortname:"MCI",color:"#ff3535"},{name:"Milhar Invertida",shortname:"MI",color:"#ff3535"},{name:"Centena Invertida",shortname:"CI",color:"#00a2ff"},{name:"Milhar aproximada",shortname:"MA",color:"#ff3535"},{name:"Milhar vai e volta",shortname:"MVV",color:"#ff3535"},{name:"MCITDC",shortname:"M",color:"#ff3535"},{name:"MCIDDC",shortname:"M",color:"#ff3535"},{name:"Centena aproximada",shortname:"CA",color:"#00a2ff"},{name:"Centena vai e volta",shortname:"CVV",color:"#00a2ff"},{name:"CITDC",shortname:"C",color:"#00a2ff"},{name:"CIDDC",shortname:"C",color:"#00a2ff"},{name:"Dezena Invertida",shortname:"DI",color:"orange"},{name:"Grupo par",shortname:"GP",color:"limegreen"},{name:"Grupo impar",shortname:"GI",color:"limegreen"},{name:"Passe",shortname:"P",color:"yellow"},{name:"Passe de ida",shortname:"PI",color:"yellow"},{name:"Passe de ida e volta",shortname:"PIV",color:"yellow"},{name:"Passe especial",shortname:"PE",color:"yellow"},{name:"Passe especial combinado",shortname:"PEC",color:"yellow"}],moneyconfig:{masked:!1,prefix:"R$ ",suffix:"",thousands:".",decimal:",",precision:2,disableNegative:!1,disabled:!1,min:null,max:null,allowBlank:!1,minimumNumberOfCharacters:0}}},mounted(){this.refreshTalao(),this.loadLotteries(),this.loadLimits()},watch:{selectedLottery:function(){this.selectedLottery&&(this.loadModalities(),this.loadExtractions())},editGame:function(){this.editGame&&this.loadLotteries()},selectedModality:function(){this.selectedModality&&(this.palpites=[],this.palpite="",this.selectedPositions=["Direita"],this.modality_rule=this.getModalityRule(this.selectedModality.definition),this.positions=this.modality_rule.positions,this.loadAwards(),this.repetirPalpites())}},methods:{toggleTicket(){this.showTicket=!this.showTicket},backToStepOne(){this.showAllAwards=!1,document.querySelector(".step-one").style.display="flex",document.querySelector(".step-two").style.display="none",document.querySelector(".step-three").style.display="none"},backToStepTwo(){this.showAllAwards=!1,document.querySelector(".step-one").style.display="none",document.querySelector(".step-two").style.display="flex",document.querySelector(".step-three").style.display="none"},stepTwo(e){this.showAllAwards=!1,this.selectedModality=e,document.querySelector(".step-one").style.display="none",document.querySelector(".step-two").style.display="flex"},stepThree(){this.showAllAwards=!1,0!=this.palpites.length?0!=this.selectedPositions.length?(document.querySelector(".step-two").style.display="none",document.querySelector(".step-three").style.display="flex"):this.$toast.add({severity:"error",summary:"Erro",detail:"Você não selecionou nenhum lado",life:3e3}):this.$toast.add({severity:"error",summary:"Erro",detail:"Você não adicionou nenhum palpite",life:3e3})},toggleShowNumberInterval(){this.selectedModality&&(this.initialNumber=null,this.finalNumber=null,this.showNumberInterval=!this.showNumberInterval)},showAwards(){this.showAllAwards=!0,this.loadAwards()},toggleSelectAnimal(){this.selectedModality&&"grupo"==this.selectedModality.initials&&(this.showSelectAnimal=!this.showSelectAnimal)},loadLotteries(){this.loading.lotteries=!1;let e="PT-RIO";this.$api.get(`/lotteries/${e}`,{headers:{Authorization:this.accessToken()}}).then((e=>{this.selectedLottery=e.data,this.loading.lotteries=!1})).catch((e=>{console.log(e),this.loading.lotteries=!1}))},loadModalities(){this.loading.modalities=!0,this.$api.get("/modalities",{headers:{Authorization:this.accessToken()},params:{region_id:this.loggedUser().region_id,region_search:this.loggedUser().region_id,lottery_search:this.selectedLottery.id,lottery_id:this.selectedLottery.id}}).then((e=>{let t=e.data,i=[],a=[],s={...t.find((e=>"duque_dezena"==e.initials.toLowerCase()))??{}};s.name="Duque de Dezena Combinado",s.definition="duque_dezena_combinado";let l={...t.find((e=>"duque_grupo"==e.initials.toLowerCase()))??{}};l.name="Duque de Grupo Combinado",l.definition="duque_grupo_combinado";let o={...t.find((e=>"terno_dezena"==e.initials.toLowerCase()))??{}};o.name="Terno de Dezena Combinado",o.definition="terno_dezena_combinado";let n={...t.find((e=>"terno_grupo"==e.initials.toLowerCase()))??{}};n.name="Terno de Grupo Combinado",n.definition="terno_grupo_combinado";let r={...t.find((e=>"duque_dezena_repeticao"==e.initials.toLowerCase()))??{}};r.name="DD Combinado c/ Repetição",r.definition="duque_dezena_combinado_repeticao";let d={...t.find((e=>"terno_dezena_repeticao"==e.initials.toLowerCase()))??{}};d.name="TDZ Combinado c/ Repetição",d.definition="terno_dezena_combinado_repeticao";let c={...t.find((e=>"duque_grupo_repeticao"==e.initials.toLowerCase()))??{}};c.name="DG Combinado c/ Repetição",c.definition="duque_grupo_combinado_repeticao";let m={...t.find((e=>"terno_grupo_repeticao"==e.initials.toLowerCase()))??{}};m.name="TG Combinado c/ Repetição",m.definition="terno_grupo_combinado_repeticao",t.push(s),t.push(l),t.push(o),t.push(n),t.push(r),t.push(d),t.push(c),t.push(m),this.sortedModalities.forEach((e=>{let a=t.find((t=>t.name.toLowerCase()==e.name.toLowerCase()));a&&(a.shortname=e.shortname,a.color=e.color,i.push(a))})),a=t.filter((e=>!i.includes(e))),this.modalities=i.concat(a),this.loading.modalities=!1})).catch((e=>{console.log(e),this.loading.modalities=!1}))},loadLimits(){this.loading.limits=!0,this.$api.get("instantaneoconfig/show",{headers:{Authorization:this.accessToken()},params:{region_id:this.loggedUser().region_id}}).then((e=>{this.limits=e.data,this.loading.limits=!1})).catch((e=>{console.log(e),this.loading.limits=!1}))},loadAwards(){this.loading.awards=!0,this.$api.get("/awards/awardsByModality",{headers:{Authorization:this.accessToken()},params:{modality_id:this.selectedModality.id}}).then((e=>{this.showAllAwards?this.awards=e.data:this.awards=e.data.filter((e=>this.modality_rule.main_awards.includes(e.internal_name))),this.loading.awards=!1})).catch((e=>{console.log(e),this.loading.awards=!1}))},loadExtractions(){this.loading.extractions=!0,this.$api.get("/extraction/instantaneo",{headers:{Authorization:this.accessToken()},params:{lottery_search:this.selectedLottery.id}}).then((e=>{this.extractions=e.data,this.selectedExtractions=[e.data[0]],this.loading.extractions=!1})).catch((e=>{console.log(e),this.loading.extractions=!1}))},handleSelectPosition(e){this.selectedPositions.includes(e)?this.selectedPositions.splice(this.selectedPositions.indexOf(e),1):this.selectedPositions.push(e)},handleRemoveGame(e){this.games=this.games.filter(((t,i)=>i!=e))},handleEditGame(e){console.log(e)},handleSelectExtraction(e){this.selectedExtractions.includes(e)?this.selectedExtractions.splice(this.selectedExtractions.indexOf(e),1):this.selectedExtractions.push(e)},handleInputPalpite(){switch(this.palpite=this.palpite.replace(/[^0-9]/g,""),this.selectedModality.initials){case"grupo":this.palpite=this.palpite.replace(/([2][6-9])|([3-9][0-9])/g,"");break;case"terno_grupo":case"terno_grupo_repeticao":case"terno_grupo_chaveado":case"duque_grupo":case"passe":case"duque_grupo_repeticao":case"passe_ida":case"passe_ida_volta":case"passe_especial":case"passe_especial_combinado":this.palpite.length%2===0&&(this.palpite=this.palpite.match(/(0[1-9]|1\d|2[0-5])/g).join("-"));break;case"terno_dezena":case"terno_dezena_repeticao":case"duque_dezena":case"duque_dezena_repeticao":case"esquerda_meia_direita":this.palpite.length%2===0&&(this.palpite=this.palpite.match(/\d{2}/g).join("-"));break;default:break}this.palpite.length>=this.modality_rule.maximoDigitos&&this.handleAddPalpite()},handleAddPalpite(){if(this.palpite.length>=this.modality_rule.minimoDigitos){switch(this.$store.dispatch("refreshUserActivityTime"),this.selectedModality.initials){case"terno_grupo":case"terno_grupo_repeticao":case"terno_grupo_chaveado":case"duque_grupo":case"passe":case"passe_ida":case"passe_ida_volta":case"passe_especial":case"passe_especial_combinado":this.palpite=this.palpite.match(/(0[1-9]|1\d|2[0-5])/g).join("-");break;case"terno_dezena":case"terno_dezena_repeticao":case"duque_dezena":case"duque_dezena_repeticao":case"esquerda_meia_direita":this.palpite=this.palpite.match(/\d{2}/g).join("-");break;default:break}this.palpites.push(this.palpite),this.palpite=""}},handleAddPalpiteTalao(){this.selectedModality&&(this.palpite=this.generatePalpiteTalao(this.selectedModality.initials),this.handleAddPalpite())},handleAddRandomPalpite(){this.selectedModality&&(this.palpite=this.generatePalpite(this.selectedModality.initials),this.handleAddPalpite())},handleRemovePalpite(e){this.palpites=this.palpites.filter(((t,i)=>i!=e))},handleRemoveAllPalpites(){this.palpites=[]},setAnimal(e){const t=this.palpites.find((t=>t==e.item));t?this.palpites=this.palpites.filter((t=>t!=e.item)):(this.palpite=e.item,this.handleAddPalpite())},repetirPalpites(){if(this.palpites.length>0)return;let e=[];switch(this.selectedModality.initials){case"milhar_centena":case"milhar":case"milhar_invertida":case"milhar_centena_invertida":case"milhar_ouro":this.palpitesInseridos.forEach((t=>{t.length>=4&&!t.includes("-")&&e.push(t.substr(-4))})),this.palpites=e;break;case"centena":case"centena_invertida":this.palpitesInseridos.forEach((t=>{t.length>=3&&!t.includes("-")&&e.push(t.substr(-3))})),this.palpites=e;break;case"duque_dezena":this.palpitesInseridos.forEach((t=>{t.length>=4&&(t.includes("-")?e.push(t):e.push(t.substr(-4).slice(0,2)+"-"+t.substr(-4).slice(2)))})),this.palpites=e;break;case"dezena":this.palpitesInseridos.forEach((t=>{t.includes("-")||e.push(t.substr(-2))})),this.palpites=e;break;default:break}},handleInsertInterval(){if(!this.selectedModality)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Selecione uma modalidade",life:3e3});if("number"!==typeof this.initialNumber||"number"!==typeof this.finalNumber)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Entrada inválida",life:3e3});if(this.initialNumber>this.finalNumber)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Intervalo inválido.",life:3e3});let e=[];for(let t=this.initialNumber;t<=this.finalNumber;t++)["milhar","milhar_invertida","milhar_centena","milhar_centena_invertida","milhar_vai_volta","milhar_aproximada","milhar_ouro","mcitdc","mciddc"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-4)),["centena","centena_invertida","centena_vai_volta","centena_aproximada","citdc","ciddc"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-3)),["dezena","dezena_invertida","grupo"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-2)),e.push(("0000"+t).substr(-2));if(["duque_dezena","duque_dezena_repeticao","terno_dezena","terno_dezena_repeticao","duque_grupo","passe","duque_grupo_repeticao","terno_grupo","terno_grupo_repeticao"].includes(this.selectedModality.initials)){if(e.join("-").length<this.modality_rule.minimoDigitos)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Intervalo inválido.",life:3e3});this.palpites.push(e.join("-"))}this.toggleShowNumberInterval()},validateGame(){for(let e=0;e<this.awards.length;e++)if(this.awards[e].value>=100)return void this.$confirm.require({message:"O valor inserido é igual ou superior a R$ 100,00. Deseja prosseguir?",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{this.handleAddGame()}});this.handleAddGame()},handleAddGame(){let e=this.awards.filter((e=>e.value>=.1));var t=[];for(let r=0;r<e.length;r++){var i=[...this.selectedPositions],a=this.getModalityRule(this.selectedModality.definition,e[r].name);const d=this.selectedPositions.find((e=>!a.positions.includes(e)));d&&(i=["Direita"]);var s=this.getAward(e[r].internal_name).length*this.palpites.length*i.length,l=e[r].value/s*this.selectedModality.default_cotation,o=0;switch(this.selectedModality.initials){case"grupo_par":case"grupo_impar":o=9*this.limits["grupo"];break;case"dezena_invertida":o=4*this.limits["dezena_value"];break;case"milhar_centena":o=3*this.limits["milhar_value"];break;case"milhar_invertida":o=6*this.limits["milhar_value"];break;case"milhar_centena_invertida":o=12*this.limits["milhar_value"];break;case"milhar_aproximada":o=3*this.limits["milhar_value"];break;case"milhar_vai_volta":o=2*this.limits["milhar_value"];break;case"centena_invertida":o=6*this.limits["centena_value"];break;case"centena_aproximada":o=3*this.limits["centena_value"];break;case"centena_vai_volta":o=2*this.limits["centena_value"];break;case"esquerda_meia_direita":o=3*this.limits["duque_dezena"];break;default:o=this.limits[`${this.selectedModality.initials}_value`];break}if(l>o)return void this.$toast.add({severity:"error",summary:"Erro",life:1e4,detail:"O valor inserido excede o valor limite. O valor limite para cada palpite no "+e[r].name+" é "+this.formatCurrency(o/this.selectedModality.default_cotation)});var n={ref:Math.floor(Date.now()*Math.random()),loteria:"Instantaneo",lottery_name:"Instantaneo",product_id:3,numero_talao:this.$store.getters.getTalao,region_id:this.loggedUser().region_id,point_id:this.loggedUser().point_id,point_name:this.loggedUser().point_name,lottery_id:this.selectedLottery.id,modalidade:this.selectedModality.name,modality_id:this.selectedModality.id,modality_cotation:this.selectedModality.default_cotation,award_name:e[r].name,award_internal:e[r].internal_name,valor:e[r].value,palpites:this.palpites,positions:i};t.push(n)}this.games=[...this.games,...t],this.$toast.add({severity:"success",summary:"Sucesso",detail:"Palpite adicionado ao bilhete!",life:3e3}),"milhar"!=this.selectedModality.initials&&"centena"!=this.selectedModality.initials&&"centena_invertida"!=this.selectedModality.initials&&"milhar_invertida"!=this.selectedModality.initials&&"milhar_centena"!=this.selectedModality.initials&&"dezena"!=this.selectedModality.initials&&"milhar_centena_invertida"!=this.selectedModality.initials&&"milhar_ouro"!=this.selectedModality.initials&&"terno_dezena"!=this.selectedModality.initials||(this.palpitesInseridos=this.palpites),this.backToStepOne(),this.palpites=[]},handleCreateTicket(){if(0==this.selectedExtractions.length)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Você não selecionou nenhuma extração",life:5e3});let e=[];for(let t=0;t<this.games.length;t++)for(let i=0;i<this.selectedExtractions.length;i++)e.push({...this.games[t],ref:Math.floor(Date.now()*Math.random()),loteria:this.selectedExtractions[i].name,extraction:this.selectedExtractions[i].id});this.loading.submit=!0,this.$api.post("/tickets",{tickets:e},{headers:{Authorization:this.accessToken()}}).then((e=>{this.loading.submit=!1,this.$toast.add({severity:"success",summary:"Sucesso",detail:"Aposta concluída com sucesso!",life:3e3}),this.games=[],this.$store.dispatch("setTicket",{ticket:e.data}),this.loadBalance(),this.loggedUser().online?this.$router.push({name:"history",path:"/history",params:{status:"finished"}}):this.$router.push({name:"betOverview",path:"/betOverview"})})).catch((e=>{this.loading.submit=!1,this.$toast.add({severity:"error",summary:"Erro",detail:e.response.data.error,life:15e3})}))}}};const Tt=(0,ye.Z)(xt,[["render",Mt],["__scopeId","data-v-0dfda7d4"]]);var At=Tt,It={components:{InstantaneoStandard:be,InstantaneoSteps:At}};const zt=(0,ye.Z)(It,[["render",s]]);var St=zt}}]);
//# sourceMappingURL=796.45347c1b.js.map