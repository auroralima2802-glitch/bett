"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[942],{71625:function(e,t,a){a.d(t,{Z:function(){return u}});var r=a(73396),i=a(87139);const s={class:"breadcrumb"},l={class:"breadcrumb-item"},o=["href"],c={key:0,class:"fa-solid fa-angle-right"};function n(e,t,a,n,d,h){return(0,r.wg)(),(0,r.iD)("div",s,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.items,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t,class:"breadcrumb-item"},[(0,r._)("div",l,[(0,r._)("a",{href:e.to},(0,i.zw)(e.label.length>20?e.label.substr(0,20)+"...":e.label),9,o),t!=a.items.length-1?((0,r.wg)(),(0,r.iD)("i",c)):(0,r.kq)("",!0)])])))),128))])}var d={name:"Breadcrumb",props:{items:Array},data(){return{}}},h=a(40089);const g=(0,h.Z)(d,[["render",n]]);var u=g},36942:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var r=a(73396),i=a(87139);const s=e=>((0,r.dD)("data-v-c290b8a0"),e=e(),(0,r.Cn)(),e),l={class:"article ql-editor"},o={style:{display:"flex","flex-wrap":"wrap","min-height":"100vh",gap:"15px"}},c={class:"article-container"},n=["innerHTML"],d={class:"related-articles"},h=s((()=>(0,r._)("h3",null,"Artigos Relacionados",-1))),g=["href"];function u(e,t,a,s,u,m){const f=(0,r.up)("Breadcrumb");return(0,r.wg)(),(0,r.iD)("div",l,[(0,r.Wm)(f,{items:u.navItems},null,8,["items"]),(0,r._)("div",o,[(0,r._)("div",c,[(0,r._)("h3",null,(0,i.zw)(this.article?.title),1),(0,r._)("span",{innerHTML:this.article?.html_text},null,8,n)]),(0,r._)("div",d,[h,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(u.relatedArticles,((e,t)=>((0,r.wg)(),(0,r.iD)("a",{key:t,href:"/faq/categories/articles/"+e.id},(0,i.zw)(e.title>20?e.title.substr(0,20)+"...":e.title),9,g)))),128))])])])}var m=a(71625),f={name:"article",components:{Breadcrumb:m.Z},data(){return{navItems:[{label:"Home",to:"/"},{label:"Ajuda",to:"/faq"}],article:{},relatedArticles:[],region_id:null}},mounted(){this.loadArticle(this.$route.params.id),this.region_id=this.$store.getters.getSiteConfig?this.$store.getters.getSiteConfig.region_id:this.loggedUser().region_id},methods:{loadArticle(e){this.$api.get(`/articles/${e}`,{headers:{Authorization:`Bearer ${this.accessToken()}`}}).then((e=>{this.article=e.data,this.navItems=[...this.navItems,{label:e.data.category_name,to:"/faq/categories/"+e.data.category_id},{label:e.data.title,to:"/faq/categories/articles/"+e.data.id}],this.loadRelatedArticles(e.data.category_id)})).catch((()=>{this.$toast.add({severity:"error",summary:"Erro",detail:"Não foi possível carregar esse artigo",life:3e3})}))},loadRelatedArticles(e){this.$api.get("/articles",{headers:{Authorization:`Bearer ${this.accessToken()}`},params:{search_category:e,region_id:this.region_id}}).then((e=>{this.relatedArticles=e.data.filter((e=>e.id!=this.article.id))})).catch((()=>{this.$toast.add({severity:"error",summary:"Erro",detail:"Não foi possível carregar esse artigo",life:3e3})}))}}},b=a(40089);const _=(0,b.Z)(f,[["render",u],["__scopeId","data-v-c290b8a0"]]);var p=_}}]);
//# sourceMappingURL=942.00d8eeb9.js.map