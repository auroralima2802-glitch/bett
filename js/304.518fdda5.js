"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[304],{2439:function(e,i,a){a.d(i,{Z:function(){return n}});var t=a(73396),s=a(87139),o=a(49242),n={name:"InputSwitch",inheritAttrs:!1,emits:["click","update:modelValue","change","input"],props:{modelValue:{type:null,default:!1},class:null,style:null,trueValue:{type:null,default:!0},falseValue:{type:null,default:!1}},data(){return{focused:!1}},methods:{onClick(e){if(!this.$attrs.disabled){const i=this.checked?this.falseValue:this.trueValue;this.$emit("click",e),this.$emit("update:modelValue",i),this.$emit("change",e),this.$emit("input",i),this.$refs.input.focus()}e.preventDefault()},onFocus(){this.focused=!0},onBlur(){this.focused=!1}},computed:{containerClass(){return["p-inputswitch p-component",this.class,{"p-inputswitch-checked":this.checked,"p-disabled":this.$attrs.disabled,"p-focus":this.focused}]},checked(){return this.modelValue===this.trueValue}}};const l={class:"p-hidden-accessible"},d=["checked","aria-checked"],r=(0,t._)("span",{class:"p-inputswitch-slider"},null,-1);function c(e,i,a,n,c,h){return(0,t.wg)(),(0,t.iD)("div",{class:(0,s.C_)(h.containerClass),onClick:i[3]||(i[3]=e=>h.onClick(e)),style:(0,s.j5)(a.style)},[(0,t._)("div",l,[(0,t._)("input",(0,t.dG)({ref:"input",type:"checkbox",checked:h.checked},e.$attrs,{onFocus:i[0]||(i[0]=e=>h.onFocus(e)),onBlur:i[1]||(i[1]=e=>h.onBlur(e)),onKeydown:i[2]||(i[2]=(0,o.D2)((0,o.iM)((e=>h.onClick(e)),["prevent"]),["enter"])),role:"switch","aria-checked":h.checked}),null,16,d)]),r],6)}function h(e,i){void 0===i&&(i={});var a=i.insertAt;if(e&&"undefined"!==typeof document){var t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===a&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var m='\n.p-inputswitch {\n    position: relative;\n    display: inline-block;\n}\n.p-inputswitch-slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n.p-inputswitch-slider:before {\n    position: absolute;\n    content: "";\n    top: 50%;\n}\n';h(m),n.render=c},44304:function(e,i,a){a.r(i),a.d(i,{default:function(){return Z}});var t=a(73396),s=a(87139);const o=e=>((0,t.dD)("data-v-11c9c8f6"),e=e(),(0,t.Cn)(),e),n={class:"main-container"},l={key:0,class:"mobile-container"},d=["src"],r={class:"actions-container"},c=(0,t.Uk)(" Demonstração "),h=(0,t.Uk)(" Modo real "),m={key:0,class:"section"},u=o((()=>(0,t._)("h4",{class:"section-title"},"Jogos relacionados",-1))),g={class:"game-list"},p=["onClick"],f={class:"game-cover"},v=["src"],_={class:"game-title"},k={key:1,class:"desktop-container"},y={class:"game-container"},w={class:"game-header"},b={style:{display:"flex","align-items":"center","margin-bottom":"10px",gap:"10px","font-size":"14px",color:"#cdcdcd"}},C=o((()=>(0,t._)("span",null,"Demonstração",-1))),M=o((()=>(0,t._)("span",null,"Modo real",-1))),D=["src"],I={key:0,class:"section"},$=o((()=>(0,t._)("h4",{class:"section-title"},"Jogos relacionados",-1))),V={class:"game-list"},z=["onClick"],G={class:"game-cover"},R=["src"],x={class:"game-title"};function j(e,i,a,o,j,E){const T=(0,t.up)("Spinner"),U=(0,t.up)("InputSwitch");return(0,t.wg)(),(0,t.iD)("div",n,[e.isMobile()?((0,t.wg)(),(0,t.iD)("div",l,[j.loading.info?((0,t.wg)(),(0,t.j4)(T,{key:0})):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("img",{class:"game-cover",src:j.gameInfo?.cover_horizontal,alt:"cover"},null,8,d),(0,t._)("div",r,[(0,t._)("button",{onClick:i[0]||(i[0]=e=>{j.isRealMode=!1,E.loadGame()}),class:"btn-action"},[(0,t._)("i",{class:(0,s.C_)(j.loading.game?"fad fa-spin fa-spinner-third":"fa-solid fa-play")},null,2),c]),(0,t._)("button",{onClick:i[1]||(i[1]=e=>{j.isRealMode=!0,E.loadGame()}),class:"btn-action highlight"},[(0,t._)("i",{class:(0,s.C_)(j.loading.game?"fad fa-spin fa-spinner-third":"fa-solid fa-play")},null,2),h])]),j.gameInfo?.related_games.length>0?((0,t.wg)(),(0,t.iD)("div",m,[u,(0,t._)("div",g,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(j.gameInfo?.related_games,(e=>((0,t.wg)(),(0,t.iD)("div",{onClick:i=>E.navigateToGame(e.id),key:e.id,class:"game-item",style:"width: 150px"},[(0,t._)("div",f,[(0,t._)("img",{src:e.cover_horizontal,alt:"cover"},null,8,v)]),(0,t._)("div",_,(0,s.zw)(e.title),1)],8,p)))),128))])])):(0,t.kq)("",!0)],64))])):((0,t.wg)(),(0,t.iD)("div",k,[j.loading.game||j.loading.info?((0,t.wg)(),(0,t.j4)(T,{key:0})):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("div",y,[(0,t._)("div",w,[(0,t._)("h4",null,(0,s.zw)(j.gameInfo?.title),1),(0,t._)("div",b,[C,(0,t.Wm)(U,{onChange:i[2]||(i[2]=e=>E.toggleDemoMode()),modelValue:j.isRealMode,"onUpdate:modelValue":i[3]||(i[3]=e=>j.isRealMode=e)},null,8,["modelValue"]),M])]),(0,t._)("iframe",{id:"slot-iframe",src:j.game?.IframeUrl,frameborder:"0",allowfullscreen:"",allow:"autoplay"},null,8,D)]),j.gameInfo?.related_games.length>0?((0,t.wg)(),(0,t.iD)("div",I,[$,(0,t._)("div",V,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(j.gameInfo?.related_games,(e=>((0,t.wg)(),(0,t.iD)("div",{onClick:i=>E.navigateToGame(e.id),key:e.id,class:"game-item",style:"width: 150px"},[(0,t._)("div",G,[(0,t._)("img",{src:e.cover_horizontal,alt:"cover"},null,8,R)]),(0,t._)("div",x,(0,s.zw)(e.title),1)],8,z)))),128))])])):(0,t.kq)("",!0)],64))]))])}var E=a(31826),T=a(79692),U=a(2439),B={name:"Game",components:{Button:E.Z,Spinner:T.Z,InputSwitch:U.Z},data(){return{isRealMode:!1,loading:{info:!1,game:!1},gameInfo:null,game:null}},created(){this.isRealMode=!!this.loggedUser().id,this.game_id=this.$route.params.id,this.loadGameInfo()},mounted(){const e=this;window.addEventListener("message",(function(i){"roundEnd"===i.data.name&&e.loadBalance()}),!1)},methods:{toggleDemoMode(){if(this.isRealMode&&!this.loggedUser().id)return this.isRealMode=!1,void this.$toast.add({severity:"error",summary:"Erro",detail:"Você precisa fazer login para jogar o modo real.",life:3e3});this.loadGame()},loadGameInfo(){this.loading.info=!0,this.game_id||this.$toast.add({severity:"error",summary:"Erro",detail:"Não foi possível carregar esse jogo",life:3e3}),this.$api.get(`casino/games/${this.game_id}`,{headers:{Authorization:this.accessToken()},params:{demoMode:!this.isRealMode}}).then((e=>{this.gameInfo=e.data,this.loading.info=!1,this.isMobile()||this.loadGame()})).catch((()=>{this.loading.info=!1,this.$toast.add({severity:"error",summary:"Erro",detail:"Não foi possível carregar esse jogo",life:3e3})}))},loadGame(){if(!this.loggedUser().id&&this.isRealMode)return this.$toast.add({severity:"error",summary:"Erro",detail:"Você precisa fazer login para utilizar este modo",life:3e3}),void(this.isRealMode=!1);this.loading.game=!0,this.$api.get(`/games/authorization/${this.gameInfo.external_id}`,{headers:{Authorization:this.accessToken()},params:{demoMode:!this.isRealMode,provider:this.gameInfo.provider}}).then((e=>{this.isMobile()?window.location.href=e.data.IframeUrl:this.game=e.data,this.loading.game=!1})).catch((()=>{this.loading.game=!1,this.$toast.add({severity:"error",summary:"Erro",detail:"Não foi possível carregar esse jogo",life:3e3})}))},navigateToGame(e){this.game_id=e,this.loadGameInfo()}}},S=a(40089);const N=(0,S.Z)(B,[["render",j],["__scopeId","data-v-11c9c8f6"]]);var Z=N}}]);
//# sourceMappingURL=304.518fdda5.js.map