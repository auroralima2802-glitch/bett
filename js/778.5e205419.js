"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[778],{59778:function(t,e,a){a.r(e),a.d(e,{default:function(){return B}});var s=a(73396),i=a(87139);const l=t=>((0,s.dD)("data-v-24578adc"),t=t(),(0,s.Cn)(),t),c={class:"tickets-autenticados"},o={class:"title-section"},n=l((()=>(0,s._)("h3",null,"Bilhetes Autenticados",-1))),r={class:"filter"},d={class:"tickets-container"},h={key:1},u={key:2,class:"extraction-item"},m=l((()=>(0,s._)("div",{class:"column-headers"},[(0,s._)("div",{class:"column-header"},"Ticket"),(0,s._)("div",{class:"column-header"},"Hora"),(0,s._)("div",{class:"column-header"},"PrÃªmio")],-1))),k={class:"ticket-item-column"},p={class:"ticket-item-column"},_={class:"ticket-item-column"},v={class:"column-footers"},f={class:"column-footer"},w=l((()=>(0,s._)("div",{class:"column-footer column-empty"},null,-1))),g={class:"column-footer"};function y(t,e,a,l,y,D){const C=(0,s.up)("Button"),F=(0,s.up)("Calendar"),T=(0,s.up)("Spinner");return(0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",o,[n,(0,s.Wm)(C,{icon:"fa-solid fa-sliders",onClick:D.toggleFilter},null,8,["onClick"])]),(0,s._)("div",{class:"filter-container",style:(0,i.j5)(t.showFilter?"display: flex":"display: none")},[(0,s._)("div",r,[(0,s.Wm)(F,{label:"Data",modelValue:t.date_search,"onUpdate:modelValue":e[0]||(e[0]=e=>t.date_search=e),dateFormat:"dd/mm/yy",showIcon:!0},null,8,["modelValue"])])],4),(0,s._)("div",d,[t.loading?((0,s.wg)(),(0,s.j4)(T,{key:0})):(0,s.kq)("",!0),0==t.tickets.length&&0==t.loading?((0,s.wg)(),(0,s.iD)("span",h,"Nenhum registro encontrado.")):((0,s.wg)(),(0,s.iD)("fieldset",u,[m,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.tickets,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"ticket-item",key:e},[(0,s._)("div",k,(0,i.zw)(t.id),1),(0,s._)("div",p,(0,i.zw)(this.formatTimeWithSeconds(t.authenticated_at)),1),(0,s._)("div",_,(0,i.zw)(this.formatCurrency(parseFloat(t.premio))),1)])))),128)),(0,s._)("div",v,[(0,s._)("div",f,(0,i.zw)(t.tickets.length)+" Bilhete(s)",1),w,(0,s._)("div",g,(0,i.zw)(this.formatCurrency(this.calcularTotalPremios())),1)])]))])])}var D=a(62711),C=a(31826),F=a(79692),T=a(36797),b=a.n(T),z={components:{Calendar:D.Z,Button:C.Z,Spinner:F.Z},data:()=>({tickets:[],showFilter:!1,loading:!1,date_search:new Date}),created(){this.loadTickets()},watch:{date_search:function(t){t&&this.loadTickets()}},methods:{calcularTotalPremios(){let t=0;return this.tickets.map((e=>{t+=parseFloat(e.premio)})),t},toggleFilter(){this.showFilter=!this.showFilter},loadTickets(){this.loading=!0,this.tickets=[],this.$api.get("tickets/paid",{headers:{Authorization:this.accessToken()},params:{date:b()(this.date_search).format("YYYY-MM-DD")}}).then((t=>{this.tickets=t.data,this.loading=!1})).catch((t=>{this.$toast.add({severity:"error",summary:"Erro",detail:t.response.data.message,life:3e3}),this.loading=!1}))}}},Y=a(40089);const j=(0,Y.Z)(z,[["render",y],["__scopeId","data-v-24578adc"]]);var B=j}}]);
//# sourceMappingURL=778.5e205419.js.map