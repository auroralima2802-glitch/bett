"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[332],{37332:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var i=a(73396),s=a(87139);const r=e=>((0,i.dD)("data-v-c15e37f8"),e=e(),(0,i.Cn)(),e),o={class:"faq"},l={class:"search-container"},c=r((()=>(0,i._)("span",{class:"search-title"},"Olá, como podemos ajudar?",-1))),n={class:"p-input-icon-left"},h=r((()=>(0,i._)("i",{class:"pi pi-search"},null,-1))),d=["onClick"],g=r((()=>(0,i._)("i",{class:"fa-solid fa-chevron-right"},null,-1))),u=["onClick"],p={class:"item-body"},_=r((()=>(0,i._)("i",{class:"fa-solid fa-chevron-right"},null,-1))),f={class:"item-footer"};function m(e,t,a,r,m,b){const v=(0,i.up)("InputText");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",l,[c,(0,i._)("span",n,[h,(0,i.Wm)(v,{modelValue:m.search_article,"onUpdate:modelValue":t[0]||(t[0]=e=>m.search_article=e),placeholder:"Qual é a sua dúvida?",onInput:t[1]||(t[1]=e=>b.onSearchArticle())},null,8,["modelValue"])])]),m.search_article.length>0?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(m.articles,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{style:(0,s.j5)(t==m.articles?.length-1?"border-bottom-left-radius: 7px; border-bottom-right-radius: 7px;":""),onClick:t=>b.handleSelectArticle(e),key:t,class:"article-item"},[(0,i._)("span",null,(0,s.zw)(e.title),1),g],12,d)))),128)):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:1},(0,i.Ko)(m.categories,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{style:(0,s.j5)(t==m.categories.length-1?"border-bottom-left-radius: 7px; border-bottom-right-radius: 7px;":""),onClick:t=>b.handleSelectCategory(e),key:t,class:"category-item"},[(0,i._)("div",p,[(0,i._)("span",null,(0,s.zw)(e.name),1),_]),(0,i._)("div",f,(0,s.zw)(e.items.length)+" Artigos ",1)],12,u)))),128))])}var b=a(76709),v=a(74806),k={name:"Faq",components:{InputText:b.Z},data(){return{search_article:"",categories:[],articles:[],region_id:null,loading:{categories:!1}}},created(){this.region_id=this.$store.getters.getSiteConfig?this.$store.getters.getSiteConfig.region_id:this.loggedUser().region_id,this.loadCategories()},methods:{onSearchArticle:(0,v.debounce)((function(){this.search_article&&this.loadArticles()}),600),handleSelectCategory(e){this.$router.push({path:`/faq/categories/${e.id}`})},handleSelectArticle(e){this.$router.push({path:`/faq/categories/articles/${e.id}`})},loadArticles(){this.loading.articles=!0,this.$api.get("/articles",{headers:{Authorization:`Bearer ${this.accessToken()}`},params:{region_search:[this.region_id],search_article:this.search_article}}).then((e=>{this.articles=e.data,this.loading.articles=!1})).catch((()=>{this.loading.articles=!1}))},loadCategories(){this.loading.categories=!0,this.$api.get("/articleCategories",{headers:{Authorization:`Bearer ${this.accessToken()}`},params:{region_search:[this.region_id],search_articles:!1}}).then((e=>{this.categories=e.data,this.loading.categories=!1})).catch((()=>{this.$toast.add({severity:"error",summary:"Erro",detail:"Não foi possível carregar as categorias",life:3e3}),this.loading.categories=!1}))}}},C=a(40089);const w=(0,C.Z)(k,[["render",m],["__scopeId","data-v-c15e37f8"]]);var y=w}}]);
//# sourceMappingURL=332.c9900409.js.map