"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[24],{57024:function(e,a,t){t.r(a),t.d(a,{default:function(){return ee}});var s=t(73396),o=t(87139);const n=e=>((0,s.dD)("data-v-0609144e"),e=e(),(0,s.Cn)(),e),l={class:"wallet"},i={class:"title-section"},r=n((()=>(0,s._)("h3",null,"Carteira",-1))),c={class:"loading-area"},d={key:1},u={class:"transaction-content"},p=["onClick"],h={class:"item-icon"},m={class:"item-content"},w={style:{display:"flex","justify-content":"space-between","font-size":"16px"}},_={style:{display:"flex","flex-direction":"column",color:"#cdcdcd"}};function f(e,a,t,n,f,g){const v=(0,s.up)("ModalTransactionDetails"),D=(0,s.up)("Button"),y=(0,s.up)("Calendar"),b=(0,s.up)("Dropdown"),k=(0,s.up)("Spinner");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(v,{transaction:e.selectedTransaction,dialog:e.showDetails,onHide:g.toggleDetails},null,8,["transaction","dialog","onHide"]),(0,s._)("div",l,[(0,s._)("div",i,[r,(0,s.Wm)(D,{icon:"fa-solid fa-sliders",onClick:g.toggleFilter},null,8,["onClick"])]),(0,s._)("div",{class:"filter-container",style:(0,o.j5)(e.showFilter?"display: grid":"display: none")},[(0,s.Wm)(y,{showClear:"",maxDate:new Date,modelValue:e.date_search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.date_search=a),dateFormat:"dd/mm/yy",selectionMode:"range",showIcon:!0},null,8,["maxDate","modelValue"]),(0,s.Wm)(b,{placeholder:"Tipo de transação",onChange:g.loadWallet,modelValue:e.type_search,"onUpdate:modelValue":a[1]||(a[1]=a=>e.type_search=a),options:e.types,showClear:""},null,8,["onChange","modelValue","options"])],4),(0,s._)("div",c,[e.loading?((0,s.wg)(),(0,s.j4)(k,{key:0})):(0,s.kq)("",!0),0==e.transactions.length&&0==e.loading?((0,s.wg)(),(0,s.iD)("span",d,"Nenhum registro encontrado.")):(0,s.kq)("",!0)]),(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.transactions,(a=>((0,s.wg)(),(0,s.iD)("div",{onClick:t=>{e.selectedTransaction=a,g.toggleDetails()},class:"transaction-item",key:a.id},[(0,s._)("div",h,[(0,s._)("i",{class:(0,o.C_)(g.getIcon(a.type))},null,2)]),(0,s._)("div",m,[(0,s._)("div",w,[(0,s._)("span",{style:(0,o.j5)("cancelado"==a.status?"text-decoration: line-through":"text-decoration: none")},(0,o.zw)(g.getTransactionType(a.type)),5),(0,s._)("span",{style:(0,o.j5)((a.value>0?"color: #75e17e; ":"color: #fe3939; ")+("cancelado"==a.status?"text-decoration: line-through":"text-decoration: none"))},(0,o.zw)(this.formatCurrency(parseFloat(a.value))),5)]),(0,s._)("div",_,[(0,s._)("span",null,(0,o.zw)(this.formatDateFull(a.created_at)),1)])])],8,p)))),128))])])],64)}var g=t(36797),v=t.n(g),D=t(62711),y=t(15517),b=t(31826),k=t(79692);const C=e=>((0,s.dD)("data-v-7f36e0fe"),e=e(),(0,s.Cn)(),e),T={class:"transaction-details"},q=(0,s.Uk)("Detalhes da transação "),F={key:0},x={class:"transaction-summary"},z={class:"row"},j=C((()=>(0,s._)("span",null,"Saldo anterior:",-1))),W={style:{"font-weight":"bold"}},Z={class:"row"},V=C((()=>(0,s._)("span",null,"Data:",-1))),M={class:"row"},S=C((()=>(0,s._)("span",null,"Tipo:",-1))),I={key:0,class:"row"},B=C((()=>(0,s._)("span",null,"Bilhete:",-1))),H=["href"],A={class:"row"},P=C((()=>(0,s._)("span",null,"Valor:",-1))),U={class:"row"},R=C((()=>(0,s._)("span",null,"Saldo posterior:",-1))),Y={style:{"font-weight":"bold"}};function K(e,a,t,n,l,i){const r=(0,s.up)("Divider"),c=(0,s.up)("Dialog");return(0,s.wg)(),(0,s.j4)(c,{class:"dialog",visible:l.show,"onUpdate:visible":a[0]||(a[0]=e=>l.show=e),showHeader:!1,modal:!0,dismissableMask:!0},{default:(0,s.w5)((()=>[(0,s._)("div",T,[(0,s._)("h3",null,[q,"cancelado"==t.transaction.status?((0,s.wg)(),(0,s.iD)("span",F,"(Cancelado)")):(0,s.kq)("",!0)]),(0,s._)("div",x,[(0,s._)("div",z,[j,(0,s._)("span",W,(0,o.zw)(this.formatCurrency(parseFloat(t.transaction.previous_balance))),1)]),(0,s.Wm)(r),(0,s._)("div",Z,[V,(0,s._)("span",null,(0,o.zw)(this.formatDateFull(t.transaction.created_at)),1)]),(0,s._)("div",M,[S,(0,s._)("span",null,(0,o.zw)(i.getTransactionType(t.transaction.type)),1)]),t.transaction.ticket?((0,s.wg)(),(0,s.iD)("div",I,[B,(0,s._)("a",{style:{"text-decoration":"none",color:"#ffffffe0","font-weight":"bold"},href:"http://"+l.hostname+"/ticketview/"+t.transaction.ticket},(0,o.zw)(t.transaction.ticket.split("/")[0]),9,H)])):(0,s.kq)("",!0),(0,s._)("div",A,[P,(0,s._)("span",{style:(0,o.j5)(t.transaction.value>0?"color: #75e17e":"color: #fe3939")},(0,o.zw)(this.formatCurrency(parseFloat(t.transaction.value))),5)]),(0,s.Wm)(r),(0,s._)("div",U,[R,(0,s._)("span",Y,(0,o.zw)(this.formatCurrency(parseFloat(t.transaction.previous_balance)+parseFloat(t.transaction.value))),1)])])])])),_:1},8,["visible"])}var N=t(22419),O=t(76709),$=t(81937),E={name:"ModalTransactionDetails",props:{dialog:Boolean,transaction:Object},components:{Dialog:N.Z,InputText:O.Z,Divider:$.Z},data(){return{show:!1,loading:!1,hostname:window.location.hostname}},watch:{dialog:function(e){this.show=e}},methods:{getTransactionType(e){switch(e){case"venda":return"Aposta";case"deposito":return"Depósito";case"saque":return"Saque";case"premio":return"Prêmio";case"comissao":return"Comissão de indicação";case"cancelamento":return"Cancelamento de aposta";default:break}}}},G=t(40089);const J=(0,G.Z)(E,[["render",K],["__scopeId","data-v-7f36e0fe"]]);var L=J,Q={components:{Calendar:D.Z,Button:b.Z,Dropdown:y.Z,Spinner:k.Z,ModalTransactionDetails:L},data:()=>({transactions:[],types:["Aposta","Deposito","Saque","Premio","Cancelamento","Cancelamento de saque","Reembolso de deposito"],showFilter:!1,showDetails:!1,loading:!1,selectedTransaction:{},date_search:[new Date((new Date).setDate((new Date).getDate()-30)),new Date],type_search:null}),created(){this.loadBalance(),this.loadWallet()},watch:{date_search:function(e){e[1]&&this.loadWallet()}},methods:{toggleFilter(){this.showFilter=!this.showFilter},loadWallet(){this.loading=!0,this.transactions=[],this.$api.get("/users/wallet",{headers:{Authorization:this.accessToken()},params:{from:this.date_search[0],to:this.date_search[1],type_search:this.type_search}}).then((e=>{this.transactions=e.data,this.loading=!1})).catch((e=>{console.log(e),this.loading=!1}))},formatDate(e){return v()(e).format("DD/MM")},getIcon(e){switch(e){case"venda":case"venda_cassino":return"fal fa-money-check-edit-alt";case"deposito":case"comissao":case"reembolso_cassino":return"fal fa-chart-line";case"saque":case"reembolso de deposito":return"fal fa-chart-line-down";case"premio":case"premio_cassino":return"fal fa-trophy";case"cancelamento":case"cancelamento de saque":return"fal fa-ban";default:break}},getTransactionType(e){switch(e){case"venda":return"Aposta";case"deposito":return"Depósito";case"saque":return"Saque";case"premio":return"Prêmio";case"venda_cassino":return"Venda cassino";case"premio_cassino":return"Prêmio cassino";case"reembolso_cassino":return"Reembolso cassino";case"cancelamento":return"Cancelamento de aposta";case"cancelamento de saque":return"Cancelamento de saque";case"comissao":return"Comissão de indicação";case"reembolso de deposito":return"Reembolso de depósito";default:break}},toggleDetails(){this.showDetails=!this.showDetails}}};const X=(0,G.Z)(Q,[["render",f],["__scopeId","data-v-0609144e"]]);var ee=X}}]);
//# sourceMappingURL=24.f06761a0.js.map