"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[629],{46629:function(e,t,a){a.r(t),a.d(t,{default:function(){return B}});var i=a(73396),s=a(87139);const l=e=>((0,i.dD)("data-v-b3976f2c"),e=e(),(0,i.Cn)(),e),c={class:"tickets-expirados"},o={class:"title-section"},d=l((()=>(0,i._)("h3",null,"Bilhetes de Cana",-1))),r={class:"filter"},n={class:"tickets-container"},h={key:1},m={key:2,class:"extraction-item"},u=(0,i.uE)('<div class="column-headers" data-v-b3976f2c><div class="column-header" data-v-b3976f2c>Ticket</div><div class="column-header" data-v-b3976f2c>Criado em</div><div class="column-header" data-v-b3976f2c>Expirado em</div><div class="column-header" data-v-b3976f2c>PrÃªmio</div></div>',1),v={class:"ticket-item-column"},k={class:"ticket-item-column"},p={class:"ticket-item-column"},f={class:"ticket-item-column"},_={class:"column-footers"},w={class:"column-footer"},g=l((()=>(0,i._)("div",{class:"column-footer column-empty"},null,-1))),b={class:"column-footer"};function y(e,t,a,l,y,D){const C=(0,i.up)("Button"),F=(0,i.up)("Calendar"),z=(0,i.up)("Spinner");return(0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",o,[d,(0,i.Wm)(C,{icon:"fa-solid fa-sliders",onClick:D.toggleFilter},null,8,["onClick"])]),(0,i._)("div",{class:"filter-container",style:(0,s.j5)(e.showFilter?"display: flex":"display: none")},[(0,i._)("div",r,[(0,i.Wm)(F,{label:"Data",modelValue:e.date_search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.date_search=t),dateFormat:"dd/mm/yy",showIcon:!0},null,8,["modelValue"])])],4),(0,i._)("div",n,[e.loading?((0,i.wg)(),(0,i.j4)(z,{key:0})):(0,i.kq)("",!0),0==e.tickets.length&&0==e.loading?((0,i.wg)(),(0,i.iD)("span",h,"Nenhum registro encontrado.")):((0,i.wg)(),(0,i.iD)("fieldset",m,[u,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.tickets,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"ticket-item",key:t},[(0,i._)("div",v,(0,s.zw)(e.id),1),(0,i._)("div",k,(0,s.zw)(this.formatDateFull(e.created_at)),1),(0,i._)("div",p,(0,s.zw)(this.formatDateFull(e.expired_at)),1),(0,i._)("div",f,(0,s.zw)(this.formatCurrency(parseFloat(e.premio))),1)])))),128)),(0,i._)("div",_,[(0,i._)("div",w,(0,s.zw)(e.tickets.length)+" Bilhete(s)",1),g,(0,i._)("div",b,(0,s.zw)(this.formatCurrency(this.calcularTotalPremios())),1)])]))])])}var D=a(62711),C=a(31826),F=a(79692),z=a(36797),T=a.n(z),x={components:{Calendar:D.Z,Button:C.Z,Spinner:F.Z},data:()=>({tickets:[],showFilter:!1,loading:!1,date_search:new Date}),created(){this.loadTickets()},watch:{date_search:function(e){e&&this.loadTickets()}},methods:{calcularTotalPremios(){let e=0;return this.tickets.map((t=>{e+=parseFloat(t.premio)})),e},toggleFilter(){this.showFilter=!this.showFilter},loadTickets(){this.loading=!0,this.tickets=[],this.$api.get("tickets/expired",{headers:{Authorization:this.accessToken()},params:{date:T()(this.date_search).format("YYYY-MM-DD")}}).then((e=>{this.tickets=e.data,this.loading=!1})).catch((e=>{this.$toast.add({severity:"error",summary:"Erro",detail:e.response.data.message,life:3e3}),this.loading=!1}))}}},Y=a(40089);const j=(0,Y.Z)(x,[["render",y],["__scopeId","data-v-b3976f2c"]]);var B=j}}]);
//# sourceMappingURL=629.49811839.js.map