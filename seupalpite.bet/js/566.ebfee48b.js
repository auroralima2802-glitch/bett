"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[566],{2439:function(e,t,s){s.d(t,{Z:function(){return n}});var i=s(73396),l=s(87139),a=s(49242),n={name:"InputSwitch",inheritAttrs:!1,emits:["click","update:modelValue","change","input"],props:{modelValue:{type:null,default:!1},class:null,style:null,trueValue:{type:null,default:!0},falseValue:{type:null,default:!1}},data(){return{focused:!1}},methods:{onClick(e){if(!this.$attrs.disabled){const t=this.checked?this.falseValue:this.trueValue;this.$emit("click",e),this.$emit("update:modelValue",t),this.$emit("change",e),this.$emit("input",t),this.$refs.input.focus()}e.preventDefault()},onFocus(){this.focused=!0},onBlur(){this.focused=!1}},computed:{containerClass(){return["p-inputswitch p-component",this.class,{"p-inputswitch-checked":this.checked,"p-disabled":this.$attrs.disabled,"p-focus":this.focused}]},checked(){return this.modelValue===this.trueValue}}};const o={class:"p-hidden-accessible"},d=["checked","aria-checked"],c=(0,i._)("span",{class:"p-inputswitch-slider"},null,-1);function r(e,t,s,n,r,u){return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(u.containerClass),onClick:t[3]||(t[3]=e=>u.onClick(e)),style:(0,l.j5)(s.style)},[(0,i._)("div",o,[(0,i._)("input",(0,i.dG)({ref:"input",type:"checkbox",checked:u.checked},e.$attrs,{onFocus:t[0]||(t[0]=e=>u.onFocus(e)),onBlur:t[1]||(t[1]=e=>u.onBlur(e)),onKeydown:t[2]||(t[2]=(0,a.D2)((0,a.iM)((e=>u.onClick(e)),["prevent"]),["enter"])),role:"switch","aria-checked":u.checked}),null,16,d)]),c],6)}function u(e,t){void 0===t&&(t={});var s=t.insertAt;if(e&&"undefined"!==typeof document){var i=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===s&&i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}var h='\n.p-inputswitch {\n    position: relative;\n    display: inline-block;\n}\n.p-inputswitch-slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n.p-inputswitch-slider:before {\n    position: absolute;\n    content: "";\n    top: 50%;\n}\n';u(h),n.render=r},57566:function(e,t,s){s.r(t),s.d(t,{default:function(){return q}});var i=s(73396),l=s(87139),a=s(49242);const n=e=>((0,i.dD)("data-v-7caaf480"),e=e(),(0,i.Cn)(),e),o={class:"quina-brasil"},d=n((()=>(0,i._)("h3",null,"Quina Brasil",-1))),c={class:"field"},r=n((()=>(0,i._)("div",{style:{position:"absolute",top:"19px",left:"50px"}}," Todos ",-1))),u={class:"section"},h={class:"number-table"},p=["onClick","id"],m={class:"section"},f={style:{display:"flex","align-items":"center",gap:"10px"}},g=n((()=>(0,i._)("span",null,"Trancar palpites",-1))),b={class:"row"},_={class:"label"},v={class:"button-area"},k={class:"submit-area"},y={class:"field"},C={class:"field"};function w(e,t,s,n,w,V){const x=(0,i.up)("MultiSelect"),$=(0,i.up)("InputSwitch"),S=(0,i.up)("Button"),N=(0,i.up)("money3");return(0,i.wg)(),(0,i.iD)("div",o,[d,(0,i._)("div",c,[(0,i.Wm)(x,{modelValue:w.selectedContests,"onUpdate:modelValue":t[0]||(t[0]=e=>w.selectedContests=e),options:w.contests,optionLabel:"name",placeholder:"Concurso"},{header:(0,i.w5)((()=>[r])),_:1},8,["modelValue","options"])]),(0,i._)("div",u,[(0,i._)("div",h,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(w.numbers,((e,t)=>((0,i.wg)(),(0,i.iD)("button",{onClick:t=>V.handleSelectNumber(e),id:e,class:"number",key:t},(0,l.zw)(e),9,p)))),128))])]),(0,i._)("div",m,[(0,i._)("div",f,[g,(0,i.Wm)($,{onClick:t[1]||(t[1]=e=>V.handleLockUnlockNumbers()),modelValue:w.lockNumbers,"onUpdate:modelValue":t[2]||(t[2]=e=>w.lockNumbers=e)},null,8,["modelValue"])]),(0,i._)("div",b,[(0,i._)("span",_,"Retorno: "+(0,l.zw)(this.formatCurrency(this.expected_value)),1)]),(0,i._)("div",v,[(0,i.Wm)(S,{onClick:t[3]||(t[3]=e=>V.handleClear()),class:"clear-btn",label:"Limpar"}),(0,i.Wm)(S,{onClick:t[4]||(t[4]=e=>V.handleGenerate()),class:"complete-btn",label:"Aleatório"})]),(0,i._)("div",k,[(0,i._)("div",y,[(0,i.Wm)(N,(0,i.dG)({class:"money-input",onKeyup:t[5]||(t[5]=(0,a.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:w.betValue,"onUpdate:modelValue":t[6]||(t[6]=e=>w.betValue=e)},w.moneyconfig),null,16,["modelValue"])]),(0,i._)("div",C,[(0,i.Wm)(S,{class:"submit-btn",onClick:t[7]||(t[7]=e=>V.handleAddGame("divide")),label:"Finalizar aposta",loading:w.loading},null,8,["loading"])])])])])}s(26699);var V=s(31826),x=s(64376),$=s(15517),S=s(2439),N={components:{Button:V.Z,MultiSelect:x.Z,Dropdown:$.Z,InputSwitch:S.Z},data(){return{loading:!1,lockNumbers:!1,selectedContests:[],palpites:[],betValue:0,expected_value:0,partial_quotations:[],numbers:["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80"],contests:[],moneyconfig:{masked:!1,prefix:"R$ ",suffix:"",thousands:".",decimal:",",precision:2,disableNegative:!1,disabled:!1,min:null,max:null,allowBlank:!1,minimumNumberOfCharacters:0}}},validations(){return{}},created(){this.loadContests(),this.loadPartialQuotations()},mounted(){var e=this.$store.getters.getRepeatTicket;if(e){var t=JSON.parse(e.ticket.selected_numbers).slice(0,13);t.map((e=>{this.numbers.includes(e.toString())&&this.handleSelectNumber(e)})),this.$store.dispatch("setRepeatTicket",{repeat_ticket:null})}},watch:{betValue:function(){if(0!=this.partial_quotations.length){var e=this.partial_quotations.find((e=>5==e.quantity));this.betValue*e.quotation>e.max_value?this.expected_value=parseFloat(e.max_value):this.expected_value=this.betValue*e.quotation}}},methods:{loadContests(){this.$api.get("/contests",{headers:{Authorization:this.accessToken()},params:{caixa_lottery_search:4,limit:this.$store.getters.getRegionConfig.max_contests}}).then((e=>{this.contests=e.data})).catch((e=>{console.log(e)}))},loadPartialQuotations(){this.$api.get("partial_quotations",{headers:{Authorization:this.accessToken()},params:{caixa_lottery_search:4,region_search:[this.loggedUser().region_id]}}).then((e=>{this.partial_quotations=e.data})).catch((e=>{console.log(e)}))},handleLockUnlockNumbers(){var e=null;if(this.lockNumbers){e=document.querySelectorAll(".locked");for(let t of e)t.classList.remove("locked"),t.classList.add("selected")}else{e=document.querySelectorAll(".selected");for(let t of e)t.classList.remove("selected"),t.classList.add("locked")}},handleSelectNumber(e){var t=document.getElementById(e);if(this.palpites.includes(e))this.palpites.splice(this.palpites.indexOf(e),1);else{if(13==this.palpites.length)return;this.palpites.push(e)}t.classList.toggle("selected")},handleClear(){var e=document.querySelectorAll(".selected");for(let t of e)this.palpites.splice(this.palpites.indexOf(t.id),1),t.classList.remove("selected")},handleGenerate(e){this.selectedLength=e,this.handleClear(),this.handleComplete()},handleComplete(){let e=13-this.palpites.length;for(let s=0;s<e;s++){let e=("0"+Math.floor(79*Math.random()+1)%9999).slice(-2);if(this.palpites.includes(e))s--;else{var t=document.getElementById(e);t.classList.toggle("selected"),this.palpites.push(e)}}},handleAddGame(){if(this.loading=!0,this.betValue<2)return this.$toast.add({severity:"error",summary:"Erro",detail:"Valor mínimo é R$ 2,00",life:3e3}),void(this.loading=!1);if(this.selectedContests.length<1||0==this.palpites.length)return this.$toast.add({severity:"error",summary:"Erro",detail:"Um ou mais campos não foram preenchidos.",life:3e3}),void(this.loading=!1);var e=[];for(let s=0;s<this.selectedContests.length;s++){var t={product_id:7,region_id:this.loggedUser().region_id,session_id:this.loggedUser().session_id,point_id:this.loggedUser().point_id,point_name:this.loggedUser().point_name,seller_id:this.loggedUser().seller_id,contest_id:this.selectedContests[s].id,contest_name:this.selectedContests[s].name,total_value:this.betValue,selected_numbers:this.palpites,modality:"Quina Brasil"};e.push(t)}this.$api.post("/caixa_tickets",{tickets:e},{headers:{Authorization:this.accessToken()}}).then((e=>{this.loading=!1,this.$toast.add({severity:"success",summary:"Sucesso",detail:"Aposta concluída com sucesso!",life:3e3}),this.$store.dispatch("setTicket",{ticket:e.data}),this.loadBalance(),this.loggedUser().online||this.$router.push({name:"betOverview",path:"/betOverview"})})).catch((e=>{this.loading=!1,this.$toast.add({severity:"error",summary:"Erro",detail:e.response.data,life:15e3})}))},resetFields(){this.betValue=0,this.games=[],this.palpites=[],this.selectedContests=[],this.handleClear()}}},B=s(40089);const U=(0,B.Z)(N,[["render",w],["__scopeId","data-v-7caaf480"]]);var q=U}}]);
//# sourceMappingURL=566.ebfee48b.js.map