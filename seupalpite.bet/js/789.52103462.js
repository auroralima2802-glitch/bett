"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[789],{28077:function(e,t,i){i.d(t,{Z:function(){return l}});var a=i(73396),s=i(87139),o=i(49242),l={name:"Chip",emits:["remove"],props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:"pi pi-times-circle"}},data(){return{visible:!0}},methods:{close(e){this.visible=!1,this.$emit("remove",e)}},computed:{containerClass(){return["p-chip p-component",{"p-chip-image":null!=this.image}]},iconClass(){return["p-chip-icon",this.icon]},removeIconClass(){return["p-chip-remove-icon",this.removeIcon]}}};const n=["src"],r={key:2,class:"p-chip-text"};function d(e,t,i,l,d,c){return d.visible?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,s.C_)(c.containerClass)},[(0,a.WI)(e.$slots,"default",{},(()=>[i.image?((0,a.wg)(),(0,a.iD)("img",{key:0,src:i.image},null,8,n)):i.icon?((0,a.wg)(),(0,a.iD)("span",{key:1,class:(0,s.C_)(c.iconClass)},null,2)):(0,a.kq)("",!0),i.label?((0,a.wg)(),(0,a.iD)("div",r,(0,s.zw)(i.label),1)):(0,a.kq)("",!0)])),i.removable?((0,a.wg)(),(0,a.iD)("span",{key:0,tabindex:"0",class:(0,s.C_)(c.removeIconClass),onClick:t[0]||(t[0]=(...e)=>c.close&&c.close(...e)),onKeydown:t[1]||(t[1]=(0,o.D2)(((...e)=>c.close&&c.close(...e)),["enter"]))},null,34)):(0,a.kq)("",!0)],2)):(0,a.kq)("",!0)}function c(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===i&&a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var m="\n.p-chip {\n    display: -webkit-inline-box;\n    display: -ms-inline-flexbox;\n    display: inline-flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.p-chip-text {\n    line-height: 1.5;\n}\n.p-chip-icon.pi {\n    line-height: 1.5;\n}\n.p-chip-remove-icon {\n    line-height: 1.5;\n    cursor: pointer;\n}\n.p-chip img {\n    border-radius: 50%;\n}\n";c(m),l.render=d},57615:function(e,t,i){i.d(t,{Z:function(){return y}});var a=i(73396),s=i(87139);const o={class:"select-animal"},l={class:"animal-container"},n={class:"animal-card"},r={class:"animal-group"},d={class:"animal-icon"},c=["src","alt"],m={class:"animal-name"};function h(e,t,h,p,u,g){const _=(0,a.up)("Button");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",l,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.animals,((e,t)=>((0,a.wg)(),(0,a.j4)(_,{id:t,onClick:i=>g.setSelected(t,e),key:t,class:(0,s.C_)(e.selected?"item selected":"item")},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",r,(0,s.zw)(e.grupo),1),(0,a._)("div",d,[(0,a._)("img",{src:i(1838)(`./${e.icon}-color.png`),alt:e.name},null,8,c)]),(0,a._)("div",m,(0,s.zw)(e.name),1)])])),_:2},1032,["id","onClick","class"])))),128))])])}var p=i(31826),u={name:"SelectAnimal",components:{Button:p.Z},props:{itemsSelected:Array},data(){return{animals:[]}},created(){this.animals=this.animalList()},mounted(){this.itemsSelected.forEach((e=>{var t=document.getElementById(parseInt(e)-1);t.classList.toggle("selected")}))},methods:{setSelected(e,t){var i=document.getElementById(e);i.classList.toggle("selected"),this.$emit("setAnimal",{item:t.grupo})}}},g=i(40089);const _=(0,g.Z)(u,[["render",h],["__scopeId","data-v-42b5c836"]]);var y=_},96796:function(e,t,i){i.d(t,{Z:function(){return m}});var a=i(73396),s=i(87139);const o={class:"select-modality"},l=["onClick"];function n(e,t,i,n,r,d){return(0,a.wg)(),(0,a.iD)("div",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.modalities,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{onClick:t=>d.setSelected(e),class:"modality-item",key:t},[(0,a._)("i",{class:"fas fa-rectangle-vertical",style:(0,s.j5)({color:e.color||"#e4e4e4"})},null,4),(0,a.Uk)(" "+(0,s.zw)(e.name.toUpperCase()),1)],8,l)))),128))])}var r={name:"SelectModality",components:{},props:{modalities:Array},data(){return{}},methods:{setSelected(e){this.$emit("setModality",{modality:e})}}},d=i(40089);const c=(0,d.Z)(r,[["render",n],["__scopeId","data-v-0e6af5a8"]]);var m=c},11789:function(e,t,i){i.r(t),i.d(t,{default:function(){return Pt}});var a=i(73396);function s(e,t,i,s,o,l){const n=(0,a.up)("LigeirinhaSteps"),r=(0,a.up)("LigeirinhaStandard");return"steps"==e.$store.getters.getTradicionalConfig.bet_layout||this.$store.getters.getUser.online?((0,a.wg)(),(0,a.j4)(n,{key:0})):((0,a.wg)(),(0,a.j4)(r,{key:1}))}i(26699);var o=i(87139),l=i(49242),n=i(36093);const r=e=>((0,a.dD)("data-v-de73fb20"),e=e(),(0,a.Cn)(),e),d={class:"ligeirinha"},c={key:0,class:"badge"},m=r((()=>(0,a._)("i",{class:"fas fa-ticket"},null,-1))),h=r((()=>(0,a._)("h3",null,"Bilhete de aposta",-1))),p={class:"ticket-container"},u={class:"ticket-content"},g={key:0,class:"no-games-message"},_=r((()=>(0,a._)("img",{src:n,alt:"ticket-logo"},null,-1))),y=r((()=>(0,a._)("span",null,"Nenhum palpite adicionado.",-1))),f=[_,y],b={class:"item-header"},w=["onClick"],v=r((()=>(0,a._)("i",{class:"fas fa-edit"},null,-1))),C=[v],k=["onClick"],D=r((()=>(0,a._)("i",{class:"fas fa-times"},null,-1))),M=[D],x={class:"item-body"},T={style:{"font-weight":"bold","font-size":"16px",color:"white"}},A={key:0},z={class:"item-footer"},I={key:1,class:"money-input"},S={class:"ticket-footer"},q={class:"footer-item"},G=r((()=>(0,a._)("span",null,"Total",-1))),P=r((()=>(0,a._)("h3",null,"Selecione os animais",-1))),E=r((()=>(0,a._)("h3",null,"Selecione uma modalidade",-1))),V={style:{display:"flex","flex-direction":"column",gap:"10px","align-items":"center","justify-content":"center"}},L=r((()=>(0,a._)("span",null,"até",-1))),$={class:"bet-container"},N=r((()=>(0,a._)("h3",null,"Ligeirinha",-1))),R={class:"btn-container-top"},Z=(0,a.Uk)(" Inserir intervalo de números "),U=r((()=>(0,a._)("div",{style:{position:"absolute",top:"19px",left:"50px","font-size":"20px"}}," Todos ",-1))),W=["modalities"],j={key:0,class:"pi pi-spinner pi-spin"},B={key:1,class:"fas fa-chevron-down"},K=r((()=>(0,a._)("div",{style:{position:"absolute",top:"19px",left:"50px"}}," Todos ",-1))),O={style:{display:"flex"}},H=r((()=>(0,a._)("i",{class:"far fa-random"},null,-1))),Y=[H],F={class:"btn-palpite"},Q={key:1,class:"palpite-area"},J=["onClick"],X={key:2,class:"btn-container"},ee={key:3,class:"btn-container"};function te(e,t,i,s,n,r){const _=(0,a.up)("ConfirmDialog"),y=(0,a.up)("Button"),v=(0,a.up)("money3"),D=(0,a.up)("Sidebar"),H=(0,a.up)("SelectAnimal"),te=(0,a.up)("SelectModality"),ie=(0,a.up)("InputNumber"),ae=(0,a.up)("Dialog"),se=(0,a.up)("MultiSelect"),oe=(0,a.up)("Dropdown"),le=(0,a.up)("InputText");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)(_),(0,a.Wm)(y,{onClick:t[0]||(t[0]=e=>r.toggleTicket(e)),class:"btn-ticket"},{default:(0,a.w5)((()=>[n.games.length>0?((0,a.wg)(),(0,a.iD)("div",c,(0,o.zw)(n.games.length),1)):(0,a.kq)("",!0),m])),_:1}),(0,a.Wm)(D,{class:"bottom-select",visible:n.showTicket,"onUpdate:visible":t[3]||(t[3]=e=>n.showTicket=e),baseZIndex:1e4,position:"bottom"},{header:(0,a.w5)((()=>[h])),default:(0,a.w5)((()=>[(0,a._)("div",p,[(0,a._)("div",u,[0==n.games?((0,a.wg)(),(0,a.iD)("div",g,f)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.games,((i,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:s},[(0,a._)("div",b,[(0,a._)("div",null,(0,o.zw)(i.loteria),1),(0,a._)("div",null,[(0,a._)("button",{class:"btn-game",onClick:e=>r.handleEditGame(i)},C,8,w),(0,a._)("button",{class:"btn-game",onClick:e=>r.handleRemoveGame(s)},M,8,k)])]),(0,a._)("div",x,[(0,a._)("span",T,(0,o.zw)(i.modalidade),1),(0,a._)("span",null,"Posição: "+(0,o.zw)(i.award_name),1),i.modalidade.includes("Milhar")?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",A,"Lado: "+(0,o.zw)(i.positions.join(", ")),1)),(0,a._)("span",null,"Palpites: "+(0,o.zw)(i.palpites.join(", ")),1)]),(0,a._)("div",z,[i.loteria.includes("PT-RIO")?((0,a.wg)(),(0,a.j4)(v,(0,a.dG)({key:0,class:"money-input",onKeyup:t[1]||(t[1]=(0,l.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:i.valor,"onUpdate:modelValue":e=>i.valor=e},n.moneyconfig),null,16,["modelValue","onUpdate:modelValue"])):((0,a.wg)(),(0,a.iD)("span",I,(0,o.zw)(e.formatCurrency(parseFloat(i.valor))),1))])])))),128))]),(0,a._)("div",S,[(0,a._)("div",q,[G,(0,a._)("span",null,"R$ "+(0,o.zw)(this.formatCurrency(n.games.reduce(((e,t)=>e+parseFloat(t.valor)),0))),1)]),(0,a.Wm)(y,{class:"btn-submit",onClick:t[2]||(t[2]=e=>r.handleCreateTicket()),label:"Finalizar aposta",loading:n.loading.submit},null,8,["loading"])])])])),_:1},8,["visible"]),(0,a.Wm)(D,{class:"bottom-select",visible:n.showSelectAnimal,"onUpdate:visible":t[4]||(t[4]=e=>n.showSelectAnimal=e),baseZIndex:1e4,position:"bottom"},{header:(0,a.w5)((()=>[P])),default:(0,a.w5)((()=>[(0,a.Wm)(H,{itemsSelected:n.palpites,onSetAnimal:r.setAnimal},null,8,["itemsSelected","onSetAnimal"])])),_:1},8,["visible"]),(0,a.Wm)(D,{class:"bottom-select",visible:n.showSelectModality,"onUpdate:visible":t[5]||(t[5]=e=>n.showSelectModality=e),baseZIndex:1e4,position:"bottom"},{header:(0,a.w5)((()=>[E])),default:(0,a.w5)((()=>[(0,a.Wm)(te,{modalities:n.modalities,onSetModality:r.setModality},null,8,["modalities","onSetModality"])])),_:1},8,["visible"]),(0,a.Wm)(ae,{visible:n.showNumberInterval,"onUpdate:visible":t[9]||(t[9]=e=>n.showNumberInterval=e),modal:"",header:"Insira um intervalo",style:{width:"250px"}},{default:(0,a.w5)((()=>[(0,a._)("div",V,[(0,a.Wm)(ie,{modelValue:n.initialNumber,"onUpdate:modelValue":t[6]||(t[6]=e=>n.initialNumber=e),inputmode:"numeric",mode:"decimal",min:0,max:n.modality_rule.numeroMaximo},null,8,["modelValue","max"]),L,(0,a.Wm)(ie,{modelValue:n.finalNumber,"onUpdate:modelValue":t[7]||(t[7]=e=>n.finalNumber=e),inputmode:"numeric",mode:"decimal",min:0,max:n.modality_rule.numeroMaximo},null,8,["modelValue","max"]),(0,a.Wm)(y,{class:"submit-btn",onClick:t[8]||(t[8]=e=>r.handleInsertInterval()),label:"Confirmar"})])])),_:1},8,["visible"]),(0,a._)("div",$,[N,(0,a._)("div",R,[(0,a.Wm)(y,{class:"btn-talao",onClick:t[10]||(t[10]=e=>r.handleAddPalpiteTalao())},{default:(0,a.w5)((()=>[(0,a.Uk)(" Nº talão "+(0,o.zw)(this.$store.getters.getTalao),1)])),_:1}),n.selectedModality?((0,a.wg)(),(0,a.j4)(y,{key:0,class:"btn-talao",onClick:t[11]||(t[11]=e=>r.toggleShowNumberInterval())},{default:(0,a.w5)((()=>[Z])),_:1})):(0,a.kq)("",!0)]),(0,a.Wm)(se,{loading:n.loading.extractions,modelValue:n.selectedExtractions,"onUpdate:modelValue":t[12]||(t[12]=e=>n.selectedExtractions=e),options:n.extractions,optionLabel:"name",placeholder:"Horário"},{header:(0,a.w5)((()=>[U])),_:1},8,["loading","modelValue","options"]),(0,a._)("button",{class:"btn-modality",modalities:n.modalities,onClick:t[13]||(t[13]=(...e)=>r.toggleSelectModality&&r.toggleSelectModality(...e))},[(0,a._)("span",{style:(0,o.j5)(n.selectedModality?"color: #e2e3e4":"color: #aaadb1")},(0,o.zw)(n.selectedModality?n.selectedModality.name:"Modalidade"),5),n.loading.modalities?((0,a.wg)(),(0,a.iD)("i",j)):((0,a.wg)(),(0,a.iD)("i",B))],8,W),(0,a.Wm)(oe,{loading:n.loading.awards,modelValue:n.selectedAward,"onUpdate:modelValue":t[14]||(t[14]=e=>n.selectedAward=e),options:n.awards,optionLabel:"name",placeholder:"Posição"},null,8,["loading","modelValue","options"]),n.selectedModality&&["duque_dezena","terno_dezena","duque_grupo","terno_grupo"].includes(n.selectedModality.initials)?((0,a.wg)(),(0,a.j4)(se,{key:0,modelValue:n.selectedPositions,"onUpdate:modelValue":t[15]||(t[15]=e=>n.selectedPositions=e),options:n.positions,placeholder:"Lado"},{header:(0,a.w5)((()=>[K])),_:1},8,["modelValue","options"])):(0,a.kq)("",!0),(0,a._)("div",O,[(0,a._)("form",{class:"form",onSubmit:t[18]||(t[18]=(0,l.iM)((e=>r.handleAddPalpite()),["prevent"]))},[(0,a.Wm)(le,{onClick:t[16]||(t[16]=e=>r.toggleSelectAnimal()),inputmode:"numeric",onInput:r.handleInputPalpite,modelValue:n.palpite,"onUpdate:modelValue":t[17]||(t[17]=e=>n.palpite=e),placeholder:"Palpite"},null,8,["onInput","modelValue"])],32),(0,a._)("button",{onClick:t[19]||(t[19]=e=>r.handleAddRandomPalpite()),class:"btn-palpite"},Y),(0,a._)("button",F,[(0,a._)("i",{onClick:t[20]||(t[20]=e=>r.handleRemoveAllPalpites()),class:"fal fa-trash-alt"})])]),n.palpites.length>0?((0,a.wg)(),(0,a.iD)("div",Q,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.palpites,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{key:t,class:"palpite",onClick:e=>r.handleRemovePalpite(t)},(0,o.zw)(e),9,J)))),128)),(0,a._)("span",null,"("+(0,o.zw)(n.palpites.length)+")",1)])):(0,a.kq)("",!0),(0,a.Wm)(v,(0,a.dG)({class:"money-input",onKeyup:t[21]||(t[21]=(0,l.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:n.betValue,"onUpdate:modelValue":t[22]||(t[22]=e=>n.betValue=e)},n.moneyconfig),null,16,["modelValue"]),[2,5,8,9].includes(this.loggedUser().region_id)?((0,a.wg)(),(0,a.iD)("div",X,[(0,a.Wm)(y,{class:"submit-btn",onClick:t[23]||(t[23]=e=>r.handleAddGame("divide")),label:"Adicionar aposta"})])):((0,a.wg)(),(0,a.iD)("div",ee,[(0,a.Wm)(y,{class:"submit-btn",onClick:t[24]||(t[24]=e=>r.handleAddGame("divide")),label:"Divisor"}),(0,a.Wm)(y,{class:"submit-btn",onClick:t[25]||(t[25]=e=>r.handleAddGame("multiply")),label:"Multiplicador"})]))])])}var ie=i(34146),ae=i(31826),se=i(41583),oe=i(76709),le=i(28077),ne=i(33053),re=i(69117),de=i(57615),ce=i(96796),me=i(15517),he=i(64376),pe=i(38905),ue=i(7834),ge=i(22419),_e={components:{Sidebar:ie.Z,SelectAnimal:de.Z,SelectModality:ce.Z,SelectButton:pe.Z,InputNumber:se.Z,Button:ae.Z,Dropdown:me.Z,MultiSelect:he.Z,InputText:oe.Z,Chip:le.Z,ConfirmDialog:ue.Z,Dialog:ge.Z},setup:()=>({v$:(0,ne.Xw)()}),data(){return{games:[],loading:{lotteries:!1,extractions:!1,modalities:!1,awards:!1,limits:!1,submit:!1},windowHeight:null,editGame:null,selectedLottery:null,selectedModality:null,selectedExtractions:[],selectedPositions:[],quotedBets:[],limits:{},selectedAward:null,palpite:"",modality_rule:null,betValue:0,showTicket:!1,showSelectAnimal:!1,showSelectModality:!1,showNumberInterval:!1,initialNumber:null,finalNumber:null,palpites:[],palpitesInseridos:[],extractions:[],modalities:[],awards:[],positions:["Esquerda","Meio","Direita"],mask:"",moneyconfig:{masked:!1,prefix:"R$ ",suffix:"",thousands:".",decimal:",",precision:2,disableNegative:!1,disabled:!1,min:null,max:null,allowBlank:!1,minimumNumberOfCharacters:0},sortedModalities:[{name:"Grupo",shortname:"G",color:"limegreen"},{name:"Grupo salteado",shortname:"GS",color:"limegreen"},{name:"Milhar de ouro",shortname:"MO",color:"#ff3535"},{name:"Milhar e Centena",shortname:"MC",color:"#ff3535"},{name:"Milhar",shortname:"M",color:"#ff3535"},{name:"Centena",shortname:"C",color:"#00a2ff"},{name:"Duque de Dezena",shortname:"DDZ",color:"orange"},{name:"Duque de Dezena Combinado",shortname:"DDZC",color:"orange"},{name:"DD c/ repetição",shortname:"DDCR",color:"orange"},{name:"DD Combinado c/ Repetição",shortname:"DDZC",color:"orange"},{name:"Terno de Dezena",shortname:"TDZ",color:"orange"},{name:"Terno de Dezena Combinado",shortname:"TDZC",color:"orange"},{name:"TDZ c/ repetição",shortname:"TDZCR",color:"orange"},{name:"TDZ Combinado c/ repetição",shortname:"TDZCR",color:"orange"},{name:"Dezena",shortname:"D",color:"orange"},{name:"Duque de Grupo",shortname:"DG",color:"limegreen"},{name:"Duque de Grupo Combinado",shortname:"DGC",color:"limegreen"},{name:"DG c/ repetição",shortname:"DGCR",color:"limegreen"},{name:"DG Combinado c/ Repetição",shortname:"DGCR",color:"limegreen"},{name:"Terno de Grupo",shortname:"TG",color:"limegreen"},{name:"Terno de Grupo Combinado",shortname:"TGC",color:"limegreen"},{name:"Terno de Grupo chaveado",shortname:"TGC",color:"limegreen"},{name:"TG c/ repetição",shortname:"TGCR",color:"limegreen"},{name:"TG Combinado c/ repetição",shortname:"TGCR",color:"limegreen"},{name:"Milhar e centena Invertida",shortname:"MCI",color:"#ff3535"},{name:"Milhar Invertida",shortname:"MI",color:"#ff3535"},{name:"Centena Invertida",shortname:"CI",color:"#00a2ff"},{name:"Milhar aproximada",shortname:"MA",color:"#ff3535"},{name:"Milhar vai e volta",shortname:"MVV",color:"#ff3535"},{name:"MCITDC",shortname:"M",color:"#ff3535"},{name:"MCIDDC",shortname:"M",color:"#ff3535"},{name:"Centena aproximada",shortname:"CA",color:"#00a2ff"},{name:"Centena vai e volta",shortname:"CVV",color:"#00a2ff"},{name:"CITDC",shortname:"C",color:"#00a2ff"},{name:"CIDDC",shortname:"C",color:"#00a2ff"},{name:"Dezena Invertida",shortname:"DI",color:"orange"},{name:"Grupo par",shortname:"GP",color:"limegreen"},{name:"Grupo impar",shortname:"GI",color:"limegreen"},{name:"Passe",shortname:"P",color:"yellow"},{name:"Passe de ida",shortname:"PI",color:"yellow"},{name:"Passe de ida e volta",shortname:"PIV",color:"yellow"},{name:"Passe especial",shortname:"PE",color:"yellow"},{name:"Passe especial combinado",shortname:"PEC",color:"yellow"}]}},validations(){return{name:{required:re.C1},email:{required:re.C1,email:re.Do},password:{required:re.C1},accept:{required:re.C1}}},created(){this.windowHeight=window.innerHeight,document.addEventListener("editGame",(e=>{this.editGame=e.detail.game}))},mounted(){this.refreshTalao(),this.loadLotteries(),this.loadLimits()},watch:{selectedLottery:function(){this.selectedLottery&&(this.loadModalities(),this.loadExtractions())},editGame:function(){this.editGame&&this.loadLotteries()},selectedModality:function(){this.selectedModality&&(this.editGame?this.palpites=this.editGame.palpites:this.palpites=[],this.palpite="",this.selectedPositions=["Direita"],this.modality_rule=this.getModalityRule(this.selectedModality.definition),this.positions=this.modality_rule.positions,this.loadAwards(),this.repetirPalpites())},selectedAward:function(){this.selectedPositions=["Direita"],this.modality_rule=this.getModalityRule(this.selectedModality.definition,this.selectedAward.name),this.positions=this.modality_rule.positions,this.repetirPalpites()}},methods:{toggleTicket(){this.showTicket=!this.showTicket},handleRemoveGame(e){this.games=this.games.filter(((t,i)=>i!=e))},handleEditGame(e){this.showTicket=!1,this.games=this.games.filter((t=>t.ref!=e.ref)),this.editGame=e},setAnimal(e){const t=this.palpites.find((t=>t==e.item));t?this.palpites=this.palpites.filter((t=>t!=e.item)):(this.palpite=e.item,this.handleAddPalpite())},setModality(e){this.toggleSelectModality(),this.selectedModality=e.modality},loadLimits(){this.loading.limits=!0,this.$api.get("ligeirinhaconfig/show",{headers:{Authorization:this.accessToken()},params:{region_id:this.loggedUser().region_id}}).then((e=>{this.limits=e.data,this.loading.limits=!1})).catch((e=>{console.log(e),this.loading.limits=!1}))},loadAwards(){this.loading.awards=!0,this.$api.get("/awards/awardsByModality",{headers:{Authorization:this.accessToken()},params:{modality_id:this.selectedModality.id}}).then((e=>{this.awards=e.data,this.loading.awards=!1,this.selectedAward=e.data[0],this.editGame&&(this.selectedAward=this.awards.find((e=>e.internal_name==this.editGame.award_internal)),this.betValue=this.editGame.valor,this.editGame=null)})).catch((e=>{console.log(e),this.loading.awards=!1}))},loadExtractions(){this.loading.extractions=!0,this.$api.get("/extraction",{headers:{Authorization:this.accessToken()},params:{lottery_search:this.selectedLottery.id}}).then((e=>{this.loading.extractions=!1,this.extractions=e.data,this.selectedExtractions=[e.data[0]],this.editGame&&(this.selectedExtractions=[this.extractions.find((e=>e.id==this.editGame.extraction))],this.selectedExtractions[0]||(this.selectedExtractions=[],this.$toast.add({severity:"error",summary:"Erro",detail:"Horário da extração já passou",life:3e3})))})).catch((e=>{this.loading.extractions=!1,console.log(e)}))},loadModalities(){this.loading.modalities=!0,this.$api.get("/modalities",{headers:{Authorization:this.accessToken()},params:{region_id:this.loggedUser().region_id,region_search:this.loggedUser().region_id,lottery_search:this.selectedLottery.id,lottery_id:this.selectedLottery.id}}).then((e=>{let t=e.data,i=[],a=[],s={...t.find((e=>"duque_dezena"==e.initials.toLowerCase()))??{}};s.name="Duque de Dezena Combinado",s.definition="duque_dezena_combinado";let o={...t.find((e=>"duque_grupo"==e.initials.toLowerCase()))??{}};o.name="Duque de Grupo Combinado",o.definition="duque_grupo_combinado";let l={...t.find((e=>"terno_dezena"==e.initials.toLowerCase()))??{}};l.name="Terno de Dezena Combinado",l.definition="terno_dezena_combinado";let n={...t.find((e=>"terno_grupo"==e.initials.toLowerCase()))??{}};n.name="Terno de Grupo Combinado",n.definition="terno_grupo_combinado";let r={...t.find((e=>"duque_dezena_repeticao"==e.initials.toLowerCase()))??{}};r.name="DD Combinado c/ Repetição",r.definition="duque_dezena_combinado_repeticao";let d={...t.find((e=>"terno_dezena_repeticao"==e.initials.toLowerCase()))??{}};d.name="TDZ Combinado c/ Repetição",d.definition="terno_dezena_combinado_repeticao";let c={...t.find((e=>"duque_grupo_repeticao"==e.initials.toLowerCase()))??{}};c.name="DG Combinado c/ Repetição",c.definition="duque_grupo_combinado_repeticao";let m={...t.find((e=>"terno_grupo_repeticao"==e.initials.toLowerCase()))??{}};m.name="TG Combinado c/ Repetição",m.definition="terno_grupo_combinado_repeticao",t.push(s),t.push(o),t.push(l),t.push(n),t.push(r),t.push(d),t.push(c),t.push(m),this.sortedModalities.forEach((e=>{let a=t.find((t=>t.name.toLowerCase()==e.name.toLowerCase()));a&&(a.color=e.color,i.push(a))})),a=t.filter((e=>!i.includes(e))),this.modalities=i.concat(a),this.loading.modalities=!1,this.editGame&&(this.selectedModality=this.modalities.find((e=>e.name==this.editGame.modalidade)))})).catch((e=>{console.log(e),this.loading.modalities=!1}))},loadLotteries(){this.loading.lotteries=!1;let e="BU";this.$api.get(`/lotteries/${e}`,{headers:{Authorization:this.accessToken()}}).then((e=>{this.selectedLottery=e.data,this.loading.lotteries=!1})).catch((e=>{console.log(e),this.loading.lotteries=!1}))},handleInputPalpite(){switch(this.palpite=this.palpite.replace(/[^0-9]/g,""),this.selectedModality.initials){case"grupo":this.palpite=this.palpite.replace(/([2][6-9])|([3-9][0-9])/g,"");break;case"terno_grupo":case"terno_grupo_repeticao":case"terno_grupo_chaveado":case"duque_grupo":case"passe":case"duque_grupo_repeticao":case"passe_ida":case"passe_ida_volta":case"passe_especial":case"passe_especial_combinado":this.palpite.length%2===0&&(this.palpite=this.palpite.match(/(0[1-9]|1\d|2[0-5])/g).join("-"));break;case"terno_dezena":case"terno_dezena_repeticao":case"duque_dezena":case"duque_dezena_repeticao":case"esquerda_meia_direita":this.palpite.length%2===0&&(this.palpite=this.palpite.match(/\d{2}/g).join("-"));break;default:break}this.palpite.length>=this.modality_rule.maximoDigitos&&this.handleAddPalpite()},handleAddPalpite(){if(this.palpite.length>=this.modality_rule.minimoDigitos){switch(this.$store.dispatch("refreshUserActivityTime"),this.selectedModality.initials){case"terno_grupo":case"terno_grupo_repeticao":case"terno_grupo_chaveado":case"duque_grupo":case"passe":case"passe_ida":case"passe_ida_volta":case"passe_especial":case"passe_especial_combinado":this.palpite=this.palpite.match(/(0[1-9]|1\d|2[0-5])/g).join("-");break;case"terno_dezena":case"terno_dezena_repeticao":case"duque_dezena":case"duque_dezena_repeticao":case"esquerda_meia_direita":this.palpite=this.palpite.match(/\d{2}/g).join("-");break;default:break}this.quotedBets.findIndex((e=>e.number==this.palpite&&e.modality_id==this.selectedModality.id&&e.lottery_name==this.selectedLottery.name))>=0?this.$confirm.require({message:"Esse palpite está cotado, deseja prosseguir?",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{this.palpites.push(this.palpite),this.palpite=""},reject:()=>{}}):(this.palpites.push(this.palpite),this.palpite="")}},handleAddPalpiteTalao(){this.selectedModality&&(this.palpite=this.generatePalpiteTalao(this.selectedModality.initials),this.handleAddPalpite())},handleAddRandomPalpite(){this.selectedModality&&(this.palpite=this.generatePalpite(this.selectedModality.initials),this.handleAddPalpite())},handleRemovePalpite(e){this.palpites=this.palpites.filter(((t,i)=>i!=e))},handleRemoveAllPalpites(){this.palpites=[]},handleInsertInterval(){if(!this.selectedModality)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Selecione uma modalidade",life:3e3});if("number"!==typeof this.initialNumber||"number"!==typeof this.finalNumber)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Entrada inválida",life:3e3});if(this.initialNumber>this.finalNumber)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Intervalo inválido.",life:3e3});let e=[];for(let t=this.initialNumber;t<=this.finalNumber;t++)["milhar","milhar_invertida","milhar_centena","milhar_centena_invertida","milhar_vai_volta","milhar_aproximada","milhar_ouro","mcitdc","mciddc"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-4)),["centena","centena_invertida","centena_vai_volta","centena_aproximada","citdc","ciddc"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-3)),["dezena","dezena_invertida","grupo"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-2)),e.push(("0000"+t).substr(-2));if(["duque_dezena","duque_dezena_repeticao","terno_dezena","terno_dezena_repeticao","duque_grupo","passe","duque_grupo_repeticao","terno_grupo","terno_grupo_repeticao"].includes(this.selectedModality.initials)){if(e.join("-").length<this.modality_rule.minimoDigitos)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Intervalo inválido.",life:3e3});this.palpites.push(e.join("-"))}this.toggleShowNumberInterval()},handleAddGame(e){if("multiply"==e&&(this.betValue,this.palpites.length),this.betValue<.1)this.$toast.add({severity:"error",summary:"Erro",detail:"Valor mínimo é R$ 0,10.",life:3e3});else if(null==this.selectedModality||this.selectedExtractions.length<1||null==this.selectedLottery||null==this.selectedAward||0==this.palpites.length)this.$toast.add({severity:"error",summary:"Erro",detail:"Um ou mais campos não foram preenchidos.",life:3e3});else{var t=[];for(let e=0;e<this.selectedExtractions.length;e++){var i={ref:Math.floor(Date.now()*Math.random()),loteria:this.selectedExtractions[e].name,lottery_name:"Ligeirinha",numero_talao:this.$store.getters.getTalao,extraction:this.selectedExtractions[e].id,product_id:2,region_id:this.loggedUser().region_id,point_id:this.loggedUser().point_id,point_name:this.loggedUser().point_name,lottery_id:this.selectedLottery.id,modalidade:this.selectedModality.name,modality_id:this.selectedModality.id,modality_cotation:this.selectedModality.default_cotation,award_name:this.selectedAward.name,award_internal:this.selectedAward.internal_name,valor:this.betValue,palpites:this.palpites,positions:this.selectedPositions};t.push(i)}this.$toast.add({severity:"success",summary:"Sucesso",detail:"Palpite adicionado ao bilhete!",life:3e3}),this.games=[...this.games,...t],"milhar"!=this.selectedModality.initials&&"centena"!=this.selectedModality.initials&&"milhar_centena"!=this.selectedModality.initials&&"dezena"!=this.selectedModality.initials||(this.palpitesInseridos=this.palpites),this.betValue="",this.palpites=[]}},handleCreateTicket(){this.loading.submit=!0,this.$api.post("/tickets",{tickets:this.games},{headers:{Authorization:this.accessToken()}}).then((e=>{this.loading.submit=!1,this.$toast.add({severity:"success",summary:"Sucesso",detail:"Aposta concluída com sucesso!",life:3e3}),this.games=[],this.$store.dispatch("setTicket",{ticket:e.data}),this.loadBalance(),this.loggedUser().online||this.$router.push({name:"betOverview",path:"/betOverview"})})).catch((e=>{this.loading.submit=!1,this.$toast.add({severity:"error",summary:"Erro",detail:e.response.data.error,life:15e3})}))},toggleSelectAnimal(){this.selectedModality&&"grupo"==this.selectedModality.initials&&(this.showSelectAnimal=!this.showSelectAnimal)},toggleSelectModality(){this.showSelectModality=!this.showSelectModality},toggleShowNumberInterval(){this.selectedModality&&(this.initialNumber=null,this.finalNumber=null,this.showNumberInterval=!this.showNumberInterval)},repetirPalpites(){if(this.palpites.length>0)return;let e=[];switch(this.selectedModality.initials){case"milhar_centena":case"milhar":case"milhar_invertida":case"milhar_centena_invertida":case"milhar_ouro":this.palpitesInseridos.forEach((t=>{t.length>=4&&!t.includes("-")&&e.push(t.substr(-4))})),this.palpites=e;break;case"centena":case"centena_invertida":this.palpitesInseridos.forEach((t=>{t.length>=3&&!t.includes("-")&&e.push(t.substr(-3))})),this.palpites=e;break;case"duque_dezena":this.palpitesInseridos.forEach((t=>{t.length>=4&&(t.includes("-")?e.push(t):e.push(t.substr(-4).slice(0,2)+"-"+t.substr(-4).slice(2)))})),this.palpites=e;break;case"dezena":this.palpitesInseridos.forEach((t=>{t.includes("-")||e.push(t.substr(-2))})),this.palpites=e;break;default:break}}}},ye=i(40089);const fe=(0,ye.Z)(_e,[["render",te],["__scopeId","data-v-de73fb20"]]);var be=fe;const we=e=>((0,a.dD)("data-v-558666cd"),e=e(),(0,a.Cn)(),e),ve={class:"ligeirinha"},Ce={key:0,class:"badge"},ke=we((()=>(0,a._)("i",{class:"fas fa-ticket"},null,-1))),De=we((()=>(0,a._)("h3",null,"Selecione os animais",-1))),Me=we((()=>(0,a._)("h3",null,"Bilhete de aposta",-1))),xe={class:"ticket-container"},Te=we((()=>(0,a._)("div",{style:{position:"absolute",top:"19px",left:"50px","font-size":"20px"}}," Todos ",-1))),Ae={class:"ticket-content"},ze={key:0,class:"no-games-message"},Ie=we((()=>(0,a._)("img",{src:n,alt:"ticket-logo"},null,-1))),Se=we((()=>(0,a._)("span",null,"Nenhum palpite adicionado.",-1))),qe=[Ie,Se],Ge={class:"item-header"},Pe=["onClick"],Ee=we((()=>(0,a._)("i",{class:"fas fa-edit"},null,-1))),Ve=[Ee],Le=["onClick"],$e=we((()=>(0,a._)("i",{class:"fas fa-times"},null,-1))),Ne=[$e],Re={class:"item-body"},Ze={key:0},Ue={class:"item-footer"},We={class:"ticket-footer"},je={class:"footer-item"},Be=we((()=>(0,a._)("span",null,"Total",-1))),Ke={style:{display:"flex","flex-direction":"column",gap:"10px","align-items":"center","justify-content":"center"}},Oe=we((()=>(0,a._)("span",null,"até",-1))),He={class:"step-one"},Ye={class:"modality-container"},Fe=["onClick"],Qe={class:"modality-icon"},Je={class:"modality-name"},Xe={class:"step-two"},et={class:"step-header"},tt=we((()=>(0,a._)("i",{class:"fa-regular fa-arrow-left"},null,-1))),it=[tt],at={style:{"align-self":"center","font-weight":"bold"}},st={class:"step-container"},ot={class:"section"},lt=we((()=>(0,a._)("i",{class:"far fa-list-ol"},null,-1))),nt=[lt],rt=we((()=>(0,a._)("i",{class:"far fa-gift"},null,-1))),dt=[rt],ct=we((()=>(0,a._)("i",{class:"far fa-times"},null,-1))),mt=[ct],ht={key:0,class:"section"},pt=["onClick"],ut={key:0},gt={key:1},_t={key:2},yt=we((()=>(0,a._)("i",{class:"far fa-arrow-right"},null,-1))),ft=[yt],bt={key:1,class:"palpite-area"},wt=["onClick"],vt={class:"step-three"},Ct={class:"step-header"},kt=we((()=>(0,a._)("i",{class:"fa-regular fa-arrow-left"},null,-1))),Dt=[kt],Mt=we((()=>(0,a._)("span",{style:{"align-self":"center","font-weight":"bold"}}," Prêmios ",-1))),xt={class:"step-container"},Tt={class:"value-label"};function At(e,t,i,s,n,r){const d=(0,a.up)("ConfirmDialog"),c=(0,a.up)("Button"),m=(0,a.up)("SelectAnimal"),h=(0,a.up)("Sidebar"),p=(0,a.up)("MultiSelect"),u=(0,a.up)("money3"),g=(0,a.up)("InputNumber"),_=(0,a.up)("Dialog"),y=(0,a.up)("InputText"),f=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)("div",ve,[(0,a.Wm)(d),(0,a.Wm)(c,{onClick:t[0]||(t[0]=e=>r.toggleTicket(e)),class:"btn-ticket"},{default:(0,a.w5)((()=>[n.games.length>0?((0,a.wg)(),(0,a.iD)("div",Ce,(0,o.zw)(n.games.length),1)):(0,a.kq)("",!0),ke])),_:1}),(0,a.Wm)(h,{class:"bottom-select",visible:n.showSelectAnimal,"onUpdate:visible":t[1]||(t[1]=e=>n.showSelectAnimal=e),baseZIndex:1e4,position:"bottom"},{header:(0,a.w5)((()=>[De])),default:(0,a.w5)((()=>[(0,a.Wm)(m,{itemsSelected:n.palpites,onSetAnimal:r.setAnimal},null,8,["itemsSelected","onSetAnimal"])])),_:1},8,["visible"]),(0,a.Wm)(h,{class:"bottom-select",visible:n.showTicket,"onUpdate:visible":t[4]||(t[4]=e=>n.showTicket=e),baseZIndex:1e4,position:"bottom"},{header:(0,a.w5)((()=>[Me])),default:(0,a.w5)((()=>[(0,a._)("div",xe,[(0,a.Wm)(p,{loading:n.loading.extractions,modelValue:n.selectedExtractions,"onUpdate:modelValue":t[2]||(t[2]=e=>n.selectedExtractions=e),options:n.extractions,optionLabel:"name",placeholder:"Horário"},{header:(0,a.w5)((()=>[Te])),_:1},8,["loading","modelValue","options"]),(0,a._)("div",Ae,[0==n.games?((0,a.wg)(),(0,a.iD)("div",ze,qe)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.games,((i,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:s},[(0,a._)("div",Ge,[(0,a._)("div",null,(0,o.zw)(i.modalidade),1),(0,a._)("div",null,[(0,a._)("button",{class:"btn-game",onClick:e=>r.handleEditGame(i)},Ve,8,Pe),(0,a._)("button",{class:"btn-game",onClick:e=>r.handleRemoveGame(s)},Ne,8,Le)])]),(0,a._)("div",Re,[(0,a._)("span",null,"Posição: "+(0,o.zw)(i.award_name),1),i.modalidade.includes("Milhar")?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",Ze,"Lado: "+(0,o.zw)(i.positions.join(", ")),1)),(0,a._)("span",null,"Palpites: "+(0,o.zw)(i.palpites.join(", ")),1)]),(0,a._)("div",Ue,[(0,a.Wm)(u,(0,a.dG)({class:"money-input",onKeyup:t[3]||(t[3]=(0,l.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:i.valor,"onUpdate:modelValue":e=>i.valor=e},n.moneyconfig),null,16,["modelValue","onUpdate:modelValue"])])])))),128))]),(0,a._)("div",We,[(0,a._)("div",je,[Be,(0,a._)("span",null,"R$ "+(0,o.zw)(this.formatCurrency(n.games.reduce(((e,t)=>e+parseFloat(t.valor)),0)*n.selectedExtractions.length)),1)]),(0,a.Wm)(c,{onClick:r.handleCreateTicket,class:"btn-submit",label:"Finalizar aposta",loading:n.loading.submit},null,8,["onClick","loading"])])])])),_:1},8,["visible"]),(0,a.Wm)(_,{visible:n.showNumberInterval,"onUpdate:visible":t[8]||(t[8]=e=>n.showNumberInterval=e),modal:"",header:"Insira um intervalo",style:{width:"250px"}},{default:(0,a.w5)((()=>[(0,a._)("div",Ke,[(0,a.Wm)(g,{modelValue:n.initialNumber,"onUpdate:modelValue":t[5]||(t[5]=e=>n.initialNumber=e),inputmode:"numeric",mode:"decimal",min:0,max:n.modality_rule?.numeroMaximo},null,8,["modelValue","max"]),Oe,(0,a.Wm)(g,{modelValue:n.finalNumber,"onUpdate:modelValue":t[6]||(t[6]=e=>n.finalNumber=e),inputmode:"numeric",mode:"decimal",min:0,max:n.modality_rule?.numeroMaximo},null,8,["modelValue","max"]),(0,a.Wm)(c,{class:"submit-btn",onClick:t[7]||(t[7]=e=>r.handleInsertInterval()),label:"Confirmar"})])])),_:1},8,["visible"]),(0,a._)("div",He,[(0,a._)("div",Ye,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.modalities,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{onClick:t=>r.stepTwo(e),style:(0,o.j5)(`border-left: solid ${e.color} 2px;`),class:"modality-item",key:t},[(0,a._)("div",Qe,(0,o.zw)(e.shortname),1),(0,a._)("span",Je,(0,o.zw)(e.name),1)],12,Fe)))),128))])]),(0,a._)("div",Xe,[(0,a._)("div",et,[(0,a._)("button",{onClick:t[9]||(t[9]=e=>r.backToStepOne()),class:"btn-return"},it),(0,a._)("span",at,(0,o.zw)(n.selectedModality?.name),1)]),(0,a._)("div",st,[(0,a._)("div",ot,[(0,a._)("button",{class:"btn-talao",onClick:t[10]||(t[10]=e=>r.handleAddPalpiteTalao())}," Nº talão "+(0,o.zw)(this.$store.getters.getTalao),1),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[11]||(t[11]=e=>r.toggleShowNumberInterval()),class:"btn-action"},nt)),[[f,"Inserir intervalo de números"]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[12]||(t[12]=e=>r.handleAddRandomPalpite()),class:"btn-action"},dt)),[[f,"Palpite aleatório"]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[13]||(t[13]=e=>r.handleRemoveAllPalpites()),class:"btn-action"},mt)),[[f,"Remover palpites"]])]),n.selectedModality&&!n.selectedModality.initials.includes("milhar")?((0,a.wg)(),(0,a.iD)("div",ht,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.positions,((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{key:t,style:(0,o.j5)(n.selectedPositions.includes(e)?"background: var(--app-primary-color); border: none;":""),class:"btn-action",onClick:t=>r.handleSelectPosition(e)},["Esquerda"==e?((0,a.wg)(),(0,a.iD)("span",ut,"E")):(0,a.kq)("",!0),"Meio"==e?((0,a.wg)(),(0,a.iD)("span",gt,"M")):(0,a.kq)("",!0),"Direita"==e?((0,a.wg)(),(0,a.iD)("span",_t,"D")):(0,a.kq)("",!0)],12,pt)),[[f,e]]))),128))])):(0,a.kq)("",!0),(0,a._)("form",{style:{display:"flex",gap:"10px",width:"100%",height:"60px"},onSubmit:t[17]||(t[17]=(0,l.iM)((e=>r.handleAddPalpite()),["prevent"]))},[(0,a.Wm)(y,{style:{width:"100%"},onClick:t[14]||(t[14]=e=>r.toggleSelectAnimal()),inputmode:"numeric",onInput:r.handleInputPalpite,modelValue:n.palpite,"onUpdate:modelValue":t[15]||(t[15]=e=>n.palpite=e),placeholder:"Insira um palpite"},null,8,["onInput","modelValue"]),(0,a._)("button",{onClick:t[16]||(t[16]=e=>r.handleAddPalpite()),class:"btn-add-palpite"},ft)],32),n.palpites.length>0?((0,a.wg)(),(0,a.iD)("div",bt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.palpites,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{key:t,class:"palpite",onClick:e=>r.handleRemovePalpite(t)},(0,o.zw)(e),9,wt)))),128)),(0,a._)("span",null,"("+(0,o.zw)(n.palpites.length)+")",1)])):(0,a.kq)("",!0)]),(0,a.Wm)(c,{onClick:t[18]||(t[18]=e=>r.stepThree()),class:"btn-submit",label:"Próximo >",style:{width:"100%"}})]),(0,a._)("div",vt,[(0,a._)("div",Ct,[(0,a._)("button",{onClick:t[19]||(t[19]=e=>r.backToStepTwo()),class:"btn-return"},Dt),Mt]),(0,a._)("div",xt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.awards,((i,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"award-container",key:s},[(0,a._)("div",Tt,(0,o.zw)(i.name),1),(0,a.Wm)(u,(0,a.dG)({class:"money-input",onKeyup:t[20]||(t[20]=(0,l.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:i.value,"onUpdate:modelValue":e=>i.value=e},n.moneyconfig),null,16,["modelValue","onUpdate:modelValue"])])))),128)),n.showAllAwards?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[21]||(t[21]=e=>r.showAwards()),class:"btn-show"}," Mostrar mais prêmios "))]),(0,a.Wm)(c,{class:"btn-submit",onClick:t[22]||(t[22]=e=>r.validateGame()),label:"Adicionar aposta"})])])}var zt={name:"LigeirinhaSteps",components:{Dialog:ge.Z,Button:ae.Z,InputText:oe.Z,InputNumber:se.Z,SelectAnimal:de.Z,Sidebar:ie.Z,MultiSelect:he.Z,ConfirmDialog:ue.Z},data(){return{showAllAwards:!1,showSelectAnimal:!1,showTicket:!1,showNumberInterval:!1,initialNumber:null,finalNumber:null,games:[],palpites:[],palpitesInseridos:[],lotteries:[],modalities:[],quotedBets:[],awards:[],extractions:[],positions:["Esquerda","Meio","Direita"],selectedExtractions:[],selectedPositions:[],selectedModality:null,selectedLottery:null,palpite:"",modality_rule:null,loading:{modalities:!1,lotteries:!1,quotedBets:!1,submit:!1},sortedModalities:[{name:"Grupo",shortname:"G",color:"limegreen"},{name:"Grupo salteado",shortname:"GS",color:"limegreen"},{name:"Milhar de ouro",shortname:"MO",color:"#ff3535"},{name:"Milhar e Centena",shortname:"MC",color:"#ff3535"},{name:"Milhar",shortname:"M",color:"#ff3535"},{name:"Centena",shortname:"C",color:"#00a2ff"},{name:"Duque de Dezena",shortname:"DDZ",color:"orange"},{name:"Duque de Dezena Combinado",shortname:"DDZC",color:"orange"},{name:"DD c/ repetição",shortname:"DDCR",color:"orange"},{name:"DD Combinado c/ Repetição",shortname:"DDZC",color:"orange"},{name:"Terno de Dezena",shortname:"TDZ",color:"orange"},{name:"Terno de Dezena Combinado",shortname:"TDZC",color:"orange"},{name:"TDZ c/ repetição",shortname:"TDZCR",color:"orange"},{name:"TDZ Combinado c/ repetição",shortname:"TDZCR",color:"orange"},{name:"Dezena",shortname:"D",color:"orange"},{name:"Duque de Grupo",shortname:"DG",color:"limegreen"},{name:"Duque de Grupo Combinado",shortname:"DGC",color:"limegreen"},{name:"DG c/ repetição",shortname:"DGCR",color:"limegreen"},{name:"DG Combinado c/ Repetição",shortname:"DGCR",color:"limegreen"},{name:"Terno de Grupo",shortname:"TG",color:"limegreen"},{name:"Terno de Grupo Combinado",shortname:"TGC",color:"limegreen"},{name:"Terno de Grupo chaveado",shortname:"TGC",color:"limegreen"},{name:"TG c/ repetição",shortname:"TGCR",color:"limegreen"},{name:"TG Combinado c/ repetição",shortname:"TGCR",color:"limegreen"},{name:"Milhar e centena Invertida",shortname:"MCI",color:"#ff3535"},{name:"Milhar Invertida",shortname:"MI",color:"#ff3535"},{name:"Centena Invertida",shortname:"CI",color:"#00a2ff"},{name:"Milhar aproximada",shortname:"MA",color:"#ff3535"},{name:"Milhar vai e volta",shortname:"MVV",color:"#ff3535"},{name:"MCITDC",shortname:"M",color:"#ff3535"},{name:"MCIDDC",shortname:"M",color:"#ff3535"},{name:"Centena aproximada",shortname:"CA",color:"#00a2ff"},{name:"Centena vai e volta",shortname:"CVV",color:"#00a2ff"},{name:"CITDC",shortname:"C",color:"#00a2ff"},{name:"CIDDC",shortname:"C",color:"#00a2ff"},{name:"Dezena Invertida",shortname:"DI",color:"orange"},{name:"Grupo par",shortname:"GP",color:"limegreen"},{name:"Grupo impar",shortname:"GI",color:"limegreen"},{name:"Passe",shortname:"P",color:"yellow"},{name:"Passe de ida",shortname:"PI",color:"yellow"},{name:"Passe de ida e volta",shortname:"PIV",color:"yellow"},{name:"Passe especial",shortname:"PE",color:"yellow"},{name:"Passe especial combinado",shortname:"PEC",color:"yellow"}],moneyconfig:{masked:!1,prefix:"R$ ",suffix:"",thousands:".",decimal:",",precision:2,disableNegative:!1,disabled:!1,min:null,max:null,allowBlank:!1,minimumNumberOfCharacters:0}}},mounted(){this.refreshTalao(),this.loadLotteries(),this.loadQuotedBets();var e=this.$store.getters.getRepeatTicket;if(e){var t=[];for(let a=0;a<e.ticket.games.length;a++)if("Milhar Brinde"!=e.ticket.games[a].modality_name){var i={ref:Math.floor(Date.now()*Math.random()),lottery_name:"Ligeirinha",region_id:this.loggedUser().region_id,point_id:this.loggedUser().point_id,point_name:this.loggedUser().point_name,product_id:2,lottery_id:3,modalidade:e.ticket.games[a].modality_name,modality_id:e.ticket.games[a].modality_id,award_name:e.ticket.games[a].award.name,award_internal:e.ticket.games[a].award.internal_name,valor:e.ticket.games[a].value,palpites:JSON.parse(e.ticket.games[a].selected_numbers),positions:JSON.parse(e.ticket.games[a].selected_positions)};t.push(i)}this.games=t,this.loadExtractions(),this.selectedExtractions=e.extractions,this.$store.dispatch("setRepeatTicket",{repeat_ticket:null})}},watch:{selectedLottery:function(){this.selectedLottery&&(this.loadModalities(),this.loadExtractions())},editGame:function(){this.editGame&&this.loadLotteries()},selectedModality:function(){this.selectedModality&&(this.palpites=[],this.palpite="",this.selectedPositions=["Direita"],this.modality_rule=this.getModalityRule(this.selectedModality.definition),this.positions=this.modality_rule.positions,this.loadAwards(),this.repetirPalpites())}},methods:{toggleTicket(){this.showTicket=!this.showTicket},backToStepOne(){this.showAllAwards=!1,document.querySelector(".step-one").style.display="flex",document.querySelector(".step-two").style.display="none",document.querySelector(".step-three").style.display="none"},backToStepTwo(){this.showAllAwards=!1,document.querySelector(".step-one").style.display="none",document.querySelector(".step-two").style.display="flex",document.querySelector(".step-three").style.display="none"},stepTwo(e){this.showAllAwards=!1,this.selectedModality=e,document.querySelector(".step-one").style.display="none",document.querySelector(".step-two").style.display="flex"},stepThree(){this.showAllAwards=!1,0!=this.palpites.length?0!=this.selectedPositions.length?(document.querySelector(".step-two").style.display="none",document.querySelector(".step-three").style.display="flex"):this.$toast.add({severity:"error",summary:"Erro",detail:"Você não selecionou nenhum lado",life:3e3}):this.$toast.add({severity:"error",summary:"Erro",detail:"Você não adicionou nenhum palpite",life:3e3})},toggleShowNumberInterval(){this.selectedModality&&(this.initialNumber=null,this.finalNumber=null,this.showNumberInterval=!this.showNumberInterval)},showAwards(){this.showAllAwards=!0,this.loadAwards()},toggleSelectAnimal(){this.selectedModality&&"grupo"==this.selectedModality.initials&&(this.showSelectAnimal=!this.showSelectAnimal)},loadLotteries(){this.loading.lotteries=!0;let e="BU";this.$api.get(`/lotteries/${e}`,{headers:{Authorization:this.accessToken()}}).then((e=>{this.selectedLottery=e.data,this.loading.lotteries=!1})).catch((e=>{console.log(e),this.loading.lotteries=!1}))},loadQuotedBets(){this.$api.get("/quoted_bets",{headers:{Authorization:this.accessToken()}}).then((e=>{this.quotedBets=e.data}))},loadModalities(){this.loading.modalities=!0,this.$api.get("/modalities",{headers:{Authorization:this.accessToken()},params:{region_id:this.loggedUser().region_id,region_search:this.loggedUser().region_id,lottery_search:this.selectedLottery.id,lottery_id:this.selectedLottery.id}}).then((e=>{let t=e.data,i=[],a=[],s={...t.find((e=>"duque_dezena"==e.initials.toLowerCase()))??{}};s.name="Duque de Dezena Combinado",s.definition="duque_dezena_combinado";let o={...t.find((e=>"duque_grupo"==e.initials.toLowerCase()))??{}};o.name="Duque de Grupo Combinado",o.definition="duque_grupo_combinado";let l={...t.find((e=>"terno_dezena"==e.initials.toLowerCase()))??{}};l.name="Terno de Dezena Combinado",l.definition="terno_dezena_combinado";let n={...t.find((e=>"terno_grupo"==e.initials.toLowerCase()))??{}};n.name="Terno de Grupo Combinado",n.definition="terno_grupo_combinado";let r={...t.find((e=>"duque_dezena_repeticao"==e.initials.toLowerCase()))??{}};r.name="DD Combinado c/ Repetição",r.definition="duque_dezena_combinado_repeticao";let d={...t.find((e=>"terno_dezena_repeticao"==e.initials.toLowerCase()))??{}};d.name="TDZ Combinado c/ Repetição",d.definition="terno_dezena_combinado_repeticao";let c={...t.find((e=>"duque_grupo_repeticao"==e.initials.toLowerCase()))??{}};c.name="DG Combinado c/ Repetição",c.definition="duque_grupo_combinado_repeticao";let m={...t.find((e=>"terno_grupo_repeticao"==e.initials.toLowerCase()))??{}};m.name="TG Combinado c/ Repetição",m.definition="terno_grupo_combinado_repeticao",t.push(s),t.push(o),t.push(l),t.push(n),t.push(r),t.push(d),t.push(c),t.push(m),this.sortedModalities.forEach((e=>{let a=t.find((t=>t.name.toLowerCase()==e.name.toLowerCase()));a&&(a.shortname=e.shortname,a.color=e.color,i.push(a))})),a=t.filter((e=>!i.includes(e))),this.modalities=i.concat(a),this.loading.modalities=!1})).catch((e=>{console.log(e),this.loading.modalities=!1}))},loadAwards(){this.loading.awards=!0,this.$api.get("/awards/awardsByModality",{headers:{Authorization:this.accessToken()},params:{modality_id:this.selectedModality.id}}).then((e=>{this.showAllAwards?this.awards=e.data:this.awards=e.data.filter((e=>this.modality_rule.main_awards.includes(e.internal_name))),this.loading.awards=!1})).catch((e=>{console.log(e),this.loading.awards=!1}))},loadExtractions(){this.loading.extractions=!0,this.$api.get("/extraction",{headers:{Authorization:this.accessToken()},params:{lottery_search:3}}).then((e=>{this.loading.extractions=!1,this.extractions=e.data})).catch((e=>{this.loading.extractions=!1,console.log(e)}))},handleSelectPosition(e){this.selectedPositions.includes(e)?this.selectedPositions.splice(this.selectedPositions.indexOf(e),1):this.selectedPositions.push(e)},handleRemoveGame(e){this.games=this.games.filter(((t,i)=>i!=e))},handleEditGame(e){var t=this.modalities.find((t=>t.name==e.modalidade));this.selectedModality={...t},this.selectedPositions=[...e.positions],this.stepTwo(t),this.toggleTicket(),this.games=this.games.filter((t=>t.ref!=e.ref)),setTimeout((()=>{this.palpites=[...e.palpites]}),1e3)},handleSelectExtraction(e){this.selectedExtractions.includes(e)?this.selectedExtractions.splice(this.selectedExtractions.indexOf(e),1):this.selectedExtractions.push(e)},handleInputPalpite(){switch(this.palpite=this.palpite.replace(/[^0-9]/g,""),this.selectedModality.initials){case"grupo":this.palpite=this.palpite.replace(/([2][6-9])|([3-9][0-9])/g,"");break;case"terno_grupo":case"terno_grupo_repeticao":case"terno_grupo_chaveado":case"duque_grupo":case"passe":case"duque_grupo_repeticao":case"passe_ida":case"passe_ida_volta":case"passe_especial":case"passe_especial_combinado":this.palpite.length%2===0&&(this.palpite=this.palpite.match(/(0[1-9]|1\d|2[0-5])/g).join("-"));break;case"terno_dezena":case"terno_dezena_repeticao":case"duque_dezena":case"duque_dezena_repeticao":case"esquerda_meia_direita":this.palpite.length%2===0&&(this.palpite=this.palpite.match(/\d{2}/g).join("-"));break;default:break}this.palpite.length>=this.modality_rule.maximoDigitos&&this.handleAddPalpite()},handleAddPalpite(){if(this.palpite.length>=this.modality_rule.minimoDigitos){switch(this.$store.dispatch("refreshUserActivityTime"),this.selectedModality.initials){case"terno_grupo":case"terno_grupo_repeticao":case"terno_grupo_chaveado":case"duque_grupo":case"passe":case"passe_ida":case"passe_ida_volta":case"passe_especial":case"passe_especial_combinado":this.palpite=this.palpite.match(/(0[1-9]|1\d|2[0-5])/g).join("-");break;case"terno_dezena":case"terno_dezena_repeticao":case"duque_dezena":case"duque_dezena_repeticao":case"esquerda_meia_direita":this.palpite=this.palpite.match(/\d{2}/g).join("-");break;default:break}this.quotedBets.findIndex((e=>e.number==this.palpite&&e.modality_id==this.selectedModality.id&&e.lottery_name==this.selectedLottery.name))>=0?this.$confirm.require({message:"Esse palpite está cotado, deseja prosseguir?",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{this.palpites.push(this.palpite),this.palpite=""},reject:()=>{this.palpite=""}}):(this.palpites.push(this.palpite),this.palpite="")}},handleAddPalpiteTalao(){this.selectedModality&&(this.palpite=this.generatePalpiteTalao(this.selectedModality.initials),this.handleAddPalpite())},handleAddRandomPalpite(){this.selectedModality&&(this.palpite=this.generatePalpite(this.selectedModality.initials),this.handleAddPalpite())},handleRemovePalpite(e){this.palpites=this.palpites.filter(((t,i)=>i!=e))},handleRemoveAllPalpites(){this.palpites=[]},setAnimal(e){const t=this.palpites.find((t=>t==e.item));t?this.palpites=this.palpites.filter((t=>t!=e.item)):(this.palpite=e.item,this.handleAddPalpite())},repetirPalpites(){if(this.palpites.length>0)return;let e=[];switch(this.selectedModality.initials){case"milhar_centena":case"milhar":case"milhar_invertida":case"milhar_centena_invertida":case"milhar_ouro":this.palpitesInseridos.forEach((t=>{t.length>=4&&!t.includes("-")&&e.push(t.substr(-4))})),this.palpites=e;break;case"centena":case"centena_invertida":this.palpitesInseridos.forEach((t=>{t.length>=3&&!t.includes("-")&&e.push(t.substr(-3))})),this.palpites=e;break;case"duque_dezena":this.palpitesInseridos.forEach((t=>{t.length>=4&&(t.includes("-")?e.push(t):e.push(t.substr(-4).slice(0,2)+"-"+t.substr(-4).slice(2)))})),this.palpites=e;break;case"dezena":this.palpitesInseridos.forEach((t=>{t.includes("-")||e.push(t.substr(-2))})),this.palpites=e;break;default:break}},handleInsertInterval(){if(!this.selectedModality)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Selecione uma modalidade",life:3e3});if("number"!==typeof this.initialNumber||"number"!==typeof this.finalNumber)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Entrada inválida",life:3e3});if(this.initialNumber>this.finalNumber)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Intervalo inválido.",life:3e3});let e=[];for(let t=this.initialNumber;t<=this.finalNumber;t++)["milhar","milhar_invertida","milhar_centena","milhar_centena_invertida","milhar_vai_volta","milhar_aproximada","milhar_ouro","mcitdc","mciddc"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-4)),["centena","centena_invertida","centena_vai_volta","centena_aproximada","citdc","ciddc"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-3)),["dezena","dezena_invertida","grupo"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-2)),e.push(("0000"+t).substr(-2));if(["duque_dezena","duque_dezena_repeticao","terno_dezena","terno_dezena_repeticao","duque_grupo","passe","duque_grupo_repeticao","terno_grupo","terno_grupo_repeticao"].includes(this.selectedModality.initials)){if(e.join("-").length<this.modality_rule.minimoDigitos)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Intervalo inválido.",life:3e3});this.palpites.push(e.join("-"))}this.toggleShowNumberInterval()},validateGame(){for(let e=0;e<this.awards.length;e++)if(this.awards[e].value>=100)return void this.$confirm.require({message:"O valor inserido é igual ou superior a R$ 100,00. Deseja prosseguir?",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{this.handleAddGame()}});this.handleAddGame()},handleAddGame(){let e=this.awards.filter((e=>e.value>=.1));var t=[];for(let o=0;o<e.length;o++){var i=[...this.selectedPositions],a=this.getModalityRule(this.selectedModality.definition,e[o].name);const l=i.find((e=>!a.positions.includes(e)));l&&(i=["Direita"]);var s={ref:Math.floor(Date.now()*Math.random()),lottery_name:"Ligeirinha",numero_talao:this.$store.getters.getTalao,region_id:this.loggedUser().region_id,point_id:this.loggedUser().point_id,point_name:this.loggedUser().point_name,lottery_id:this.selectedLottery.id,product_id:2,modalidade:this.selectedModality.name,modality_id:this.selectedModality.id,modality_cotation:this.selectedModality.default_cotation,award_name:e[o].name,award_internal:e[o].internal_name,valor:e[o].value,palpites:this.palpites,positions:[...i]};t.push(s)}this.games=[...this.games,...t],this.$toast.add({severity:"success",summary:"Sucesso",detail:"Palpite adicionado ao bilhete!",life:3e3}),"milhar"!=this.selectedModality.initials&&"centena"!=this.selectedModality.initials&&"centena_invertida"!=this.selectedModality.initials&&"milhar_invertida"!=this.selectedModality.initials&&"milhar_centena"!=this.selectedModality.initials&&"dezena"!=this.selectedModality.initials&&"milhar_centena_invertida"!=this.selectedModality.initials&&"milhar_ouro"!=this.selectedModality.initials&&"terno_dezena"!=this.selectedModality.initials||(this.palpitesInseridos=this.palpites),this.backToStepTwo(),this.palpites=[]},handleCreateTicket(){if(0==this.selectedExtractions.length)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Você não selecionou nenhuma extração",life:5e3});let e=[];for(let t=0;t<this.games.length;t++)for(let i=0;i<this.selectedExtractions.length;i++)e.push({...this.games[t],ref:Math.floor(Date.now()*Math.random()),loteria:this.selectedExtractions[i].name,extraction:this.selectedExtractions[i].id});this.loading.submit=!0,this.$api.post("/tickets",{tickets:e},{headers:{Authorization:this.accessToken()}}).then((e=>{this.loading.submit=!1,this.$toast.add({severity:"success",summary:"Sucesso",detail:"Aposta concluída com sucesso!",life:3e3}),this.games=[],this.$store.dispatch("setTicket",{ticket:e.data}),this.loadBalance(),this.loggedUser().online?this.$router.push({name:"history",path:"/history"}):this.$router.push({name:"betOverview",path:"/betOverview"})})).catch((e=>{this.loading.submit=!1,this.$toast.add({severity:"error",summary:"Erro",detail:e.response.data.error,life:15e3})}))}}};const It=(0,ye.Z)(zt,[["render",At],["__scopeId","data-v-558666cd"]]);var St=It,qt={components:{LigeirinhaStandard:be,LigeirinhaSteps:St}};const Gt=(0,ye.Z)(qt,[["render",s]]);var Pt=Gt}}]);
//# sourceMappingURL=789.52103462.js.map