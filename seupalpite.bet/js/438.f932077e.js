"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[438],{2439:function(e,t,s){s.d(t,{Z:function(){return n}});var i=s(73396),a=s(87139),l=s(49242),n={name:"InputSwitch",inheritAttrs:!1,emits:["click","update:modelValue","change","input"],props:{modelValue:{type:null,default:!1},class:null,style:null,trueValue:{type:null,default:!0},falseValue:{type:null,default:!1}},data(){return{focused:!1}},methods:{onClick(e){if(!this.$attrs.disabled){const t=this.checked?this.falseValue:this.trueValue;this.$emit("click",e),this.$emit("update:modelValue",t),this.$emit("change",e),this.$emit("input",t),this.$refs.input.focus()}e.preventDefault()},onFocus(){this.focused=!0},onBlur(){this.focused=!1}},computed:{containerClass(){return["p-inputswitch p-component",this.class,{"p-inputswitch-checked":this.checked,"p-disabled":this.$attrs.disabled,"p-focus":this.focused}]},checked(){return this.modelValue===this.trueValue}}};const o={class:"p-hidden-accessible"},d=["checked","aria-checked"],u=(0,i._)("span",{class:"p-inputswitch-slider"},null,-1);function c(e,t,s,n,c,r){return(0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)(r.containerClass),onClick:t[3]||(t[3]=e=>r.onClick(e)),style:(0,a.j5)(s.style)},[(0,i._)("div",o,[(0,i._)("input",(0,i.dG)({ref:"input",type:"checkbox",checked:r.checked},e.$attrs,{onFocus:t[0]||(t[0]=e=>r.onFocus(e)),onBlur:t[1]||(t[1]=e=>r.onBlur(e)),onKeydown:t[2]||(t[2]=(0,l.D2)((0,l.iM)((e=>r.onClick(e)),["prevent"]),["enter"])),role:"switch","aria-checked":r.checked}),null,16,d)]),u],6)}function r(e,t){void 0===t&&(t={});var s=t.insertAt;if(e&&"undefined"!==typeof document){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===s&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var h='\n.p-inputswitch {\n    position: relative;\n    display: inline-block;\n}\n.p-inputswitch-slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n.p-inputswitch-slider:before {\n    position: absolute;\n    content: "";\n    top: 50%;\n}\n';r(h),n.render=c},72438:function(e,t,s){s.r(t),s.d(t,{default:function(){return U}});var i=s(73396),a=s(87139),l=s(49242);const n=e=>((0,i.dD)("data-v-76893fa0"),e=e(),(0,i.Cn)(),e),o={class:"quininha"},d=n((()=>(0,i._)("h3",null,"Quininha",-1))),u={class:"field"},c=n((()=>(0,i._)("div",{style:{position:"absolute",top:"19px",left:"50px"}}," Todos ",-1))),r={class:"section"},h={class:"number-table"},p=["onClick","id"],m={class:"section"},v={style:{display:"flex","align-items":"center",gap:"10px"}},g=n((()=>(0,i._)("span",null,"Trancar palpites",-1))),f={class:"row"},_={class:"label"},b={class:"btn-quotation-area"},k=["onClick"],y={class:"submit-area"},C={class:"field"},x={class:"field"};function q(e,t,s,n,q,w){const V=(0,i.up)("MultiSelect"),L=(0,i.up)("InputSwitch"),$=(0,i.up)("Button"),z=(0,i.up)("money3");return(0,i.wg)(),(0,i.iD)("div",o,[d,(0,i._)("div",u,[(0,i.Wm)(V,{modelValue:q.selectedContests,"onUpdate:modelValue":t[0]||(t[0]=e=>q.selectedContests=e),options:q.contests,optionLabel:"name",placeholder:"Concurso"},{header:(0,i.w5)((()=>[c])),_:1},8,["modelValue","options"])]),(0,i._)("div",r,[(0,i._)("div",h,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(q.numbers,((e,t)=>((0,i.wg)(),(0,i.iD)("button",{onClick:t=>w.handleSelectNumber(e),id:e,class:"number",key:t},(0,a.zw)(e),9,p)))),128))])]),(0,i._)("div",m,[(0,i._)("div",v,[g,(0,i.Wm)(L,{onClick:t[1]||(t[1]=e=>w.handleLockUnlockNumbers()),modelValue:q.lockNumbers,"onUpdate:modelValue":t[2]||(t[2]=e=>q.lockNumbers=e)},null,8,["modelValue"])]),(0,i._)("div",f,[(0,i._)("span",_,"Retorno: "+(0,a.zw)(this.formatCurrency(this.expected_value)),1)]),(0,i.Wm)($,{onClick:t[3]||(t[3]=e=>w.handleClear()),class:"clear-btn",label:"Limpar"}),(0,i._)("div",b,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(q.maxLength,((e,t)=>((0,i.wg)(),(0,i.iD)("button",{class:(0,a.C_)(this.palpites.length==e.value?"btn-quotation maxLength-selected":"btn-quotation"),onClick:t=>w.handleGenerate(e),key:t},(0,a.zw)(e.name+" (x"+e.quotation+")"),11,k)))),128))]),(0,i._)("div",y,[(0,i._)("div",C,[(0,i.Wm)(z,(0,i.dG)({class:"money-input",onKeyup:t[4]||(t[4]=(0,l.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:q.betValue,"onUpdate:modelValue":t[5]||(t[5]=e=>q.betValue=e)},q.moneyconfig),null,16,["modelValue"])]),(0,i._)("div",x,[(0,i.Wm)($,{class:"submit-btn",onClick:t[6]||(t[6]=e=>w.handleAddGame("divide")),label:"Finalizar aposta",loading:q.loading},null,8,["loading"])])])])])}s(26699);var w=s(31826),V=s(64376),L=s(15517),$=s(2439),z={components:{Button:w.Z,MultiSelect:V.Z,Dropdown:L.Z,InputSwitch:$.Z},data(){return{loading:!1,lockNumbers:!1,selectedContests:[],palpites:[],betValue:0,expected_value:0,selectedLength:null,maxLength:[{name:"13 dezenas",value:13,quotation:2e3},{name:"14 dezenas",value:14,quotation:1500},{name:"15 dezenas",value:15,quotation:1e3},{name:"16 dezenas",value:16,quotation:800},{name:"17 dezenas",value:17,quotation:600},{name:"18 dezenas",value:18,quotation:400},{name:"19 dezenas",value:19,quotation:300},{name:"20 dezenas",value:20,quotation:200},{name:"25 dezenas",value:25,quotation:150},{name:"30 dezenas",value:30,quotation:100}],dezenas_disponiveis:[13,14,15,16,17,18,19,20,25,30],numbers:["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80"],contests:[],partial_quotations:[],rules:[],moneyconfig:{masked:!1,prefix:"R$ ",suffix:"",thousands:".",decimal:",",precision:2,disableNegative:!1,disabled:!1,min:null,max:null,allowBlank:!1,minimumNumberOfCharacters:0}}},validations(){return{}},created(){this.loadContests(),this.loadPartialQuotations()},mounted(){var e=this.$store.getters.getRepeatTicket;if(e){var t=JSON.parse(e.ticket.selected_numbers);this.selectedLength=this.maxLength.find((e=>e.value==t.length)),t.map((e=>{this.numbers.includes(e.toString())&&this.handleSelectNumber(e)})),this.$store.dispatch("setRepeatTicket",{repeat_ticket:null})}},watch:{betValue:function(){if(0!=this.partial_quotations.length)if(this.dezenas_disponiveis.includes(this.palpites.length)){var e=this.partial_quotations.find((e=>e.quantity==this.palpites.length));this.betValue*e.quotation>e.max_value?this.expected_value=parseFloat(e.max_value):this.expected_value=this.betValue*e.quotation}else this.expected_value=0},palpites:{handler(){if(0!=this.partial_quotations.length)if(this.dezenas_disponiveis.includes(this.palpites.length)){var e=this.partial_quotations.find((e=>e.quantity==this.palpites.length));this.betValue*e.quotation>e.max_value?this.expected_value=parseFloat(e.max_value):this.expected_value=this.betValue*e.quotation}else this.expected_value=0},deep:!0}},methods:{loadContests(){this.$api.get("/contests",{headers:{Authorization:this.accessToken()},params:{caixa_lottery_search:1,limit:this.$store.getters.getRegionConfig.max_contests}}).then((e=>{this.contests=e.data})).catch((e=>{console.log(e)}))},loadPartialQuotations(){this.$api.get("partial_quotations",{headers:{Authorization:this.accessToken()},params:{caixa_lottery_search:1,region_search:[this.loggedUser().region_id]}}).then((e=>{this.partial_quotations=e.data,this.partial_quotations.forEach((e=>{let t=this.maxLength.find((t=>t.value==e.quantity));t&&(t.quotation=e.quotation)}))})).catch((e=>{console.log(e)}))},handleSelectNumber(e){var t=document.getElementById(e);if(this.palpites.includes(e))this.palpites.splice(this.palpites.indexOf(e),1),t.classList.remove("locked"),t.classList.remove("selected");else{if(this.palpites.length>=this.maxLength[this.maxLength.length-1].value)return;this.palpites.push(e),this.lockNumbers?t.classList.add("locked"):t.classList.add("selected")}},handleLockUnlockNumbers(){var e=null;if(this.lockNumbers){e=document.querySelectorAll(".locked");for(let t of e)t.classList.remove("locked"),t.classList.add("selected")}else{e=document.querySelectorAll(".selected");for(let t of e)t.classList.remove("selected"),t.classList.add("locked")}},handleClear(){var e=document.querySelectorAll(".selected");for(let t of e)this.palpites.splice(this.palpites.indexOf(t.id),1),t.classList.remove("selected")},handleGenerate(e){this.selectedLength=e,this.handleClear(),this.handleComplete()},handleComplete(){let e=this.selectedLength.value-this.palpites.length;for(let s=0;s<e;s++){let e=("0"+Math.floor(79*Math.random()+1)%9999).slice(-2);if(this.palpites.includes(e))s--;else{var t=document.getElementById(e);t.classList.toggle("selected"),this.palpites.push(e)}}},handleAddGame(){if(this.loading=!0,!this.dezenas_disponiveis.includes(this.palpites.length))return this.$toast.add({severity:"error",summary:"Erro",detail:"Número de dezenas inválido.",life:3e3}),void(this.loading=!1);if(this.betValue<2)return this.$toast.add({severity:"error",summary:"Erro",detail:"Valor mínimo é R$ 2,00",life:3e3}),void(this.loading=!1);if(this.selectedContests.length<1||0==this.palpites.length)return this.$toast.add({severity:"error",summary:"Erro",detail:"Um ou mais campos não foram preenchidos.",life:3e3}),void(this.loading=!1);var e=[];for(let s=0;s<this.selectedContests.length;s++){var t={product_id:6,region_id:this.loggedUser().region_id,session_id:this.loggedUser().session_id,point_id:this.loggedUser().point_id,point_name:this.loggedUser().point_name,seller_id:this.loggedUser().seller_id,contest_id:this.selectedContests[s].id,contest_name:this.selectedContests[s].name,total_value:this.betValue,selected_numbers:this.palpites,modality:"Quininha"};e.push(t)}this.$api.post("/caixa_tickets",{tickets:e},{headers:{Authorization:this.accessToken()}}).then((e=>{this.loading=!1,this.$toast.add({severity:"success",summary:"Sucesso",detail:"Aposta concluída com sucesso!",life:3e3}),this.$store.dispatch("setTicket",{ticket:e.data}),this.loadBalance(),this.loggedUser().online||this.$router.push({name:"betOverview",path:"/betOverview"})})).catch((e=>{this.loading=!1,this.$toast.add({severity:"error",summary:"Erro",detail:e.response.data,life:15e3})}))}}},N=s(40089);const S=(0,N.Z)(z,[["render",q],["__scopeId","data-v-76893fa0"]]);var U=S}}]);
//# sourceMappingURL=438.f932077e.js.map