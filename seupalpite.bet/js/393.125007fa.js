"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[393],{64393:function(a,e,s){s.r(e),s.d(e,{default:function(){return f}});var o=s(73396);const r=a=>((0,o.dD)("data-v-b4e2219c"),a=a(),(0,o.Cn)(),a),l={class:"changepassword"},n=r((()=>(0,o._)("h3",{style:{"margin-bottom":"10px"}},"Alterar senha",-1))),t={class:"field"},d=r((()=>(0,o._)("label",null,"Senha",-1))),i={class:"field"},u=r((()=>(0,o._)("label",null,"Confirmar senha",-1)));function c(a,e,s,r,c,h){const m=(0,o.up)("Password"),g=(0,o.up)("Button");return(0,o.wg)(),(0,o.iD)("div",l,[n,(0,o._)("div",t,[d,(0,o.Wm)(m,{modelValue:c.password,"onUpdate:modelValue":e[0]||(e[0]=a=>c.password=a),weakLabel:"Nível de segurança: fraco",mediumLabel:"Nível de segurança: médio",strongLabel:"Nível de segurança: forte",toggleMask:""},null,8,["modelValue"])]),(0,o._)("div",i,[u,(0,o.Wm)(m,{modelValue:c.confirmPassword,"onUpdate:modelValue":e[1]||(e[1]=a=>c.confirmPassword=a),weakLabel:"Nível de segurança: fraco",mediumLabel:"Nível de segurança: médio",strongLabel:"Nível de segurança: forte",toggleMask:""},null,8,["modelValue"])]),(0,o.Wm)(g,{onClick:h.handleChangePassword,class:"btn-submit",label:"Alterar senha",loading:c.loading},null,8,["onClick","loading"])])}var h=s(31826),m=s(13789),g={components:{Button:h.Z,Password:m.Z},data(){return{loading:!1,password:null,confirmPassword:null}},methods:{handleChangePassword(){if(this.loading=!0,this.password!=this.confirmPassword)return this.$toast.add({severity:"error",summary:"Erro",detail:"Campos não conferem.",life:3e3}),void(this.loading=!1);this.$api.get("changepassword/0",{headers:{Authorization:this.accessToken()},params:{password:this.password,confirmPassword:this.confirmPassword}}).then((()=>{this.loading=!1,this.$toast.add({severity:"success",summary:"Sucesso",detail:"Senha alterada com sucesso!",life:3e3}),this.logOut(),this.$router.push({path:"/login"})})).catch((a=>{this.loading=!1,this.$toast.add({severity:"error",summary:"Erro",detail:a.response.data.error,life:3e3})}))}}},p=s(40089);const w=(0,p.Z)(g,[["render",c],["__scopeId","data-v-b4e2219c"]]);var f=w}}]);
//# sourceMappingURL=393.125007fa.js.map