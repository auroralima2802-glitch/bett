"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[182],{83182:function(a,e,t){t.r(e),t.d(e,{default:function(){return E}});var r=t(73396),s=t(87139);const o=a=>((0,r.dD)("data-v-35fd70d9"),a=a(),(0,r.Cn)(),a),d={class:"products"},l={class:"filter-container"},n=o((()=>(0,r._)("h3",null,"Relatório de produtos",-1))),i={key:1,class:"table"},c=o((()=>(0,r._)("i",{class:"pi pi-chart-bar"},null,-1))),u=(0,r.Uk)("   "),m=(0,r.uE)('<div class="table-header" data-v-35fd70d9><div class="column" data-v-35fd70d9>Produto</div><div class="column" data-v-35fd70d9>Venda</div><div class="column" data-v-35fd70d9>Comissão</div><div class="column" data-v-35fd70d9>Prêmio</div></div>',1),h={class:"column product-name"},p={class:"column"},v={class:"column"},_={class:"column"},f={class:"table-footer"},w=o((()=>(0,r._)("div",{class:"column"},"Total",-1))),C={class:"column"},g={class:"column"},D={class:"column"};function y(a,e,t,o,y,b){const k=(0,r.up)("Button"),z=(0,r.up)("Calendar"),Z=(0,r.up)("Spinner");return(0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("div",l,[n,(0,r.Wm)(k,{onClick:b.toggleCalendar,icon:"pi pi-calendar"},null,8,["onClick"])]),(0,r.Wm)(z,{style:(0,s.j5)(y.showCalendar?"display: flex":"display: none"),inline:"",maxDate:new Date,modelValue:y.date_search,"onUpdate:modelValue":e[0]||(e[0]=a=>y.date_search=a),selectionMode:"range",manualInput:!1},null,8,["style","maxDate","modelValue"]),y.loading?((0,r.wg)(),(0,r.j4)(Z,{key:0})):((0,r.wg)(),(0,r.iD)("fieldset",i,[(0,r._)("legend",null,[c,u,(0,r._)("span",null,(0,s.zw)(a.formatDate(y.date_search[0])==a.formatDate(y.date_search[1])?a.formatDate(y.date_search[0]):a.formatDate(y.date_search[0])+" à "+a.formatDate(y.date_search[1])),1)]),m,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(y.report,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t,class:"table-row"},[(0,r._)("div",h,(0,s.zw)(e.product_name),1),(0,r._)("div",p,(0,s.zw)(a.formatCurrency(e.vendas)),1),(0,r._)("div",v,(0,s.zw)(a.formatCurrency(e.comissao)),1),(0,r._)("div",_,(0,s.zw)(a.formatCurrency(e.premios)),1)])))),128)),(0,r._)("div",f,[w,(0,r._)("div",C,(0,s.zw)(a.formatCurrency(y.report.reduce(((a,e)=>a+parseFloat(e.vendas)),0))),1),(0,r._)("div",g,(0,s.zw)(a.formatCurrency(y.report.reduce(((a,e)=>a+parseFloat(e.comissao)),0))),1),(0,r._)("div",D,(0,s.zw)(a.formatCurrency(y.report.reduce(((a,e)=>a+parseFloat(e.premios)),0))),1)])]))])}var b=t(43781),k=t(56849),z=t(62711),Z=t(31826),V=t(81937),j=t(79692),R={components:{Button:Z.Z,Calendar:z.Z,Divider:V.Z,TabView:b.Z,TabPanel:k.Z,Spinner:j.Z},data(){return{showCalendar:!1,date_search:[new Date,new Date],loading:!1,report:{vendas:0,cancelamentos:0,comissao:0,premios:0,reclamacao:0,despesa:0,recebido:0,enviado:0,dev_anterior:0,haver:0}}},created(){this.loadReport()},watch:{date_search:function(a){a[1]&&(this.loadReport(),this.showCalendar=!this.showCalendar)}},methods:{toggleCalendar(){this.showCalendar=!this.showCalendar},loadReport(){this.loading=!0,this.$api.get("/reports/statistics/seller",{headers:{Authorization:this.accessToken()},params:{from:this.date_search[0],to:this.date_search[1],seller_id:this.loggedUser().id}}).then((a=>{this.loading=!1,this.report=a.data})).catch((()=>{this.loading=!1,this.$toast.add({severity:"error",summary:"Erro",detail:"Erro ao carregar relatório",life:3e3})}))}}},T=t(40089);const x=(0,T.Z)(R,[["render",y],["__scopeId","data-v-35fd70d9"]]);var E=x}}]);
//# sourceMappingURL=182.dd8234f7.js.map