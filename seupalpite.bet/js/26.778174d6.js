"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[26],{26026:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var s=a(73396),o=a(87139);const l=e=>((0,s.dD)("data-v-f5210044"),e=e(),(0,s.Cn)(),e),i={class:"results"},r={class:"title-section"},n=l((()=>(0,s._)("h3",null,"Resultados",-1))),d={class:"filter"},c={class:"filter"},h={class:"filter"},u={key:1,style:{color:"white","align-self":"center"}},p={class:"list"};function g(e,t,a,l,g,_){const m=(0,s.up)("Button"),w=(0,s.up)("Calendar"),f=(0,s.up)("Dropdown"),k=(0,s.up)("Spinner"),y=(0,s.up)("TradicionalCard"),C=(0,s.up)("SideScroll");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",r,[n,(0,s.Wm)(m,{icon:"fa-solid fa-sliders",onClick:_.toggleFilter},null,8,["onClick"])]),(0,s._)("div",{class:"filter-container",style:(0,o.j5)(g.showFilter?"display: grid":"display: none")},[(0,s._)("div",d,[(0,s.Wm)(w,{label:"Data",modelValue:g.date_search,"onUpdate:modelValue":t[0]||(t[0]=e=>g.date_search=e),dateFormat:"dd/mm/yy",showIcon:!0},null,8,["modelValue"])]),(0,s._)("div",c,[(0,s.Wm)(f,{onChange:_.loadResults,modelValue:g.lottery_search,"onUpdate:modelValue":t[1]||(t[1]=e=>g.lottery_search=e),options:g.lotteries,optionLabel:"name",placeholder:"Loteria",optionValue:"id",showClear:""},null,8,["onChange","modelValue","options"])]),(0,s._)("div",h,[(0,s.Wm)(f,{onChange:_.loadResults,modelValue:g.extraction_search,"onUpdate:modelValue":t[2]||(t[2]=e=>g.extraction_search=e),options:g.extractions,optionLabel:"name",placeholder:"Extração",optionValue:"name",showClear:""},null,8,["onChange","modelValue","options"])])],4),g.loading?((0,s.wg)(),(0,s.j4)(k,{key:0})):(0,s.kq)("",!0),g.loading||0!=g.results.length?((0,s.wg)(),(0,s.j4)(C,{key:2},{default:(0,s.w5)((()=>[(0,s._)("div",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.results,((e,t)=>((0,s.wg)(),(0,s.j4)(y,{result:e,key:t},null,8,["result"])))),128))])])),_:1})):((0,s.wg)(),(0,s.iD)("span",u,"Nenhum resultado disponível"))])}var _=a(4419),m=a(78681),w=a(79692),f=a(15517),k=a(62711),y=a(31826),C=a(36797),v=a.n(C),x={components:{TradicionalCard:_.Z,Spinner:w.Z,Dropdown:f.Z,Calendar:k.Z,Button:y.Z,SideScroll:m.Z},data(){return{loading:!1,lottery_search:null,extraction_search:null,selectedDate:new Date,showFilter:!1,date_search:new Date,results:[],lotteries:[],extractions:[]}},created(){this.loadLotteries(),this.loadExtractions(),this.loadResults()},watch:{date_search:function(e){e&&this.loadResults()}},methods:{toggleFilter(){this.showFilter=!this.showFilter},loadLotteries(){this.$api.get("/lotteries",{headers:{Authorization:this.accessToken()},params:{region_id:this.loggedUser().region_id}}).then((e=>{this.lotteries=e.data})).catch((e=>{console.log(e)}))},loadExtractions(){this.$api.get("tickets/extractionList",{headers:{Authorization:this.accessToken()},params:{search_region:this.loggedUser().region_id}}).then((e=>{this.extractions=e.data})).catch((e=>{console.log(e)}))},loadResults(){this.loading=!0,this.results=[],this.$api.get("results/list",{headers:{Authorization:this.accessToken()},params:{to:v()(this.date_search).format("YYYY-MM-DD"),extraction_search:this.extraction_search,lottery_search:this.lottery_search}}).then((e=>{this.results=e.data,this.loading=!1})).catch((()=>{console.log("não foi possível carregar os resultados"),this.loading=!1}))}}},D=a(40089);const V=(0,D.Z)(x,[["render",g],["__scopeId","data-v-f5210044"]]);var b=V}}]);
//# sourceMappingURL=26.778174d6.js.map