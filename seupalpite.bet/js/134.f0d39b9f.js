"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[134],{2439:function(e,t,s){s.d(t,{Z:function(){return n}});var a=s(73396),i=s(87139),l=s(49242),n={name:"InputSwitch",inheritAttrs:!1,emits:["click","update:modelValue","change","input"],props:{modelValue:{type:null,default:!1},class:null,style:null,trueValue:{type:null,default:!0},falseValue:{type:null,default:!1}},data(){return{focused:!1}},methods:{onClick(e){if(!this.$attrs.disabled){const t=this.checked?this.falseValue:this.trueValue;this.$emit("click",e),this.$emit("update:modelValue",t),this.$emit("change",e),this.$emit("input",t),this.$refs.input.focus()}e.preventDefault()},onFocus(){this.focused=!0},onBlur(){this.focused=!1}},computed:{containerClass(){return["p-inputswitch p-component",this.class,{"p-inputswitch-checked":this.checked,"p-disabled":this.$attrs.disabled,"p-focus":this.focused}]},checked(){return this.modelValue===this.trueValue}}};const o={class:"p-hidden-accessible"},u=["checked","aria-checked"],r=(0,a._)("span",{class:"p-inputswitch-slider"},null,-1);function d(e,t,s,n,d,c){return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(c.containerClass),onClick:t[3]||(t[3]=e=>c.onClick(e)),style:(0,i.j5)(s.style)},[(0,a._)("div",o,[(0,a._)("input",(0,a.dG)({ref:"input",type:"checkbox",checked:c.checked},e.$attrs,{onFocus:t[0]||(t[0]=e=>c.onFocus(e)),onBlur:t[1]||(t[1]=e=>c.onBlur(e)),onKeydown:t[2]||(t[2]=(0,l.D2)((0,l.iM)((e=>c.onClick(e)),["prevent"]),["enter"])),role:"switch","aria-checked":c.checked}),null,16,u)]),r],6)}function c(e,t){void 0===t&&(t={});var s=t.insertAt;if(e&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===s&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var h='\n.p-inputswitch {\n    position: relative;\n    display: inline-block;\n}\n.p-inputswitch-slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n.p-inputswitch-slider:before {\n    position: absolute;\n    content: "";\n    top: 50%;\n}\n';c(h),n.render=d},65134:function(e,t,s){s.r(t),s.d(t,{default:function(){return E}});var a=s(73396),i=s(87139),l=s(49242);const n=e=>((0,a.dD)("data-v-75a67c6c"),e=e(),(0,a.Cn)(),e),o={class:"lt"},u=n((()=>(0,a._)("h3",null,"Lt",-1))),r={class:"field"},d=n((()=>(0,a._)("div",{style:{position:"absolute",top:"19px",left:"50px"}}," Todos ",-1))),c={class:"section"},h={class:"number-table"},p=["onClick","id"],m={class:"section"},_={style:{display:"flex","align-items":"center",gap:"10px"}},f=n((()=>(0,a._)("span",null,"Trancar palpites",-1))),v={style:{display:"flex",gap:"10px","flex-wrap":"wrap"}},g={class:"row"},y={class:"label"},V={class:"row"},b={class:"label"},k={class:"row"},q={class:"label"},C={class:"button-area"},x={class:"field"},w=n((()=>(0,a._)("div",{class:"value-label"},"Quina",-1))),$={class:"field"},S=n((()=>(0,a._)("div",{class:"value-label"},"Quadra",-1))),U={class:"field"},T=n((()=>(0,a._)("div",{class:"value-label"},"Terno",-1))),F={class:"field"};function N(e,t,s,n,N,A){const L=(0,a.up)("MultiSelect"),B=(0,a.up)("InputSwitch"),z=(0,a.up)("Button"),D=(0,a.up)("money3");return(0,a.wg)(),(0,a.iD)("div",o,[u,(0,a._)("div",r,[(0,a.Wm)(L,{modelValue:N.selectedContests,"onUpdate:modelValue":t[0]||(t[0]=e=>N.selectedContests=e),options:N.contests,optionLabel:"name",placeholder:"Concurso"},{header:(0,a.w5)((()=>[d])),_:1},8,["modelValue","options"])]),(0,a._)("div",c,[(0,a._)("div",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(N.numbers,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{onClick:t=>A.handleSelectNumber(e),id:e,class:"number",key:t},(0,i.zw)(e),9,p)))),128))])]),(0,a._)("div",m,[(0,a._)("div",_,[f,(0,a.Wm)(B,{onClick:t[1]||(t[1]=e=>A.handleLockUnlockNumbers()),modelValue:N.lockNumbers,"onUpdate:modelValue":t[2]||(t[2]=e=>N.lockNumbers=e)},null,8,["modelValue"])]),(0,a._)("div",v,[(0,a._)("div",g,[(0,a._)("span",y,"Retorno quina: "+(0,i.zw)(this.formatCurrency(this.quina_expected_value)),1)]),(0,a._)("div",V,[(0,a._)("span",b,"Retorno quadra: "+(0,i.zw)(this.formatCurrency(this.quadra_expected_value)),1)]),(0,a._)("div",k,[(0,a._)("span",q,"Retorno terno: "+(0,i.zw)(this.formatCurrency(this.terno_expected_value)),1)])]),(0,a._)("div",C,[(0,a.Wm)(z,{onClick:t[3]||(t[3]=e=>A.handleClear()),class:"clear-btn",label:"Limpar"}),(0,a.Wm)(z,{onClick:t[4]||(t[4]=e=>A.handleGenerate()),class:"complete-btn",label:"Aleatório"})]),(0,a._)("div",x,[w,(0,a.Wm)(D,(0,a.dG)({class:"money-input",onKeyup:t[5]||(t[5]=(0,l.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:N.quinaValue,"onUpdate:modelValue":t[6]||(t[6]=e=>N.quinaValue=e)},N.moneyconfig),null,16,["modelValue"])]),(0,a._)("div",$,[S,(0,a.Wm)(D,(0,a.dG)({class:"money-input",onKeyup:t[7]||(t[7]=(0,l.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:N.quadraValue,"onUpdate:modelValue":t[8]||(t[8]=e=>N.quadraValue=e)},N.moneyconfig),null,16,["modelValue"])]),(0,a._)("div",U,[T,(0,a.Wm)(D,(0,a.dG)({class:"money-input",onKeyup:t[9]||(t[9]=(0,l.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:N.ternoValue,"onUpdate:modelValue":t[10]||(t[10]=e=>N.ternoValue=e)},N.moneyconfig),null,16,["modelValue"])]),(0,a._)("div",F,[(0,a.Wm)(z,{class:"submit-btn",onClick:t[11]||(t[11]=e=>A.handleAddGame("divide")),label:"Finalizar aposta",loading:N.loading},null,8,["loading"])])])])}s(26699);var A=s(31826),L=s(64376),B=s(2439),z={components:{Button:A.Z,MultiSelect:L.Z,InputSwitch:B.Z},data(){return{loading:!1,lockNumbers:!1,selectedContests:[],palpites:[],ternoValue:0,quadraValue:0,quinaValue:0,terno_expected_value:0,quadra_expected_value:0,quina_expected_value:0,numbers:["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80"],contests:[],modalities:["Quina","Quadra","Terno"],rules:[],moneyconfig:{masked:!1,prefix:"R$ ",suffix:"",thousands:".",decimal:",",precision:2,disableNegative:!1,disabled:!1,min:null,max:null,allowBlank:!1,minimumNumberOfCharacters:0}}},validations(){return{}},created(){this.loadContests(),this.loadRules()},mounted(){var e=this.$store.getters.getRepeatTicket;if(e){var t=JSON.parse(e.ticket.selected_numbers).slice(0,14);t.map((e=>{this.numbers.includes(e.toString())&&this.handleSelectNumber(e)})),this.$store.dispatch("setRepeatTicket",{repeat_ticket:null})}},watch:{ternoValue:function(){if(0==this.rules.length)return;let e=this.rules.find((e=>3==e.quantity));this.ternoValue*e.quotation>e.max_value?(this.terno_expected_value=e.max_value,this.ternoValue=e.max_value/e.quotation):this.terno_expected_value=this.ternoValue*e.quotation},quadraValue:function(){if(0==this.rules.length)return;let e=this.rules.find((e=>4==e.quantity));this.quadraValue*e.quotation>e.max_value?(this.quadra_expected_value=e.max_value,this.quadraValue=e.max_value/e.quotation):this.quadra_expected_value=this.quadraValue*e.quotation},quinaValue:function(){if(0==this.rules.length)return;let e=this.rules.find((e=>5==e.quantity));this.quinaValue*e.quotation>e.max_value?(this.quina_expected_value=e.max_value,this.quinaValue=e.max_value/e.quotation):this.quina_expected_value=this.quinaValue*e.quotation}},methods:{loadContests(){this.$api.get("/contests",{headers:{Authorization:this.accessToken()},params:{caixa_lottery_search:5,limit:this.$store.getters.getRegionConfig.max_contests}}).then((e=>{this.contests=e.data})).catch((e=>{console.log(e)}))},loadModalities(){this.$api.get("bauModalities",{headers:{Authorization:this.accessToken()},params:{lottery_search:2,region_search:this.loggedUser().region_id}}).then((e=>{this.modalities=e.data})).catch((e=>{console.log(e)}))},loadRules(){this.$api.get("partial_quotations",{headers:{Authorization:this.accessToken()},params:{region_search:[this.loggedUser().region_id],caixa_lottery_search:5}}).then((e=>{this.rules=e.data})).catch((e=>{console.log(e)}))},handleLockUnlockNumbers(){var e=null;if(this.lockNumbers){e=document.querySelectorAll(".locked");for(let t of e)t.classList.remove("locked"),t.classList.add("selected")}else{e=document.querySelectorAll(".selected");for(let t of e)t.classList.remove("selected"),t.classList.add("locked")}},handleSelectNumber(e){var t=document.getElementById(e);if(this.palpites.includes(e))this.palpites.splice(this.palpites.indexOf(e),1);else{if(14==this.palpites.length)return;this.palpites.push(e)}t.classList.toggle("selected")},handleClear(){var e=document.querySelectorAll(".selected");for(let t of e)this.palpites.splice(this.palpites.indexOf(t.id),1),t.classList.remove("selected")},handleGenerate(){this.handleClear(),this.handleComplete()},handleComplete(){let e=14-this.palpites.length;for(let s=0;s<e;s++){let e=("0"+Math.floor(79*Math.random()+1)%9999).slice(-2);if(this.palpites.includes(e))s--;else{var t=document.getElementById(e);t.classList.toggle("selected"),this.palpites.push(e)}}},handleAddGame(){if(this.loading=!0,parseFloat(this.quinaValue)+parseFloat(this.quadraValue)+parseFloat(this.ternoValue)<1||parseFloat(this.quinaValue)>0&&parseFloat(this.quinaValue)<1||parseFloat(this.quadraValue)>0&&parseFloat(this.quadraValue)<1||parseFloat(this.ternoValue)>0&&parseFloat(this.ternoValue)<1)return this.$toast.add({severity:"error",summary:"Erro",detail:"Valor mínimo é R$ 1",life:3e3}),void(this.loading=!1);if(this.selectedContests.length<1||0==this.palpites.length)return this.$toast.add({severity:"error",summary:"Erro",detail:"Um ou mais campos não foram preenchidos.",life:3e3}),void(this.loading=!1);if(this.palpites.length<14)return this.$toast.add({severity:"error",summary:"Erro",detail:"Você deve selecionar 14 dezenas.",life:3e3}),void(this.loading=!1);this.palpites.sort(((e,t)=>{const s=parseInt(e),a=parseInt(t);return s-a}));var e=[];for(let s=0;s<this.selectedContests.length;s++)for(let a=0;a<this.modalities.length;a++){let i="Quina"==this.modalities[a]?this.quinaValue:"Quadra"==this.modalities[a]?this.quadraValue:"Terno"==this.modalities[a]?this.ternoValue:0;if(i>0){var t={product_id:9,region_id:this.loggedUser().region_id,session_id:this.loggedUser().session_id,point_id:this.loggedUser().point_id,point_name:this.loggedUser().point_name,seller_id:this.loggedUser().seller_id,contest_id:this.selectedContests[s].id,contest_name:this.selectedContests[s].name,total_value:i,selected_numbers:this.palpites,modality:this.modalities[a]};e.push(t)}}this.$api.post("/caixa_tickets",{tickets:e},{headers:{Authorization:this.accessToken()}}).then((e=>{this.loading=!1,this.$toast.add({severity:"success",summary:"Sucesso",detail:"Aposta concluída com sucesso!",life:3e3}),this.$store.dispatch("setTicket",{ticket:e.data}),this.loadBalance(),this.loggedUser().online||this.$router.push({name:"betOverview",path:"/betOverview"})})).catch((e=>{this.loading=!1,this.$toast.add({severity:"error",summary:"Erro",detail:e.response.data.error,life:15e3})}))},resetFields(){this.ternoValue=0,this.quadraValue=0,this.quinaValue=0,this.palpites=[],this.games=[],this.selectedContests=[],this.handleClear()}}},D=s(40089);const R=(0,D.Z)(z,[["render",N],["__scopeId","data-v-75a67c6c"]]);var E=R}}]);
//# sourceMappingURL=134.f0d39b9f.js.map