"use strict";(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[952],{2439:function(e,t,i){i.d(t,{Z:function(){return n}});var a=i(73396),s=i(87139),l=i(49242),n={name:"InputSwitch",inheritAttrs:!1,emits:["click","update:modelValue","change","input"],props:{modelValue:{type:null,default:!1},class:null,style:null,trueValue:{type:null,default:!0},falseValue:{type:null,default:!1}},data(){return{focused:!1}},methods:{onClick(e){if(!this.$attrs.disabled){const t=this.checked?this.falseValue:this.trueValue;this.$emit("click",e),this.$emit("update:modelValue",t),this.$emit("change",e),this.$emit("input",t),this.$refs.input.focus()}e.preventDefault()},onFocus(){this.focused=!0},onBlur(){this.focused=!1}},computed:{containerClass(){return["p-inputswitch p-component",this.class,{"p-inputswitch-checked":this.checked,"p-disabled":this.$attrs.disabled,"p-focus":this.focused}]},checked(){return this.modelValue===this.trueValue}}};const o={class:"p-hidden-accessible"},d=["checked","aria-checked"],r=(0,a._)("span",{class:"p-inputswitch-slider"},null,-1);function c(e,t,i,n,c,u){return(0,a.wg)(),(0,a.iD)("div",{class:(0,s.C_)(u.containerClass),onClick:t[3]||(t[3]=e=>u.onClick(e)),style:(0,s.j5)(i.style)},[(0,a._)("div",o,[(0,a._)("input",(0,a.dG)({ref:"input",type:"checkbox",checked:u.checked},e.$attrs,{onFocus:t[0]||(t[0]=e=>u.onFocus(e)),onBlur:t[1]||(t[1]=e=>u.onBlur(e)),onKeydown:t[2]||(t[2]=(0,l.D2)((0,l.iM)((e=>u.onClick(e)),["prevent"]),["enter"])),role:"switch","aria-checked":u.checked}),null,16,d)]),r],6)}function u(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===i&&a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var h='\n.p-inputswitch {\n    position: relative;\n    display: inline-block;\n}\n.p-inputswitch-slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n.p-inputswitch-slider:before {\n    position: absolute;\n    content: "";\n    top: 50%;\n}\n';u(h),n.render=c},49952:function(e,t,i){i.r(t),i.d(t,{default:function(){return G}});var a=i(73396),s=i(87139),l=i(49242);const n=e=>((0,a.dD)("data-v-193ca2c4"),e=e(),(0,a.Cn)(),e),o={class:"bau"},d=n((()=>(0,a._)("h3",null,"Bauzinho",-1))),r={class:"field"},c=n((()=>(0,a._)("div",{style:{position:"absolute",top:"19px",left:"50px"}}," Todos ",-1))),u={class:"section"},h={class:"number-table"},p=["onClick","id"],m={class:"section"},f={style:{display:"flex","align-items":"center",gap:"10px"}},_=n((()=>(0,a._)("span",null,"Trancar palpites",-1))),v={style:{display:"flex",gap:"10px","flex-wrap":"wrap"}},g={class:"row"},b={class:"label"},y={class:"row"},k={class:"label"},V={class:"row"},x={class:"label"},w={class:"button-area"},q={class:"field"},C=n((()=>(0,a._)("div",{class:"value-label"},"Quina",-1))),$={class:"field"},E=n((()=>(0,a._)("div",{class:"value-label"},"Quadra",-1))),N={class:"field"},S=n((()=>(0,a._)("div",{class:"value-label"},"Terno",-1))),T={class:"field"};function U(e,t,i,n,U,z){const A=(0,a.up)("MultiSelect"),B=(0,a.up)("InputSwitch"),D=(0,a.up)("Button"),L=(0,a.up)("money3");return(0,a.wg)(),(0,a.iD)("div",o,[d,(0,a._)("div",r,[(0,a.Wm)(A,{modelValue:U.selectedExtractions,"onUpdate:modelValue":t[0]||(t[0]=e=>U.selectedExtractions=e),options:U.extractions,optionLabel:"name",placeholder:"Horário"},{header:(0,a.w5)((()=>[c])),_:1},8,["modelValue","options"])]),(0,a._)("div",u,[(0,a._)("div",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(U.numbers,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{onClick:t=>z.handleSelectNumber(e),id:e,class:"number",key:t},(0,s.zw)(e),9,p)))),128))])]),(0,a._)("div",m,[(0,a._)("div",f,[_,(0,a.Wm)(B,{onClick:t[1]||(t[1]=e=>z.handleLockUnlockNumbers()),modelValue:U.lockNumbers,"onUpdate:modelValue":t[2]||(t[2]=e=>U.lockNumbers=e)},null,8,["modelValue"])]),(0,a._)("div",v,[(0,a._)("div",g,[(0,a._)("span",b,"Retorno quina: "+(0,s.zw)(this.formatCurrency(this.quina_expected_value)),1)]),(0,a._)("div",y,[(0,a._)("span",k,"Retorno quadra: "+(0,s.zw)(this.formatCurrency(this.quadra_expected_value)),1)]),(0,a._)("div",V,[(0,a._)("span",x,"Retorno terno: "+(0,s.zw)(this.formatCurrency(this.terno_expected_value)),1)])]),(0,a._)("div",w,[(0,a.Wm)(D,{onClick:t[3]||(t[3]=e=>z.handleClear()),class:"clear-btn",label:"Limpar"}),(0,a.Wm)(D,{onClick:t[4]||(t[4]=e=>z.handleGenerate()),class:"complete-btn",label:"Aleatório"})]),(0,a._)("div",q,[C,(0,a.Wm)(L,(0,a.dG)({class:"money-input",onKeyup:t[5]||(t[5]=(0,l.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:U.quinaValue,"onUpdate:modelValue":t[6]||(t[6]=e=>U.quinaValue=e)},U.moneyconfig),null,16,["modelValue"])]),(0,a._)("div",$,[E,(0,a.Wm)(L,(0,a.dG)({class:"money-input",onKeyup:t[7]||(t[7]=(0,l.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:U.quadraValue,"onUpdate:modelValue":t[8]||(t[8]=e=>U.quadraValue=e)},U.moneyconfig),null,16,["modelValue"])]),(0,a._)("div",N,[S,(0,a.Wm)(L,(0,a.dG)({class:"money-input",onKeyup:t[9]||(t[9]=(0,l.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:U.ternoValue,"onUpdate:modelValue":t[10]||(t[10]=e=>U.ternoValue=e)},U.moneyconfig),null,16,["modelValue"])]),(0,a._)("div",T,[(0,a.Wm)(D,{class:"submit-btn",onClick:t[11]||(t[11]=e=>z.handleAddGame("divide")),label:`Finalizar aposta (${this.palpites.length} dezenas)`,loading:U.loading},null,8,["label","loading"])])])])}i(26699);var z=i(31826),A=i(64376),B=i(2439),D={components:{Button:z.Z,MultiSelect:A.Z,InputSwitch:B.Z},data(){return{loading:!1,lockNumbers:!1,selectedExtractions:[],palpites:[],ternoValue:0,quadraValue:0,quinaValue:0,terno_expected_value:0,quadra_expected_value:0,quina_expected_value:0,numbers:["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","00"],extractions:[],modalities:[],rules:[],moneyconfig:{masked:!1,prefix:"R$ ",suffix:"",thousands:".",decimal:",",precision:2,disableNegative:!1,disabled:!1,min:null,max:null,allowBlank:!1,minimumNumberOfCharacters:0}}},validations(){return{}},mounted(){var e=this.$store.getters.getRepeatTicket;if(e){var t=JSON.parse(e.ticket.games[0].selected_numbers);for(let e=0;e<t.length;e++)this.handleSelectNumber(t[e]);this.$store.dispatch("setRepeatTicket",{repeat_ticket:null})}},created(){this.loadExtractions(),this.loadModalities()},watch:{ternoValue:function(){0!=this.modalities.length&&(this.terno_expected_value=this.ternoValue*this.modalities.find((e=>"Terno"==e.initials)).default_cotation)},quadraValue:function(){0!=this.modalities.length&&(this.quadra_expected_value=this.quadraValue*this.modalities.find((e=>"quadra"==e.initials)).default_cotation)},quinaValue:function(){0!=this.modalities.length&&(this.quina_expected_value=this.quinaValue*this.modalities.find((e=>"quina"==e.initials)).default_cotation)}},methods:{loadExtractions(){this.$api.get("/extraction",{headers:{Authorization:this.accessToken()},params:{lottery_search:2}}).then((e=>{this.extractions=e.data})).catch((e=>{console.log(e)}))},loadModalities(){this.$api.get("bauModalities",{headers:{Authorization:this.accessToken()},params:{lottery_search:2,region_search:this.loggedUser().region_id}}).then((e=>{this.modalities=e.data})).catch((e=>{console.log(e)}))},loadRules(){this.$api.get("jbauconfig/show",{headers:{Authorization:this.accessToken()},params:{region_id:this.loggedUser().region_id}}).then((e=>{this.rules=e.data})).catch((e=>{console.log(e)}))},handleLockUnlockNumbers(){var e=null;if(this.lockNumbers){e=document.querySelectorAll(".locked");for(let t of e)t.classList.remove("locked"),t.classList.add("selected")}else{e=document.querySelectorAll(".selected");for(let t of e)t.classList.remove("selected"),t.classList.add("locked")}},handleSelectNumber(e){var t=document.getElementById(e);if(this.palpites.includes(e))this.palpites.splice(this.palpites.indexOf(e),1);else{if(20==this.palpites.length)return;this.palpites.push(e)}t.classList.toggle("selected")},handleClear(){var e=document.querySelectorAll(".selected");for(let t of e)this.palpites.splice(this.palpites.indexOf(t.id),1),t.classList.remove("selected")},handleGenerate(){this.handleClear(),this.handleComplete()},handleComplete(){let e=20-this.palpites.length;for(let i=0;i<e;i++){let e=("0"+Math.floor(99*Math.random()+0)%9999).slice(-2);if(this.palpites.includes(e))i--;else{var t=document.getElementById(e);t.classList.toggle("selected"),this.palpites.push(e)}}},handleAddGame(){if(this.loading=!0,this.palpites.length<20)return this.loading=!1,void this.$toast.add({severity:"error",summary:"Erro",detail:"Número de dezenas inválido.",life:3e3});if(this.quinaValue+this.quadraValue+this.ternoValue<this.rules.min_bet_value)return this.loading=!1,void this.$toast.add({severity:"error",summary:"Erro",detail:"Valor mínimo é R$ "+this.rules.min_bet_value,life:3e3});if(this.selectedExtractions.length<1||0==this.palpites.length)return this.loading=!1,void this.$toast.add({severity:"error",summary:"Erro",detail:"Um ou mais campos não foram preenchidos.",life:3e3});var e=[];for(let i=0;i<this.selectedExtractions.length;i++)for(let a=0;a<this.modalities.length;a++){let s="Quina"==this.modalities[a].name?this.quinaValue:"Quadra"==this.modalities[a].name?this.quadraValue:"Terno"==this.modalities[a].name?this.ternoValue:0;if(s>0){var t={ref:Math.floor(Date.now()*Math.random()),loteria:this.selectedExtractions[i].name,lottery_name:"Bauzinho",extraction:this.selectedExtractions[i].id,region_id:this.loggedUser().region_id,point_id:this.loggedUser().point_id,point_name:this.loggedUser().point_name,lottery_id:2,product_id:4,modalidade:this.modalities[a].name,modality_id:this.modalities[a].id,modality_cotation:this.modalities[a].default_cotation,award_name:"1º ao 5º",award_internal:"primeiro_ao_quinto",valor:s,palpites:this.palpites};e.push(t)}}this.$api.post("/tickets",{tickets:e},{headers:{Authorization:this.accessToken()}}).then((e=>{this.loading=!1,this.$toast.add({severity:"success",summary:"Sucesso",detail:"Aposta concluída com sucesso!",life:3e3}),this.$store.dispatch("setTicket",{ticket:e.data}),this.loadBalance(),this.loggedUser().online||this.$router.push({name:"betOverview",path:"/betOverview"})})).catch((e=>{this.loading=!1,this.$toast.add({severity:"error",summary:"Erro",detail:e.response.data.error,life:15e3})}))},resetFields(){this.ternoValue=0,this.quadraValue=0,this.quinaValue=0,this.palpites=[],this.games=[],this.selectedExtractions=[],this.handleClear()}}},L=i(40089);const M=(0,L.Z)(D,[["render",U],["__scopeId","data-v-193ca2c4"]]);var G=M}}]);
//# sourceMappingURL=952.139852d1.js.map