(self["webpackChunkjb_web_app"]=self["webpackChunkjb_web_app"]||[]).push([[191],{28077:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var a=i(73396),s=i(87139),o=i(49242),l={name:"Chip",emits:["remove"],props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:"pi pi-times-circle"}},data(){return{visible:!0}},methods:{close(e){this.visible=!1,this.$emit("remove",e)}},computed:{containerClass(){return["p-chip p-component",{"p-chip-image":null!=this.image}]},iconClass(){return["p-chip-icon",this.icon]},removeIconClass(){return["p-chip-remove-icon",this.removeIcon]}}};const n=["src"],r={key:2,class:"p-chip-text"};function d(e,t,i,l,d,c){return d.visible?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,s.C_)(c.containerClass)},[(0,a.WI)(e.$slots,"default",{},(()=>[i.image?((0,a.wg)(),(0,a.iD)("img",{key:0,src:i.image},null,8,n)):i.icon?((0,a.wg)(),(0,a.iD)("span",{key:1,class:(0,s.C_)(c.iconClass)},null,2)):(0,a.kq)("",!0),i.label?((0,a.wg)(),(0,a.iD)("div",r,(0,s.zw)(i.label),1)):(0,a.kq)("",!0)])),i.removable?((0,a.wg)(),(0,a.iD)("span",{key:0,tabindex:"0",class:(0,s.C_)(c.removeIconClass),onClick:t[0]||(t[0]=(...e)=>c.close&&c.close(...e)),onKeydown:t[1]||(t[1]=(0,o.D2)(((...e)=>c.close&&c.close(...e)),["enter"]))},null,34)):(0,a.kq)("",!0)],2)):(0,a.kq)("",!0)}function c(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===i&&a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var h="\n.p-chip {\n    display: -webkit-inline-box;\n    display: -ms-inline-flexbox;\n    display: inline-flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.p-chip-text {\n    line-height: 1.5;\n}\n.p-chip-icon.pi {\n    line-height: 1.5;\n}\n.p-chip-remove-icon {\n    line-height: 1.5;\n    cursor: pointer;\n}\n.p-chip img {\n    border-radius: 50%;\n}\n";c(h),l.render=d},57615:function(e,t,i){"use strict";i.d(t,{Z:function(){return y}});var a=i(73396),s=i(87139);const o={class:"select-animal"},l={class:"animal-container"},n={class:"animal-card"},r={class:"animal-group"},d={class:"animal-icon"},c=["src","alt"],h={class:"animal-name"};function m(e,t,m,p,u,g){const _=(0,a.up)("Button");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",l,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.animals,((e,t)=>((0,a.wg)(),(0,a.j4)(_,{id:t,onClick:i=>g.setSelected(t,e),key:t,class:(0,s.C_)(e.selected?"item selected":"item")},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",r,(0,s.zw)(e.grupo),1),(0,a._)("div",d,[(0,a._)("img",{src:i(1838)(`./${e.icon}-color.png`),alt:e.name},null,8,c)]),(0,a._)("div",h,(0,s.zw)(e.name),1)])])),_:2},1032,["id","onClick","class"])))),128))])])}var p=i(31826),u={name:"SelectAnimal",components:{Button:p.Z},props:{itemsSelected:Array},data(){return{animals:[]}},created(){this.animals=this.animalList()},mounted(){this.itemsSelected.forEach((e=>{var t=document.getElementById(parseInt(e)-1);t.classList.toggle("selected")}))},methods:{setSelected(e,t){var i=document.getElementById(e);i.classList.toggle("selected"),this.$emit("setAnimal",{item:t.grupo})}}},g=i(40089);const _=(0,g.Z)(u,[["render",m],["__scopeId","data-v-42b5c836"]]);var y=_},96796:function(e,t,i){"use strict";i.d(t,{Z:function(){return h}});var a=i(73396),s=i(87139);const o={class:"select-modality"},l=["onClick"];function n(e,t,i,n,r,d){return(0,a.wg)(),(0,a.iD)("div",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.modalities,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{onClick:t=>d.setSelected(e),class:"modality-item",key:t},[(0,a._)("i",{class:"fas fa-rectangle-vertical",style:(0,s.j5)({color:e.color||"#e4e4e4"})},null,4),(0,a.Uk)(" "+(0,s.zw)(e.name.toUpperCase()),1)],8,l)))),128))])}var r={name:"SelectModality",components:{},props:{modalities:Array},data(){return{}},methods:{setSelected(e){this.$emit("setModality",{modality:e})}}},d=i(40089);const c=(0,d.Z)(r,[["render",n],["__scopeId","data-v-0e6af5a8"]]);var h=c},86952:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return Jt}});var a=i(73396);function s(e,t,i,s,o,l){const n=(0,a.up)("TradicionalSteps"),r=(0,a.up)("TradicionalStandard");return"steps"==e.$store.getters.getTradicionalConfig.bet_layout||this.$store.getters.getUser.online?((0,a.wg)(),(0,a.j4)(n,{key:0})):((0,a.wg)(),(0,a.j4)(r,{key:1}))}i(26699);var o=i(87139),l=i(49242),n=i(36093);const r=e=>((0,a.dD)("data-v-262bb02e"),e=e(),(0,a.Cn)(),e),d={class:"tradicional"},c={key:0,class:"badge"},h=r((()=>(0,a._)("i",{class:"fas fa-ticket"},null,-1))),m=r((()=>(0,a._)("h3",null,"Bilhete de aposta",-1))),p={class:"ticket-container"},u={class:"ticket-content"},g={key:0,class:"no-games-message"},_=r((()=>(0,a._)("img",{src:n,alt:"ticket-logo"},null,-1))),y=r((()=>(0,a._)("span",null,"Nenhum palpite adicionado.",-1))),f=[_,y],b={class:"item-header"},v=["onClick"],w=r((()=>(0,a._)("i",{class:"fas fa-edit"},null,-1))),k=[w],C=["onClick"],D=r((()=>(0,a._)("i",{class:"fas fa-times"},null,-1))),M=[D],x={class:"item-body"},T={style:{"font-weight":"bold","font-size":"16px",color:"white"}},A={key:0},S={class:"item-footer"},q={key:1,class:"money-input"},z={class:"ticket-footer"},I={class:"footer-item"},G=r((()=>(0,a._)("span",null,"Total",-1))),P=r((()=>(0,a._)("h3",null,"Selecione os animais",-1))),V=r((()=>(0,a._)("h3",null,"Selecione uma modalidade",-1))),E={style:{display:"flex","flex-direction":"column",gap:"10px","align-items":"center","justify-content":"center"}},$=r((()=>(0,a._)("span",null,"até",-1))),R={class:"bet-container"},N=r((()=>(0,a._)("h3",null,"Tradicional",-1))),L={class:"btn-container-top"},U=(0,a.Uk)(" Inserir intervalo de números "),Z=r((()=>(0,a._)("div",{style:{position:"absolute",top:"19px",left:"50px","font-size":"20px"}}," Todos ",-1))),B=["modalities"],j={key:0,class:"pi pi-spinner pi-spin"},W={key:1,class:"fas fa-chevron-down"},O=r((()=>(0,a._)("div",{style:{position:"absolute",top:"19px",left:"50px"}}," Todos ",-1))),K={style:{display:"flex"}},F=r((()=>(0,a._)("i",{class:"far fa-random"},null,-1))),H=[F],Y={class:"btn-palpite"},J={key:1,class:"palpite-area"},Q=["onClick"],X={key:2,class:"btn-container"},ee={key:3,class:"btn-container"};function te(e,t,i,s,n,r){const _=(0,a.up)("Button"),y=(0,a.up)("money3"),w=(0,a.up)("Sidebar"),D=(0,a.up)("SelectAnimal"),F=(0,a.up)("SelectModality"),te=(0,a.up)("InputNumber"),ie=(0,a.up)("Dialog"),ae=(0,a.up)("Dropdown"),se=(0,a.up)("MultiSelect"),oe=(0,a.up)("InputText");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)(_,{onClick:t[0]||(t[0]=e=>r.toggleTicket(e)),class:"btn-ticket"},{default:(0,a.w5)((()=>[n.games.length>0?((0,a.wg)(),(0,a.iD)("div",c,(0,o.zw)(n.games.length),1)):(0,a.kq)("",!0),h])),_:1}),(0,a.Wm)(w,{class:"bottom-select",visible:n.showTicket,"onUpdate:visible":t[3]||(t[3]=e=>n.showTicket=e),baseZIndex:1e4,position:"bottom"},{header:(0,a.w5)((()=>[m])),default:(0,a.w5)((()=>[(0,a._)("div",p,[(0,a._)("div",u,[0==n.games?((0,a.wg)(),(0,a.iD)("div",g,f)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.games,((i,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:s},[(0,a._)("div",b,[(0,a._)("div",null,(0,o.zw)(i.loteria),1),(0,a._)("div",null,[(0,a._)("button",{class:"btn-game",onClick:e=>r.handleEditGame(i)},k,8,v),(0,a._)("button",{class:"btn-game",onClick:e=>r.handleRemoveGame(s)},M,8,C)])]),(0,a._)("div",x,[(0,a._)("span",T,(0,o.zw)(i.modalidade),1),(0,a._)("span",null,"Posição: "+(0,o.zw)(i.award_name),1),i.modalidade.includes("Milhar")?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",A,"Lado: "+(0,o.zw)(i.positions.join(", ")),1)),(0,a._)("span",null,"Palpites: "+(0,o.zw)(i.palpites.join(", ")),1)]),(0,a._)("div",S,[i.loteria.includes("PT-RIO")?((0,a.wg)(),(0,a.j4)(y,(0,a.dG)({key:0,class:"money-input",onKeyup:t[1]||(t[1]=(0,l.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:i.valor,"onUpdate:modelValue":e=>i.valor=e},n.moneyconfig),null,16,["modelValue","onUpdate:modelValue"])):((0,a.wg)(),(0,a.iD)("span",q,(0,o.zw)(e.formatCurrency(parseFloat(i.valor))),1))])])))),128))]),(0,a._)("div",z,[(0,a._)("div",I,[G,(0,a._)("span",null,"R$ "+(0,o.zw)(this.formatCurrency(n.games.reduce(((e,t)=>e+parseFloat(t.valor)),0))),1)]),(0,a.Wm)(_,{class:"btn-submit",onClick:t[2]||(t[2]=e=>r.handleCreateTicket()),label:"Finalizar aposta",loading:n.loading.submit},null,8,["loading"])])])])),_:1},8,["visible"]),(0,a.Wm)(w,{class:"bottom-select",visible:n.showSelectAnimal,"onUpdate:visible":t[4]||(t[4]=e=>n.showSelectAnimal=e),baseZIndex:1e4,position:"bottom"},{header:(0,a.w5)((()=>[P])),default:(0,a.w5)((()=>[(0,a.Wm)(D,{itemsSelected:n.palpites,onSetAnimal:r.setAnimal},null,8,["itemsSelected","onSetAnimal"])])),_:1},8,["visible"]),(0,a.Wm)(w,{class:"bottom-select",visible:n.showSelectModality,"onUpdate:visible":t[5]||(t[5]=e=>n.showSelectModality=e),baseZIndex:1e4,position:"bottom"},{header:(0,a.w5)((()=>[V])),default:(0,a.w5)((()=>[(0,a.Wm)(F,{modalities:n.modalities,onSetModality:r.setModality},null,8,["modalities","onSetModality"])])),_:1},8,["visible"]),(0,a.Wm)(ie,{visible:n.showNumberInterval,"onUpdate:visible":t[9]||(t[9]=e=>n.showNumberInterval=e),modal:"",header:"Insira um intervalo",style:{width:"250px"}},{default:(0,a.w5)((()=>[(0,a._)("div",E,[(0,a.Wm)(te,{modelValue:n.initialNumber,"onUpdate:modelValue":t[6]||(t[6]=e=>n.initialNumber=e),inputmode:"numeric",mode:"decimal",min:0,max:n.modality_rule.numeroMaximo},null,8,["modelValue","max"]),$,(0,a.Wm)(te,{modelValue:n.finalNumber,"onUpdate:modelValue":t[7]||(t[7]=e=>n.finalNumber=e),inputmode:"numeric",mode:"decimal",min:0,max:n.modality_rule.numeroMaximo},null,8,["modelValue","max"]),(0,a.Wm)(_,{class:"submit-btn",onClick:t[8]||(t[8]=e=>r.handleInsertInterval()),label:"Confirmar"})])])),_:1},8,["visible"]),(0,a._)("div",R,[N,(0,a._)("div",L,[(0,a.Wm)(_,{class:"btn-talao",onClick:t[10]||(t[10]=e=>r.handleAddPalpiteTalao())},{default:(0,a.w5)((()=>[(0,a.Uk)(" Nº talão "+(0,o.zw)(this.$store.getters.getTalao),1)])),_:1}),n.selectedModality?((0,a.wg)(),(0,a.j4)(_,{key:0,class:"btn-talao",onClick:t[11]||(t[11]=e=>r.toggleShowNumberInterval())},{default:(0,a.w5)((()=>[U])),_:1})):(0,a.kq)("",!0)]),(0,a.Wm)(ae,{loading:n.loading.lotteries,modelValue:n.selectedLottery,"onUpdate:modelValue":t[12]||(t[12]=e=>n.selectedLottery=e),options:n.lotteries,optionLabel:"name",placeholder:"Loteria"},null,8,["loading","modelValue","options"]),(0,a.Wm)(se,{loading:n.loading.extractions,modelValue:n.selectedExtractions,"onUpdate:modelValue":t[13]||(t[13]=e=>n.selectedExtractions=e),options:n.extractions,optionLabel:"name",placeholder:"Horário"},{header:(0,a.w5)((()=>[Z])),_:1},8,["loading","modelValue","options"]),(0,a._)("button",{class:"btn-modality",modalities:n.modalities,onClick:t[14]||(t[14]=(...e)=>r.toggleSelectModality&&r.toggleSelectModality(...e))},[(0,a._)("span",{style:(0,o.j5)(n.selectedModality?"color: #e2e3e4":"color: #aaadb1")},(0,o.zw)(n.selectedModality?n.selectedModality.name:"Modalidade"),5),n.loading.modalities?((0,a.wg)(),(0,a.iD)("i",j)):((0,a.wg)(),(0,a.iD)("i",W))],8,B),(0,a.Wm)(ae,{loading:n.loading.awards,modelValue:n.selectedAward,"onUpdate:modelValue":t[15]||(t[15]=e=>n.selectedAward=e),options:n.awards,optionLabel:"name",placeholder:"Posição"},null,8,["loading","modelValue","options"]),n.selectedModality&&["duque_dezena","terno_dezena","duque_grupo","terno_grupo"].includes(n.selectedModality.initials)?((0,a.wg)(),(0,a.j4)(se,{key:0,modelValue:n.selectedPositions,"onUpdate:modelValue":t[16]||(t[16]=e=>n.selectedPositions=e),options:n.positions,placeholder:"Lado"},{header:(0,a.w5)((()=>[O])),_:1},8,["modelValue","options"])):(0,a.kq)("",!0),(0,a._)("div",K,[(0,a._)("form",{class:"form",onSubmit:t[19]||(t[19]=(0,l.iM)((e=>r.handleAddPalpite()),["prevent"]))},[(0,a.Wm)(oe,{onClick:t[17]||(t[17]=e=>r.toggleSelectAnimal()),inputmode:"numeric",onInput:r.handleInputPalpite,modelValue:n.palpite,"onUpdate:modelValue":t[18]||(t[18]=e=>n.palpite=e),placeholder:"Palpite"},null,8,["onInput","modelValue"])],32),(0,a._)("button",{onClick:t[20]||(t[20]=e=>r.handleAddRandomPalpite()),class:"btn-palpite"},H),(0,a._)("button",Y,[(0,a._)("i",{onClick:t[21]||(t[21]=e=>r.handleRemoveAllPalpites()),class:"fal fa-trash-alt"})])]),n.palpites.length>0?((0,a.wg)(),(0,a.iD)("div",J,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.palpites,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{key:t,class:"palpite",onClick:e=>r.handleRemovePalpite(t)},(0,o.zw)(e),9,Q)))),128)),(0,a._)("span",null,"("+(0,o.zw)(n.palpites.length)+")",1)])):(0,a.kq)("",!0),(0,a.Wm)(y,(0,a.dG)({class:"money-input",onKeyup:t[22]||(t[22]=(0,l.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:n.betValue,"onUpdate:modelValue":t[23]||(t[23]=e=>n.betValue=e)},n.moneyconfig),null,16,["modelValue"]),[2,5,8,9].includes(this.loggedUser().region_id)?((0,a.wg)(),(0,a.iD)("div",X,[(0,a.Wm)(_,{class:"submit-btn",onClick:t[24]||(t[24]=e=>r.validateGame("divide")),label:"Adicionar aposta"})])):((0,a.wg)(),(0,a.iD)("div",ee,[(0,a.Wm)(_,{class:"submit-btn",onClick:t[25]||(t[25]=e=>r.validateGame("divide")),label:"Divisor"}),(0,a.Wm)(_,{class:"submit-btn",onClick:t[26]||(t[26]=e=>r.validateGame("multiply")),label:"Multiplicador"})]))])])}var ie=i(34146),ae=i(31826),se=i(41583),oe=i(76709),le=i(28077),ne=i(33053),re=i(69117),de=i(57615),ce=i(96796),he=i(15517),me=i(64376),pe=i(38905),ue=i(22419),ge={components:{Sidebar:ie.Z,SelectAnimal:de.Z,SelectModality:ce.Z,SelectButton:pe.Z,InputNumber:se.Z,Button:ae.Z,Dropdown:he.Z,MultiSelect:me.Z,InputText:oe.Z,Chip:le.Z,Dialog:ue.Z},setup:()=>({v$:(0,ne.Xw)()}),data(){return{games:[],loading:{lotteries:!1,extractions:!1,modalities:!1,awards:!1,submit:!1},editGame:null,selectedLottery:null,selectedModality:null,selectedExtractions:[],selectedPositions:[],quotedBets:[],selectedAward:null,palpite:"",modality_rule:null,betValue:0,showTicket:!1,showSelectAnimal:!1,showSelectModality:!1,showNumberInterval:!1,initialNumber:null,finalNumber:null,palpites:[],palpitesInseridos:[],lotteries:[],extractions:[],modalities:[],awards:[],positions:["Esquerda","Meio","Direita"],mask:"",moneyconfig:{masked:!1,prefix:"R$ ",suffix:"",thousands:".",decimal:",",precision:2,disableNegative:!1,disabled:!1,min:null,max:null,allowBlank:!1,minimumNumberOfCharacters:0},sortedModalities:[{name:"Grupo",shortname:"G",color:"limegreen"},{name:"Grupo salteado",shortname:"GS",color:"limegreen"},{name:"Milhar de ouro",shortname:"MO",color:"#ff3535"},{name:"Milhar e Centena",shortname:"MC",color:"#ff3535"},{name:"Milhar",shortname:"M",color:"#ff3535"},{name:"Centena",shortname:"C",color:"#00a2ff"},{name:"Duque de Dezena",shortname:"DDZ",color:"orange"},{name:"Duque de Dezena Combinado",shortname:"DDZC",color:"orange"},{name:"DD c/ repetição",shortname:"DDCR",color:"orange"},{name:"DD Combinado c/ Repetição",shortname:"DDZC",color:"orange"},{name:"Terno de Dezena",shortname:"TDZ",color:"orange"},{name:"Terno de Dezena Combinado",shortname:"TDZC",color:"orange"},{name:"TDZ c/ repetição",shortname:"TDZCR",color:"orange"},{name:"TDZ Combinado c/ repetição",shortname:"TDZCR",color:"orange"},{name:"Dezena",shortname:"D",color:"orange"},{name:"Duque de Grupo",shortname:"DG",color:"limegreen"},{name:"Duque de Grupo Combinado",shortname:"DGC",color:"limegreen"},{name:"DG c/ repetição",shortname:"DGCR",color:"limegreen"},{name:"DG Combinado c/ Repetição",shortname:"DGCR",color:"limegreen"},{name:"Terno de Grupo",shortname:"TG",color:"limegreen"},{name:"Terno de Grupo Combinado",shortname:"TGC",color:"limegreen"},{name:"Terno de Grupo chaveado",shortname:"TGC",color:"limegreen"},{name:"TG c/ repetição",shortname:"TGCR",color:"limegreen"},{name:"TG Combinado c/ repetição",shortname:"TGCR",color:"limegreen"},{name:"Milhar e centena Invertida",shortname:"MCI",color:"#ff3535"},{name:"Milhar Invertida",shortname:"MI",color:"#ff3535"},{name:"Centena Invertida",shortname:"CI",color:"#00a2ff"},{name:"Milhar aproximada",shortname:"MA",color:"#ff3535"},{name:"Milhar vai e volta",shortname:"MVV",color:"#ff3535"},{name:"MCITDC",shortname:"M",color:"#ff3535"},{name:"MCIDDC",shortname:"M",color:"#ff3535"},{name:"Centena aproximada",shortname:"CA",color:"#00a2ff"},{name:"Centena vai e volta",shortname:"CVV",color:"#00a2ff"},{name:"CITDC",shortname:"C",color:"#00a2ff"},{name:"CIDDC",shortname:"C",color:"#00a2ff"},{name:"Dezena Invertida",shortname:"DI",color:"orange"},{name:"Grupo par",shortname:"GP",color:"limegreen"},{name:"Grupo impar",shortname:"GI",color:"limegreen"},{name:"Passe",shortname:"P",color:"yellow"},{name:"Passe de ida",shortname:"PI",color:"yellow"},{name:"Passe de ida e volta",shortname:"PIV",color:"yellow"},{name:"Passe especial",shortname:"PE",color:"yellow"},{name:"Passe especial combinado",shortname:"PEC",color:"yellow"}]}},validations(){return{name:{required:re.C1},email:{required:re.C1,email:re.Do},password:{required:re.C1},accept:{required:re.C1}}},mounted(){this.refreshTalao(),this.loadLotteries(),this.loadQuotedBets();var e=this.$store.getters.getRepeatTicket;if(e){var t=[];for(let a=0;a<e.ticket.games.length;a++)for(let s=0;s<e.extractions.length;s++)if("Milhar Brinde"!=e.ticket.games[a].modality_name){var i={ref:Math.floor(Date.now()*Math.random()),loteria:e.extractions[s].name,lottery_name:"Tradicional",numero_talao:this.$store.getters.getTalao,extraction:e.extractions[s].id,region_id:this.loggedUser().region_id,point_id:this.loggedUser().point_id,point_name:this.loggedUser().point_name,product_id:1,lottery_id:2,modalidade:e.ticket.games[a].modality_name,modality_id:e.ticket.games[a].modality_id,award_name:e.ticket.games[a].award.name,award_internal:e.ticket.games[a].award.internal_name,valor:e.ticket.games[a].value,palpites:JSON.parse(e.ticket.games[a].selected_numbers),positions:JSON.parse(e.ticket.games[a].selected_positions)};t.push(i)}this.games=t,this.$store.dispatch("setRepeatTicket",{repeat_ticket:null})}},watch:{selectedLottery:function(){this.selectedLottery&&(this.loadModalities(),this.loadExtractions())},editGame:function(){this.editGame&&this.loadLotteries()},selectedModality:function(){this.selectedModality&&(this.editGame?this.palpites=this.editGame.palpites:this.palpites=[],this.palpite="",this.selectedPositions=["Direita"],this.modality_rule=this.getModalityRule(this.selectedModality.definition),this.positions=this.modality_rule.positions,this.loadAwards(),this.repetirPalpites())},selectedAward:function(){this.selectedPositions=["Direita"],this.modality_rule=this.getModalityRule(this.selectedModality.definition,this.selectedAward.name),this.positions=this.modality_rule.positions,this.repetirPalpites()}},methods:{toggleTicket(){this.showTicket=!this.showTicket},setAnimal(e){const t=this.palpites.find((t=>t==e.item));t?this.palpites=this.palpites.filter((t=>t!=e.item)):(this.palpite=e.item,this.handleAddPalpite())},setModality(e){this.toggleSelectModality(),this.selectedModality=e.modality},loadAwards(){this.loading.awards=!0,this.$api.get("/awards/awardsByModality",{headers:{Authorization:this.accessToken()},params:{modality_id:this.selectedModality.id}}).then((e=>{this.awards=e.data,this.loading.awards=!1,this.selectedAward=e.data[0],this.editGame&&(this.selectedAward=this.awards.find((e=>e.internal_name==this.editGame.award_internal)),this.betValue=this.editGame.valor,this.editGame=null)})).catch((e=>{console.log(e),this.loading.awards=!1}))},loadExtractions(){this.loading.extractions=!0,this.$api.get("/extraction",{headers:{Authorization:this.accessToken()},params:{lottery_search:this.selectedLottery.id}}).then((e=>{this.loading.extractions=!1,this.extractions=e.data,this.selectedExtractions=[e.data[0]],this.editGame&&(this.selectedExtractions=[this.extractions.find((e=>e.id==this.editGame.extraction))],this.selectedExtractions[0]||(this.selectedExtractions=[],this.$toast.add({severity:"error",summary:"Erro",detail:"Horário da extração já passou",life:3e3})))})).catch((e=>{this.loading.extractions=!1,console.log(e)}))},loadModalities(){this.loading.modalities=!0,this.$api.get("/modalities",{headers:{Authorization:this.accessToken()},params:{region_id:this.loggedUser().region_id,region_search:this.loggedUser().region_id,lottery_search:this.selectedLottery.id,lottery_id:this.selectedLottery.id}}).then((e=>{let t=e.data,i=[],a=[],s={...t.find((e=>"duque_dezena"==e.initials.toLowerCase()))??{}};s.name="Duque de Dezena Combinado",s.definition="duque_dezena_combinado";let o={...t.find((e=>"duque_grupo"==e.initials.toLowerCase()))??{}};o.name="Duque de Grupo Combinado",o.definition="duque_grupo_combinado";let l={...t.find((e=>"terno_dezena"==e.initials.toLowerCase()))??{}};l.name="Terno de Dezena Combinado",l.definition="terno_dezena_combinado";let n={...t.find((e=>"terno_grupo"==e.initials.toLowerCase()))??{}};n.name="Terno de Grupo Combinado",n.definition="terno_grupo_combinado";let r={...t.find((e=>"duque_dezena_repeticao"==e.initials.toLowerCase()))??{}};r.name="DD Combinado c/ Repetição",r.definition="duque_dezena_combinado_repeticao";let d={...t.find((e=>"terno_dezena_repeticao"==e.initials.toLowerCase()))??{}};d.name="TDZ Combinado c/ Repetição",d.definition="terno_dezena_combinado_repeticao";let c={...t.find((e=>"duque_grupo_repeticao"==e.initials.toLowerCase()))??{}};c.name="DG Combinado c/ Repetição",c.definition="duque_grupo_combinado_repeticao";let h={...t.find((e=>"terno_grupo_repeticao"==e.initials.toLowerCase()))??{}};h.name="TG Combinado c/ Repetição",h.definition="terno_grupo_combinado_repeticao",t.push(s),t.push(o),t.push(l),t.push(n),t.push(r),t.push(d),t.push(c),t.push(h),this.sortedModalities.forEach((e=>{let a=t.find((t=>t.name.toLowerCase()==e.name.toLowerCase()));a&&(a.color=e.color,i.push(a))})),a=t.filter((e=>!i.includes(e))),this.modalities=i.concat(a),this.loading.modalities=!1,this.editGame&&(this.selectedModality=this.modalities.find((e=>e.name==this.editGame.modalidade)))})).catch((e=>{console.log(e),this.loading.modalities=!1}))},loadLotteries(){this.loading.lotteries=!0,this.$api.get("/lotteries/",{headers:{Authorization:this.accessToken()}}).then((e=>{this.lotteries=e.data,this.selectedLottery=e.data[0],this.loading.lotteries=!1})).catch((e=>{console.log(e),this.loading.lotteries=!1}))},loadQuotedBets(){this.$api.get("/quoted_bets",{headers:{Authorization:this.accessToken()}}).then((e=>{this.quotedBets=e.data}))},handleRemoveGame(e){this.games=this.games.filter(((t,i)=>i!=e))},handleEditGame(e){this.showTicket=!1,this.games=this.games.filter((t=>t.ref!=e.ref)),this.editGame=e},handleInputPalpite(){switch(this.palpite=this.palpite.replace(/[^0-9]/g,""),this.selectedModality.initials){case"grupo":this.palpite=this.palpite.replace(/([2][6-9])|([3-9][0-9])/g,"");break;case"terno_grupo":case"terno_grupo_repeticao":case"terno_grupo_chaveado":case"duque_grupo":case"passe":case"duque_grupo_repeticao":case"passe_ida":case"passe_ida_volta":case"passe_especial":case"passe_especial_combinado":this.palpite.length%2===0&&(this.palpite=this.palpite.match(/(0[1-9]|1\d|2[0-5])/g).join("-"));break;case"terno_dezena":case"terno_dezena_repeticao":case"duque_dezena":case"duque_dezena_repeticao":case"esquerda_meia_direita":this.palpite.length%2===0&&(this.palpite=this.palpite.match(/\d{2}/g).join("-"));break;default:break}this.palpite.length>=this.modality_rule.maximoDigitos&&this.handleAddPalpite()},handleAddPalpite(){if(this.palpite.length>=this.modality_rule.minimoDigitos){switch(this.$store.dispatch("refreshUserActivityTime"),this.selectedModality.initials){case"terno_grupo":case"terno_grupo_repeticao":case"terno_grupo_chaveado":case"duque_grupo":case"passe":case"passe_ida":case"passe_ida_volta":case"passe_especial":case"passe_especial_combinado":this.palpite=this.palpite.match(/(0[1-9]|1\d|2[0-5])/g).join("-");break;case"terno_dezena":case"terno_dezena_repeticao":case"duque_dezena":case"duque_dezena_repeticao":case"esquerda_meia_direita":this.palpite=this.palpite.match(/\d{2}/g).join("-");break;default:break}const e=this.quotedBets.some((e=>this.isQuoted(e.initials,this.selectedModality.initials,e.number,this.palpite)));e?this.$confirm.require({message:"Esse palpite está cotado, deseja prosseguir?",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{this.palpites.push(this.palpite),this.palpite=""},reject:()=>{this.palpite=""}}):(this.palpites.push(this.palpite),this.palpite="")}},handleAddPalpiteTalao(){this.selectedModality&&(this.palpite=this.generatePalpiteTalao(this.selectedModality.initials),this.handleAddPalpite())},handleAddRandomPalpite(){this.selectedModality&&(this.palpite=this.generatePalpite(this.selectedModality.initials),this.handleAddPalpite())},handleRemovePalpite(e){this.palpites=this.palpites.filter(((t,i)=>i!=e))},handleRemoveAllPalpites(){this.palpites=[]},handleInsertInterval(){if(!this.selectedModality)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Selecione uma modalidade",life:3e3});if("number"!==typeof this.initialNumber||"number"!==typeof this.finalNumber)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Entrada inválida",life:3e3});if(this.initialNumber>this.finalNumber)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Intervalo inválido.",life:3e3});let e=[];for(let t=this.initialNumber;t<=this.finalNumber;t++)["milhar","milhar_invertida","milhar_centena","milhar_centena_invertida","milhar_vai_volta","milhar_aproximada","milhar_ouro","mcitdc","mciddc"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-4)),["centena","centena_invertida","centena_vai_volta","centena_aproximada","citdc","ciddc"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-3)),["dezena","dezena_invertida","grupo"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-2)),e.push(("0000"+t).substr(-2));if(["duque_dezena","duque_dezena_repeticao","terno_dezena","terno_dezena_repeticao","duque_grupo","passe","duque_grupo_repeticao","terno_grupo","terno_grupo_repeticao"].includes(this.selectedModality.initials)){if(e.join("-").length<this.modality_rule.minimoDigitos)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Intervalo inválido.",life:3e3});this.palpites.push(e.join("-"))}this.toggleShowNumberInterval()},validateGame(e){this.betValue<.1?this.$toast.add({severity:"error",summary:"Erro",detail:"Valor mínimo é R$ 0,10.",life:3e3}):null==this.selectedModality||this.selectedExtractions.length<1||null==this.selectedLottery||null==this.selectedAward||0==this.palpites.length?this.$toast.add({severity:"error",summary:"Erro",detail:"Um ou mais campos não foram preenchidos.",life:3e3}):this.betValue>=100?this.$confirm.require({message:"O valor inserido é igual ou superior a R$ 100,00. Deseja prosseguir?",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{this.handleAddGame(e)}}):this.handleAddGame(e)},handleAddGame(e){var t=[];for(let a=0;a<this.selectedExtractions.length;a++){var i={ref:Math.floor(Date.now()*Math.random()),loteria:this.selectedExtractions[a].name,numero_talao:this.$store.getters.getTalao,lottery_name:"Tradicional",extraction:this.selectedExtractions[a].id,region_id:this.loggedUser().region_id,point_id:this.loggedUser().point_id,point_name:this.loggedUser().point_name,product_id:1,lottery_id:this.selectedLottery.id,modalidade:this.selectedModality.name,modality_id:this.selectedModality.id,modality_cotation:this.selectedModality.default_cotation,award_name:this.selectedAward.name,award_internal:this.selectedAward.internal_name,valor:"multiply"==e?this.betValue*this.palpites.length:this.betValue,palpites:this.palpites,positions:this.selectedPositions};t.push(i)}this.$toast.add({severity:"success",summary:"Sucesso",detail:"Palpite adicionado ao bilhete!",life:3e3}),this.games=[...this.games,...t],"milhar"!=this.selectedModality.initials&&"centena"!=this.selectedModality.initials&&"centena_invertida"!=this.selectedModality.initials&&"milhar_invertida"!=this.selectedModality.initials&&"milhar_centena"!=this.selectedModality.initials&&"dezena"!=this.selectedModality.initials&&"milhar_centena_invertida"!=this.selectedModality.initials&&"milhar_ouro"!=this.selectedModality.initials&&"terno_dezena"!=this.selectedModality.initials||(this.palpitesInseridos=this.palpites),this.betValue=0,this.palpites=[]},isTicketValid(){const e=this.games.reduce(((e,t)=>{const i=t.loteria;return e[i]||(e[i]={loteria:i,total:0,palpites:[...t.palpites]}),e[i].total+=parseFloat(t.valor),e[i].palpites=[...e[i].palpites,...t.palpites],e}),{}),t=Object.values(e),i=t[0],a=t.every((e=>e.palpites.every((e=>i.palpites.includes(e)))));if(!a)return!1;const s=t.every((e=>e.total===i.total));return!!s},handleCreateTicket(){this.isTicketValid()?(this.loading.submit=!0,this.$api.post("/tickets",{tickets:this.games},{headers:{Authorization:this.accessToken()}}).then((e=>{this.loading.submit=!1,this.$toast.add({severity:"success",summary:"Sucesso",detail:"Aposta concluída com sucesso!",life:3e3}),this.games=[],this.$store.dispatch("setTicket",{ticket:e.data}),this.loadBalance(),this.loggedUser().online||this.$router.push({name:"betOverview",path:"/betOverview"})})).catch((e=>{this.loading.submit=!1,this.$toast.add({severity:"error",summary:"Erro",detail:e.response.data.error,life:15e3})}))):this.$toast.add({severity:"error",summary:"Erro",detail:"Aposta não finalizada pois os palpites são diferentes pra os horários selecionados.",life:15e3})},toggleSelectAnimal(){this.selectedModality&&"grupo"==this.selectedModality.initials&&(this.showSelectAnimal=!this.showSelectAnimal)},toggleSelectModality(){this.showSelectModality=!this.showSelectModality},toggleShowNumberInterval(){this.selectedModality&&(this.initialNumber=null,this.finalNumber=null,this.showNumberInterval=!this.showNumberInterval)},repetirPalpites(){if(this.palpites.length>0)return;let e=[];switch(this.selectedModality.initials){case"milhar_centena":case"milhar":case"milhar_invertida":case"milhar_centena_invertida":case"milhar_ouro":this.palpitesInseridos.forEach((t=>{t.length>=4&&!t.includes("-")&&e.push(t.substr(-4))})),this.palpites=e;break;case"centena":case"centena_invertida":this.palpitesInseridos.forEach((t=>{t.length>=3&&!t.includes("-")&&e.push(t.substr(-3))})),this.palpites=e;break;case"duque_dezena":this.palpitesInseridos.forEach((t=>{t.length>=4&&(t.includes("-")?e.push(t):e.push(t.substr(-4).slice(0,2)+"-"+t.substr(-4).slice(2)))})),this.palpites=e;break;case"dezena":this.palpitesInseridos.forEach((t=>{t.includes("-")||e.push(t.substr(-2))})),this.palpites=e;break;default:break}}}},_e=i(40089);const ye=(0,_e.Z)(ge,[["render",te],["__scopeId","data-v-262bb02e"]]);var fe=ye;const be=e=>((0,a.dD)("data-v-3e2c211e"),e=e(),(0,a.Cn)(),e),ve={class:"tradicional"},we={key:0,class:"badge"},ke=be((()=>(0,a._)("i",{class:"fas fa-ticket"},null,-1))),Ce=be((()=>(0,a._)("h3",null,"Selecione os animais",-1))),De=be((()=>(0,a._)("h3",null,"Bilhete de aposta",-1))),Me={class:"ticket-container"},xe=be((()=>(0,a._)("div",{style:{position:"absolute",top:"19px",left:"50px","font-size":"20px"}}," Todos ",-1))),Te={class:"ticket-content"},Ae={key:0,class:"no-games-message"},Se=be((()=>(0,a._)("img",{src:n,alt:"ticket-logo"},null,-1))),qe=be((()=>(0,a._)("span",null,"Nenhum palpite adicionado.",-1))),ze=[Se,qe],Ie={class:"item-header"},Ge=["onClick"],Pe=be((()=>(0,a._)("i",{class:"fas fa-edit"},null,-1))),Ve=[Pe],Ee=["onClick"],$e=be((()=>(0,a._)("i",{class:"fas fa-times"},null,-1))),Re=[$e],Ne={class:"item-body"},Le={key:0},Ue={key:1},Ze={class:"item-footer"},Be={class:"ticket-footer"},je={class:"footer-item"},We=be((()=>(0,a._)("span",null,"Total",-1))),Oe={style:{display:"flex","flex-direction":"column",gap:"10px","align-items":"center","justify-content":"center"}},Ke=be((()=>(0,a._)("span",null,"até",-1))),Fe={class:"step-one"},He={class:"modality-container"},Ye=["onClick"],Je=["src"],Qe={class:"modality-name"},Xe={class:"step-two"},et={class:"step-header"},tt=be((()=>(0,a._)("i",{class:"fa-regular fa-arrow-left"},null,-1))),it=[tt],at={style:{"align-self":"center","font-weight":"bold"}},st={key:1,class:"modality-container"},ot=["onClick"],lt={class:"modality-icon"},nt={class:"modality-name"},rt={class:"step-three"},dt={class:"step-header"},ct=be((()=>(0,a._)("i",{class:"fa-regular fa-arrow-left"},null,-1))),ht=[ct],mt={style:{"align-self":"center","font-weight":"bold"}},pt={class:"step-container"},ut={class:"section"},gt=be((()=>(0,a._)("i",{class:"far fa-list-ol"},null,-1))),_t=[gt],yt=be((()=>(0,a._)("i",{class:"far fa-gift"},null,-1))),ft=[yt],bt=be((()=>(0,a._)("i",{class:"far fa-times"},null,-1))),vt=[bt],wt={key:0,class:"section"},kt=["onClick"],Ct={key:0},Dt={key:1},Mt={key:2},xt=be((()=>(0,a._)("i",{class:"far fa-arrow-right"},null,-1))),Tt=[xt],At={key:2,class:"palpite-area"},St=["onClick"],qt={class:"step-four"},zt={class:"step-header"},It=be((()=>(0,a._)("i",{class:"fa-regular fa-arrow-left"},null,-1))),Gt=[It],Pt=be((()=>(0,a._)("span",{style:{"align-self":"center","font-weight":"bold"}}," Prêmios ",-1))),Vt={class:"step-container"},Et={class:"value-label"};function $t(e,t,s,n,r,d){const c=(0,a.up)("Button"),h=(0,a.up)("SelectAnimal"),m=(0,a.up)("Sidebar"),p=(0,a.up)("MultiSelect"),u=(0,a.up)("money3"),g=(0,a.up)("Divider"),_=(0,a.up)("InputNumber"),y=(0,a.up)("Dialog"),f=(0,a.up)("Spinner"),b=(0,a.up)("InputText"),v=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)("div",ve,[(0,a.Wm)(c,{onClick:t[0]||(t[0]=e=>d.toggleTicket(e)),class:"btn-ticket"},{default:(0,a.w5)((()=>[r.games.length>0?((0,a.wg)(),(0,a.iD)("div",we,(0,o.zw)(r.games.length),1)):(0,a.kq)("",!0),ke])),_:1}),(0,a.Wm)(m,{class:"bottom-select",visible:r.showSelectAnimal,"onUpdate:visible":t[1]||(t[1]=e=>r.showSelectAnimal=e),baseZIndex:1e4,position:"bottom"},{header:(0,a.w5)((()=>[Ce])),default:(0,a.w5)((()=>[(0,a.Wm)(h,{itemsSelected:r.palpites,onSetAnimal:d.setAnimal},null,8,["itemsSelected","onSetAnimal"])])),_:1},8,["visible"]),(0,a.Wm)(m,{class:"bottom-select",visible:r.showTicket,"onUpdate:visible":t[4]||(t[4]=e=>r.showTicket=e),baseZIndex:1e4,position:"bottom"},{header:(0,a.w5)((()=>[De])),default:(0,a.w5)((()=>[(0,a._)("div",Me,[(0,a.Wm)(p,{loading:r.loading.extractions,modelValue:r.selectedExtractions,"onUpdate:modelValue":t[2]||(t[2]=e=>r.selectedExtractions=e),options:r.extractions,optionLabel:"name",placeholder:"Horário"},{header:(0,a.w5)((()=>[xe])),_:1},8,["loading","modelValue","options"]),(0,a._)("div",Te,[0==r.games?((0,a.wg)(),(0,a.iD)("div",Ae,ze)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.games,((i,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:s},[(0,a._)("div",Ie,[(0,a._)("div",null,(0,o.zw)(i.modalidade),1),(0,a._)("div",null,[(0,a._)("button",{class:"btn-game",onClick:e=>d.handleEditGame(i)},Ve,8,Ge),(0,a._)("button",{class:"btn-game",onClick:e=>d.handleRemoveGame(s)},Re,8,Ee)])]),(0,a._)("div",Ne,[(0,a._)("span",null,"Posição: "+(0,o.zw)(i.award_name),1),i.modalidade.includes("Milhar")?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",Le,"Lado: "+(0,o.zw)(i.positions.join(", ")),1)),["Grupo par","Grupo impar"].includes(i.modalidade)?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",Ue,"Palpites: "+(0,o.zw)(i.palpites.join(", ")),1))]),(0,a._)("div",Ze,[(0,a.Wm)(u,(0,a.dG)({class:"money-input",onKeyup:t[3]||(t[3]=(0,l.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:i.valor,"onUpdate:modelValue":e=>i.valor=e},r.moneyconfig),null,16,["modelValue","onUpdate:modelValue"])])])))),128))]),(0,a._)("div",Be,[(0,a.Wm)(g),(0,a._)("div",je,[We,(0,a._)("span",null,"R$ "+(0,o.zw)(this.formatCurrency(r.games.reduce(((e,t)=>e+parseFloat(t.valor)),0)*r.selectedExtractions.length)),1)]),(0,a.Wm)(c,{onClick:d.handleCreateTicket,class:"btn-submit",label:"Finalizar aposta",loading:r.loading.submit},null,8,["onClick","loading"])])])])),_:1},8,["visible"]),(0,a.Wm)(y,{visible:r.showNumberInterval,"onUpdate:visible":t[8]||(t[8]=e=>r.showNumberInterval=e),modal:"",header:"Insira um intervalo",style:{width:"250px"}},{default:(0,a.w5)((()=>[(0,a._)("div",Oe,[(0,a.Wm)(_,{modelValue:r.initialNumber,"onUpdate:modelValue":t[5]||(t[5]=e=>r.initialNumber=e),inputmode:"numeric",mode:"decimal",min:0,max:r.modality_rule?.numeroMaximo},null,8,["modelValue","max"]),Ke,(0,a.Wm)(_,{modelValue:r.finalNumber,"onUpdate:modelValue":t[6]||(t[6]=e=>r.finalNumber=e),inputmode:"numeric",mode:"decimal",min:0,max:r.modality_rule?.numeroMaximo},null,8,["modelValue","max"]),(0,a.Wm)(c,{class:"submit-btn",onClick:t[7]||(t[7]=e=>d.handleInsertInterval()),label:"Confirmar"})])])),_:1},8,["visible"]),(0,a._)("div",Fe,[(0,a._)("div",He,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.lotteries,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{onClick:t=>d.stepTwo(e),class:"modality-item",key:t},[(0,a._)("img",{class:"flag",src:i(87537)(`./${d.getLotteryFlag(e.display_name)}.png`)},null,8,Je),(0,a._)("span",Qe,(0,o.zw)(e.name),1)],8,Ye)))),128))])]),(0,a._)("div",Xe,[(0,a._)("div",et,[(0,a._)("button",{onClick:t[9]||(t[9]=e=>d.backToStepOne()),class:"btn-return"},it),(0,a._)("span",at,(0,o.zw)(r.selectedLottery?.name),1)]),r.loading.modalities?((0,a.wg)(),(0,a.j4)(f,{key:0})):((0,a.wg)(),(0,a.iD)("div",st,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.modalities,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{onClick:t=>d.stepThree(e),style:(0,o.j5)(`border-left: solid ${e.color} 2px;`),class:"modality-item",key:t},[(0,a._)("div",lt,(0,o.zw)(e.shortname),1),(0,a._)("span",nt,(0,o.zw)(e.name),1)],12,ot)))),128))]))]),(0,a._)("div",rt,[(0,a._)("div",dt,[(0,a._)("button",{onClick:t[10]||(t[10]=e=>d.backToStepTwo()),class:"btn-return"},ht),(0,a._)("span",mt,(0,o.zw)(r.selectedModality?.name),1)]),(0,a._)("div",pt,[(0,a._)("div",ut,[(0,a._)("button",{class:"btn-talao",onClick:t[11]||(t[11]=e=>d.handleAddPalpiteTalao())}," Nº talão "+(0,o.zw)(this.$store.getters.getTalao),1),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[12]||(t[12]=e=>d.toggleShowNumberInterval()),class:"btn-action"},_t)),[[v,"Inserir intervalo de números"]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[13]||(t[13]=e=>d.handleAddRandomPalpite()),class:"btn-action"},ft)),[[v,"Palpite aleatório"]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{onClick:t[14]||(t[14]=e=>d.handleRemoveAllPalpites()),class:"btn-action"},vt)),[[v,"Remover palpites"]])]),r.selectedModality&&!r.selectedModality.initials.includes("milhar")?((0,a.wg)(),(0,a.iD)("div",wt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.positions,((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{key:t,style:(0,o.j5)(r.selectedPositions.includes(e)?"background: var(--app-primary-color); border: none;":""),class:"btn-action",onClick:t=>d.handleSelectPosition(e)},["Esquerda"==e?((0,a.wg)(),(0,a.iD)("span",Ct,"E")):(0,a.kq)("",!0),"Meio"==e?((0,a.wg)(),(0,a.iD)("span",Dt,"M")):(0,a.kq)("",!0),"Direita"==e?((0,a.wg)(),(0,a.iD)("span",Mt,"D")):(0,a.kq)("",!0)],12,kt)),[[v,e]]))),128))])):(0,a.kq)("",!0),r.selectedModality&&!["grupo_par","grupo_impar"].includes(r.selectedModality.initials)?((0,a.wg)(),(0,a.iD)("form",{key:1,style:{display:"flex",gap:"10px",width:"100%",height:"60px"},onSubmit:t[18]||(t[18]=(0,l.iM)((e=>d.handleAddPalpite()),["prevent"]))},[(0,a.Wm)(b,{style:{width:"100%"},onClick:t[15]||(t[15]=e=>d.toggleSelectAnimal()),inputmode:"numeric",onInput:d.handleInputPalpite,modelValue:r.palpite,"onUpdate:modelValue":t[16]||(t[16]=e=>r.palpite=e),placeholder:"Insira um palpite"},null,8,["onInput","modelValue"]),(0,a._)("button",{onClick:t[17]||(t[17]=e=>d.handleAddPalpite()),class:"btn-add-palpite"},Tt)],32)):(0,a.kq)("",!0),r.palpites.length>0?((0,a.wg)(),(0,a.iD)("div",At,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.palpites,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{key:t,class:"palpite",onClick:e=>d.handleRemovePalpite(t)},(0,o.zw)(e),9,St)))),128)),(0,a._)("span",null,"("+(0,o.zw)(r.palpites.length)+")",1)])):(0,a.kq)("",!0)]),(0,a.Wm)(c,{onClick:t[19]||(t[19]=e=>d.stepFour()),class:"btn-submit",label:"Próximo >",style:{width:"100%"}})]),(0,a._)("div",qt,[(0,a._)("div",zt,[(0,a._)("button",{onClick:t[20]||(t[20]=e=>d.backToStepTwo()),class:"btn-return"},Gt),Pt]),(0,a._)("div",Vt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.awards,((i,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"award-container",key:s},[(0,a._)("div",Et,(0,o.zw)(i.name),1),(0,a.Wm)(u,(0,a.dG)({class:"money-input",onKeyup:t[21]||(t[21]=(0,l.D2)((t=>e.hideKeyboard(".money-input")),["enter"])),modelValue:i.value,"onUpdate:modelValue":e=>i.value=e},r.moneyconfig),null,16,["modelValue","onUpdate:modelValue"])])))),128)),r.showAllAwards?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[22]||(t[22]=e=>d.teste()),class:"btn-show"}," Mostrar mais prêmios "))]),(0,a.Wm)(c,{class:"btn-submit",onClick:t[23]||(t[23]=e=>d.validateGame()),label:"Adicionar aposta"})])])}var Rt=i(79692),Nt=i(91937),Lt={name:"Checkbox",inheritAttrs:!1,emits:["click","update:modelValue","change","input"],props:{value:null,modelValue:null,binary:Boolean,class:null,style:null,trueValue:{type:null,default:!0},falseValue:{type:null,default:!1}},data(){return{focused:!1}},methods:{onClick(e){if(!this.$attrs.disabled){let t;t=this.binary?this.checked?this.falseValue:this.trueValue:this.checked?this.modelValue.filter((e=>!Nt.gb.equals(e,this.value))):this.modelValue?[...this.modelValue,this.value]:[this.value],this.$emit("click",e),this.$emit("update:modelValue",t),this.$emit("change",e),this.$emit("input",t),this.$refs.input.focus()}},onFocus(){this.focused=!0},onBlur(){this.focused=!1}},computed:{checked(){return this.binary?this.modelValue===this.trueValue:Nt.gb.contains(this.value,this.modelValue)},containerClass(){return["p-checkbox p-component",this.class,{"p-checkbox-checked":this.checked,"p-checkbox-disabled":this.$attrs.disabled,"p-checkbox-focused":this.focused}]}}};const Ut={class:"p-hidden-accessible"},Zt=["checked","value"],Bt=["aria-checked"];function jt(e,t,i,s,l,n){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(n.containerClass),onClick:t[2]||(t[2]=e=>n.onClick(e)),style:(0,o.j5)(i.style)},[(0,a._)("div",Ut,[(0,a._)("input",(0,a.dG)({ref:"input",type:"checkbox",checked:n.checked,value:i.value},e.$attrs,{onFocus:t[0]||(t[0]=(...e)=>n.onFocus&&n.onFocus(...e)),onBlur:t[1]||(t[1]=(...e)=>n.onBlur&&n.onBlur(...e))}),null,16,Zt)]),(0,a._)("div",{ref:"box",class:(0,o.C_)(["p-checkbox-box",{"p-highlight":n.checked,"p-disabled":e.$attrs.disabled,"p-focus":l.focused}]),role:"checkbox","aria-checked":n.checked},[(0,a._)("span",{class:(0,o.C_)(["p-checkbox-icon",{"pi pi-check":n.checked}])},null,2)],10,Bt)],6)}Lt.render=jt;var Wt=i(81937),Ot={name:"TradicionalSteps",components:{Dialog:ue.Z,Button:ae.Z,InputText:oe.Z,InputNumber:se.Z,SelectAnimal:de.Z,Sidebar:ie.Z,MultiSelect:me.Z,Dropdown:he.Z,Spinner:Rt.Z,Checkbox:Lt,Divider:Wt.Z},data(){return{showBonus:!1,showAllAwards:!1,showSelectAnimal:!1,showTicket:!1,showNumberInterval:!1,bonusValue:0,initialNumber:null,finalNumber:null,games:[],palpites:[],palpitesInseridos:[],lotteries:[],modalities:[],quotedBets:[],awards:[],extractions:[],positions:["Esquerda","Meio","Direita"],selectedExtractions:[],selectedPositions:[],selectedModality:null,selectedLottery:null,palpite:"",modality_rule:null,loading:{modalities:!1,lotteries:!1,quotedBets:!1,submit:!1},sortedModalities:[{name:"Grupo",shortname:"G",color:"limegreen"},{name:"Grupo salteado",shortname:"GS",color:"limegreen"},{name:"Milhar de ouro",shortname:"MO",color:"#ff3535"},{name:"Milhar e Centena",shortname:"MC",color:"#ff3535"},{name:"Milhar",shortname:"M",color:"#ff3535"},{name:"Centena",shortname:"C",color:"#00a2ff"},{name:"Duque de Dezena",shortname:"DDZ",color:"orange"},{name:"Duque de Dezena Combinado",shortname:"DDZC",color:"orange"},{name:"DD c/ repetição",shortname:"DDCR",color:"orange"},{name:"DD Combinado c/ Repetição",shortname:"DDZC",color:"orange"},{name:"Terno de Dezena",shortname:"TDZ",color:"orange"},{name:"Terno de Dezena Combinado",shortname:"TDZC",color:"orange"},{name:"TDZ c/ repetição",shortname:"TDZCR",color:"orange"},{name:"TDZ Combinado c/ repetição",shortname:"TDZCR",color:"orange"},{name:"Dezena",shortname:"D",color:"orange"},{name:"Duque de Grupo",shortname:"DG",color:"limegreen"},{name:"Duque de Grupo Combinado",shortname:"DGC",color:"limegreen"},{name:"DG c/ repetição",shortname:"DGCR",color:"limegreen"},{name:"DG Combinado c/ Repetição",shortname:"DGCR",color:"limegreen"},{name:"Terno de Grupo",shortname:"TG",color:"limegreen"},{name:"Terno de Grupo Combinado",shortname:"TGC",color:"limegreen"},{name:"Terno de Grupo chaveado",shortname:"TGC",color:"limegreen"},{name:"TG c/ repetição",shortname:"TGCR",color:"limegreen"},{name:"TG Combinado c/ repetição",shortname:"TGCR",color:"limegreen"},{name:"Milhar e centena Invertida",shortname:"MCI",color:"#ff3535"},{name:"Milhar Invertida",shortname:"MI",color:"#ff3535"},{name:"Centena Invertida",shortname:"CI",color:"#00a2ff"},{name:"Milhar aproximada",shortname:"MA",color:"#ff3535"},{name:"Milhar vai e volta",shortname:"MVV",color:"#ff3535"},{name:"MCITDC",shortname:"M",color:"#ff3535"},{name:"MCIDDC",shortname:"M",color:"#ff3535"},{name:"Centena aproximada",shortname:"CA",color:"#00a2ff"},{name:"Centena vai e volta",shortname:"CVV",color:"#00a2ff"},{name:"CITDC",shortname:"C",color:"#00a2ff"},{name:"CIDDC",shortname:"C",color:"#00a2ff"},{name:"Dezena Invertida",shortname:"DI",color:"orange"},{name:"Grupo par",shortname:"GP",color:"limegreen"},{name:"Grupo impar",shortname:"GI",color:"limegreen"},{name:"Passe",shortname:"P",color:"yellow"},{name:"Passe de ida",shortname:"PI",color:"yellow"},{name:"Passe de ida e volta",shortname:"PIV",color:"yellow"},{name:"Passe especial",shortname:"PE",color:"yellow"},{name:"Passe especial combinado",shortname:"PEC",color:"yellow"}],moneyconfig:{masked:!1,prefix:"R$ ",suffix:"",thousands:".",decimal:",",precision:2,disableNegative:!1,disabled:!1,min:null,max:null,allowBlank:!1,minimumNumberOfCharacters:0}}},mounted(){this.refreshTalao(),this.loadLotteries(),this.loadQuotedBets();var e=this.$store.getters.getRepeatTicket;if(e){var t=[];for(let a=0;a<e.ticket.games.length;a++)if("Milhar Brinde"!=e.ticket.games[a].modality_name){var i={ref:Math.floor(Date.now()*Math.random()),lottery_name:"Tradicional",region_id:this.loggedUser().region_id,point_id:this.loggedUser().point_id,point_name:this.loggedUser().point_name,product_id:1,lottery_id:2,modalidade:e.ticket.games[a].modality_name,modality_id:e.ticket.games[a].modality_id,award_name:e.ticket.games[a].award.name,award_internal:e.ticket.games[a].award.internal_name,valor:e.ticket.games[a].value,palpites:JSON.parse(e.ticket.games[a].selected_numbers),positions:JSON.parse(e.ticket.games[a].selected_positions)};t.push(i)}this.games=t,this.loadExtractions(),this.selectedExtractions=e.extractions,this.$store.dispatch("setRepeatTicket",{repeat_ticket:null})}},watch:{showBonus:function(){this.bonusValue=0},selectedLottery:function(){this.selectedLottery&&(this.loadModalities(),this.loadExtractions())},editGame:function(){this.editGame&&this.loadLotteries()},selectedModality:function(){this.selectedModality&&(this.palpites=[],this.palpite="",this.selectedPositions=["Direita"],this.modality_rule=this.getModalityRule(this.selectedModality.definition),this.positions=this.modality_rule.positions,this.loadAwards(),this.repetirPalpites())}},methods:{getLotteryFlag(e){switch(e){case"PT-RIO":return"RJ";case"LK":return"GO";case"BA":case"BA - MALUCA":return"BA";case"SP":return"SP";case"LN":return"BR";case"MG":return"MG";default:return"RJ"}},toggleTicket(){this.showTicket=!this.showTicket},backToStepOne(){this.showAllAwards=!1,document.querySelector(".step-one").style.display="flex",document.querySelector(".step-two").style.display="none",document.querySelector(".step-three").style.display="none",document.querySelector(".step-four").style.display="none"},backToStepTwo(){this.showAllAwards=!1,document.querySelector(".step-one").style.display="none",document.querySelector(".step-two").style.display="flex",document.querySelector(".step-three").style.display="none",document.querySelector(".step-four").style.display="none"},stepTwo(e){this.showAllAwards=!1,this.selectedLottery=e,document.querySelector(".step-one").style.display="none",document.querySelector(".step-two").style.display="flex",document.querySelector(".step-three").style.display="none",document.querySelector(".step-four").style.display="none"},stepThree(e){this.showAllAwards=!1,this.selectedModality=e,document.querySelector(".step-one").style.display="none",document.querySelector(".step-two").style.display="none",document.querySelector(".step-three").style.display="flex",document.querySelector(".step-four").style.display="none"},stepFour(){this.showAllAwards=!1,["grupo_par","grupo_impar"].includes(this.selectedModality.initials)||0!=this.palpites.length?0!=this.selectedPositions.length?(document.querySelector(".step-one").style.display="none",document.querySelector(".step-two").style.display="none",document.querySelector(".step-three").style.display="none",document.querySelector(".step-four").style.display="flex"):this.$toast.add({severity:"error",summary:"Erro",detail:"Você não selecionou nenhum lado",life:3e3}):this.$toast.add({severity:"error",summary:"Erro",detail:"Você não adicionou nenhum palpite",life:3e3})},toggleShowNumberInterval(){this.selectedModality&&(this.initialNumber=null,this.finalNumber=null,this.showNumberInterval=!this.showNumberInterval)},teste(){this.showAllAwards=!0,this.loadAwards()},toggleSelectAnimal(){this.selectedModality&&"grupo"==this.selectedModality.initials&&(this.showSelectAnimal=!this.showSelectAnimal)},loadLotteries(){this.loading.lotteries=!0,this.$api.get("/lotteries/",{headers:{Authorization:this.accessToken()}}).then((e=>{this.lotteries=e.data,this.loading.lotteries=!1})).catch((e=>{console.log(e),this.loading.lotteries=!1}))},loadQuotedBets(){this.$api.get("/quoted_bets",{headers:{Authorization:this.accessToken()}}).then((e=>{this.quotedBets=e.data}))},loadModalities(){this.loading.modalities=!0,this.$api.get("/modalities",{headers:{Authorization:this.accessToken()},params:{region_id:this.loggedUser().region_id,region_search:this.loggedUser().region_id,lottery_search:this.selectedLottery.id,lottery_id:this.selectedLottery.id}}).then((e=>{let t=e.data,i=[],a=[],s={...t.find((e=>"duque_dezena"==e.initials.toLowerCase()))??{}};s.name="Duque de Dezena Combinado",s.definition="duque_dezena_combinado";let o={...t.find((e=>"duque_grupo"==e.initials.toLowerCase()))??{}};o.name="Duque de Grupo Combinado",o.definition="duque_grupo_combinado";let l={...t.find((e=>"terno_dezena"==e.initials.toLowerCase()))??{}};l.name="Terno de Dezena Combinado",l.definition="terno_dezena_combinado";let n={...t.find((e=>"terno_grupo"==e.initials.toLowerCase()))??{}};n.name="Terno de Grupo Combinado",n.definition="terno_grupo_combinado";let r={...t.find((e=>"duque_dezena_repeticao"==e.initials.toLowerCase()))??{}};r.name="DD Combinado c/ Repetição",r.definition="duque_dezena_combinado_repeticao";let d={...t.find((e=>"terno_dezena_repeticao"==e.initials.toLowerCase()))??{}};d.name="TDZ Combinado c/ Repetição",d.definition="terno_dezena_combinado_repeticao";let c={...t.find((e=>"duque_grupo_repeticao"==e.initials.toLowerCase()))??{}};c.name="DG Combinado c/ Repetição",c.definition="duque_grupo_combinado_repeticao";let h={...t.find((e=>"terno_grupo_repeticao"==e.initials.toLowerCase()))??{}};h.name="TG Combinado c/ Repetição",h.definition="terno_grupo_combinado_repeticao",t.push(s),t.push(o),t.push(l),t.push(n),t.push(r),t.push(d),t.push(c),t.push(h),this.sortedModalities.forEach((e=>{let a=t.find((t=>t.name.toLowerCase()==e.name.toLowerCase()));a&&(a.shortname=e.shortname,a.color=e.color,i.push(a))})),a=t.filter((e=>!i.includes(e))),this.modalities=i.concat(a),this.loading.modalities=!1})).catch((e=>{console.log(e),this.loading.modalities=!1}))},loadAwards(){this.awards=[],this.loading.awards=!0,this.$api.get("/awards/awardsByModality",{headers:{Authorization:this.accessToken()},params:{modality_id:this.selectedModality.id}}).then((e=>{this.showAllAwards?this.awards=e.data:this.awards=e.data.filter((e=>this.modality_rule.main_awards.includes(e.internal_name))),this.loading.awards=!1})).catch((e=>{console.log(e),this.loading.awards=!1}))},loadExtractions(){this.loading.extractions=!0,this.$api.get("/extraction",{headers:{Authorization:this.accessToken()},params:{lottery_search:this.selectedLottery?.id??2}}).then((e=>{this.loading.extractions=!1,this.extractions=e.data})).catch((e=>{this.loading.extractions=!1,console.log(e)}))},handleSelectPosition(e){this.selectedPositions.includes(e)?this.selectedPositions.splice(this.selectedPositions.indexOf(e),1):this.selectedPositions.push(e)},handleRemoveGame(e){this.games=this.games.filter(((t,i)=>i!=e))},handleEditGame(e){if(0!=this.modalities.length){var t=this.modalities.find((t=>t.name==e.modalidade));this.selectedModality={...t},this.selectedPositions=[...e.positions],this.stepThree(t),this.toggleTicket(),this.games=this.games.filter((t=>t.ref!=e.ref)),setTimeout((()=>{this.palpites=[...e.palpites]}),1e3)}else this.$toast.add({severity:"error",summary:"Erro",detail:"Selecione uma loteria antes de editar esse palpite",life:3e3})},handleSelectExtraction(e){this.selectedExtractions.includes(e)?this.selectedExtractions.splice(this.selectedExtractions.indexOf(e),1):this.selectedExtractions.push(e)},handleInputPalpite(){switch(this.palpite=this.palpite.replace(/[^0-9]/g,""),this.selectedModality.initials){case"grupo":this.palpite=this.palpite.replace(/([2][6-9])|([3-9][0-9])/g,"");break;case"terno_grupo":case"terno_grupo_repeticao":case"terno_grupo_chaveado":case"duque_grupo":case"passe":case"duque_grupo_repeticao":case"passe_ida":case"passe_ida_volta":case"passe_especial":case"passe_especial_combinado":this.palpite.length%2===0&&(this.palpite=this.palpite.match(/(0[1-9]|1\d|2[0-5])/g).join("-"));break;case"terno_dezena":case"terno_dezena_repeticao":case"duque_dezena":case"duque_dezena_repeticao":case"esquerda_meia_direita":this.palpite.length%2===0&&(this.palpite=this.palpite.match(/\d{2}/g).join("-"));break;default:break}this.palpite.length>=this.modality_rule.maximoDigitos&&this.handleAddPalpite()},handleAddPalpite(){if(this.palpite.length>=this.modality_rule.minimoDigitos){switch(this.$store.dispatch("refreshUserActivityTime"),this.selectedModality.initials){case"terno_grupo":case"terno_grupo_repeticao":case"terno_grupo_chaveado":case"duque_grupo":case"passe":case"passe_ida":case"passe_ida_volta":case"passe_especial":case"passe_especial_combinado":this.palpite=this.palpite.match(/(0[1-9]|1\d|2[0-5])/g).join("-");break;case"terno_dezena":case"terno_dezena_repeticao":case"duque_dezena":case"duque_dezena_repeticao":case"esquerda_meia_direita":this.palpite=this.palpite.match(/\d{2}/g).join("-");break;default:break}const e=this.quotedBets.some((e=>this.isQuoted(e.initials,this.selectedModality.initials,e.number,this.palpite)));e?this.$confirm.require({message:"Esse palpite está cotado, deseja prosseguir?",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{this.palpites.push(this.palpite),this.palpite=""},reject:()=>{this.palpite=""}}):(this.palpites.push(this.palpite),this.palpite="")}},handleAddPalpiteTalao(){this.selectedModality&&(this.palpite=this.generatePalpiteTalao(this.selectedModality.initials),this.handleAddPalpite())},handleAddRandomPalpite(){this.selectedModality&&(this.palpite=this.generatePalpite(this.selectedModality.initials),this.handleAddPalpite())},handleRemovePalpite(e){this.palpites=this.palpites.filter(((t,i)=>i!=e))},handleRemoveAllPalpites(){this.palpites=[]},setAnimal(e){const t=this.palpites.find((t=>t==e.item));t?this.palpites=this.palpites.filter((t=>t!=e.item)):(this.palpite=e.item,this.handleAddPalpite())},repetirPalpites(){if(this.palpites.length>0)return;let e=[];switch(this.selectedModality.initials){case"milhar_centena":case"milhar":case"milhar_invertida":case"milhar_centena_invertida":case"milhar_ouro":this.palpitesInseridos.forEach((t=>{t.length>=4&&!t.includes("-")&&e.push(t.substr(-4))})),this.palpites=e;break;case"centena":case"centena_invertida":this.palpitesInseridos.forEach((t=>{t.length>=3&&!t.includes("-")&&e.push(t.substr(-3))})),this.palpites=e;break;case"duque_dezena":this.palpitesInseridos.forEach((t=>{t.length>=4&&(t.includes("-")?e.push(t):e.push(t.substr(-4).slice(0,2)+"-"+t.substr(-4).slice(2)))})),this.palpites=e;break;case"dezena":this.palpitesInseridos.forEach((t=>{t.includes("-")||e.push(t.substr(-2))})),this.palpites=e;break;default:break}},handleInsertInterval(){if(!this.selectedModality)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Selecione uma modalidade",life:3e3});if("number"!==typeof this.initialNumber||"number"!==typeof this.finalNumber)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Entrada inválida",life:3e3});if(this.initialNumber>this.finalNumber)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Intervalo inválido.",life:3e3});let e=[];for(let t=this.initialNumber;t<=this.finalNumber;t++)["milhar","milhar_invertida","milhar_centena","milhar_centena_invertida","milhar_vai_volta","milhar_aproximada","milhar_ouro","mcitdc","mciddc"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-4)),["centena","centena_invertida","centena_vai_volta","centena_aproximada","citdc","ciddc"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-3)),["dezena","dezena_invertida","grupo"].includes(this.selectedModality.initials)&&this.palpites.push(("0000"+t).substr(-2)),e.push(("0000"+t).substr(-2));if(["duque_dezena","duque_dezena_repeticao","terno_dezena","terno_dezena_repeticao","duque_grupo","passe","duque_grupo_repeticao","terno_grupo","terno_grupo_repeticao"].includes(this.selectedModality.initials)){if(e.join("-").length<this.modality_rule.minimoDigitos)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Intervalo inválido.",life:3e3});this.palpites.push(e.join("-"))}this.toggleShowNumberInterval()},validateGame(){for(let e=0;e<this.awards.length;e++)if(this.awards[e].value>=100)return void this.$confirm.require({message:"O valor inserido é igual ou superior a R$ 100,00. Deseja prosseguir?",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{this.handleAddGame()}});this.handleAddGame()},handleAddGame(){let e=this.awards.filter((e=>e.value>=.1));var t=[];for(let o=0;o<e.length;o++){var i=[...this.selectedPositions],a=this.getModalityRule(this.selectedModality.definition,e[o].name);const l=i.find((e=>!a.positions.includes(e)));l&&(i=["Direita"]);var s={ref:Math.floor(Date.now()*Math.random()),lottery_name:"Tradicional",numero_talao:this.$store.getters.getTalao,region_id:this.loggedUser().region_id,point_id:this.loggedUser().point_id,point_name:this.loggedUser().point_name,lottery_id:this.selectedLottery.id,product_id:1,modalidade:this.selectedModality.name,modality_id:this.selectedModality.id,modality_cotation:this.selectedModality.default_cotation,award_name:e[o].name,award_internal:e[o].internal_name,valor:e[o].value,palpites:this.palpites,positions:[...i]};t.push(s)}this.games=[...this.games,...t],this.$toast.add({severity:"success",summary:"Sucesso",detail:"Palpite adicionado ao bilhete!",life:3e3}),"milhar"!=this.selectedModality.initials&&"centena"!=this.selectedModality.initials&&"centena_invertida"!=this.selectedModality.initials&&"milhar_invertida"!=this.selectedModality.initials&&"milhar_centena"!=this.selectedModality.initials&&"dezena"!=this.selectedModality.initials&&"milhar_centena_invertida"!=this.selectedModality.initials&&"milhar_ouro"!=this.selectedModality.initials&&"terno_dezena"!=this.selectedModality.initials||(this.palpitesInseridos=this.palpites),this.backToStepTwo(),this.palpites=[]},handleCreateTicket(){if(0==this.games.length)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Você não adicionou nenhum palpite.",life:5e3});if(0==this.selectedExtractions.length)return void this.$toast.add({severity:"error",summary:"Erro",detail:"Você não selecionou nenhuma extração.",life:5e3});if(parseFloat(this.bonusValue)>parseFloat(this.$store.getters.getBonusBalance))return void this.$toast.add({severity:"error",summary:"Erro",detail:"Valor de bônus inválido.",life:5e3});let e=[];for(let t=0;t<this.games.length;t++)for(let i=0;i<this.selectedExtractions.length;i++)e.push({...this.games[t],ref:Math.floor(Date.now()*Math.random()),bonusValue:this.bonusValue,loteria:this.selectedExtractions[i].name,extraction:this.selectedExtractions[i].id});this.loading.submit=!0,this.$api.post("/tickets",{tickets:e},{headers:{Authorization:this.accessToken()}}).then((e=>{this.loading.submit=!1,this.$toast.add({severity:"success",summary:"Sucesso",detail:"Aposta concluída com sucesso!",life:3e3}),this.games=[],this.$store.dispatch("setTicket",{ticket:e.data}),this.loadBalance(),this.loggedUser().online?this.$router.push({name:"history",path:"/history"}):this.$router.push({name:"betOverview",path:"/betOverview"})})).catch((e=>{this.loading.submit=!1,this.$toast.add({severity:"error",summary:"Erro",detail:e.response.data.error,life:15e3})}))}}};const Kt=(0,_e.Z)(Ot,[["render",$t],["__scopeId","data-v-3e2c211e"]]);var Ft=Kt,Ht={components:{TradicionalStandard:fe,TradicionalSteps:Ft}};const Yt=(0,_e.Z)(Ht,[["render",s]]);var Jt=Yt},87537:function(e,t,i){var a={"./AC.png":49131,"./AL.png":63011,"./AM.png":14481,"./AP.png":89945,"./BA.png":67414,"./BR.png":22561,"./CE.png":60539,"./DF.png":56459,"./ES.png":95287,"./GO.png":10461,"./MA.png":67999,"./MG.png":14914,"./MS.png":34024,"./MT.png":69611,"./PA.png":60656,"./PB.png":99670,"./PE.png":75413,"./PI.png":7064,"./PR.png":50638,"./RJ.png":38103,"./RN.png":80683,"./RO.png":69509,"./RR.png":21176,"./RS.png":51078,"./SC.png":16398,"./SE.png":13077,"./SP.png":72615,"./TO.png":88454};function s(e){var t=o(e);return i(t)}function o(e){if(!i.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=o,e.exports=s,s.id=87537}}]);
//# sourceMappingURL=191.6ad48e88.js.map